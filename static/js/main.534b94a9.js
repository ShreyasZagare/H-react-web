/*! For license information please see main.534b94a9.js.LICENSE.txt */
!function(){var e={4569:function(e,t,n){e.exports=n(8036)},3381:function(e,t,n){"use strict";var r=n(3589),i=n(7297),u=n(9301),a=n(9774),o=n(1804),s=n(9145),c=n(5411),l=n(6467);e.exports=function(e){return new Promise((function(t,n){var f=e.data,h=e.headers,d=e.responseType;r.isFormData(f)&&delete h["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var v=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";h.Authorization="Basic "+btoa(v+":"+m)}var y=o(e.baseURL,e.url);function g(){if(p){var r="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,u={data:d&&"text"!==d&&"json"!==d?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};i(t,n,u),p=null}}if(p.open(e.method.toUpperCase(),a(y,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(n(l("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(l("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var k=(e.withCredentials||c(y))&&e.xsrfCookieName?u.read(e.xsrfCookieName):void 0;k&&(h[e.xsrfHeaderName]=k)}"setRequestHeader"in p&&r.forEach(h,(function(e,t){"undefined"===typeof f&&"content-type"===t.toLowerCase()?delete h[t]:p.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),d&&"json"!==d&&(p.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),n(e),p=null)})),f||(f=null),p.send(f)}))}},8036:function(e,t,n){"use strict";var r=n(3589),i=n(4049),u=n(3773),a=n(777);function o(e){var t=new u(e),n=i(u.prototype.request,t);return r.extend(n,u.prototype,t),r.extend(n,t),n}var s=o(n(221));s.Axios=u,s.create=function(e){return o(a(s.defaults,e))},s.Cancel=n(9346),s.CancelToken=n(6857),s.isCancel=n(5517),s.all=function(e){return Promise.all(e)},s.spread=n(8089),s.isAxiosError=n(9580),e.exports=s,e.exports.default=s},9346:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},6857:function(e,t,n){"use strict";var r=n(9346);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),i=n(9774),u=n(7470),a=n(2733),o=n(777),s=n(7835),c=s.validators;function l(e){this.defaults=e,this.interceptors={request:new u,response:new u}}l.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=o(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&s.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean,"1.0.0"),forcedJSONParsing:c.transitional(c.boolean,"1.0.0"),clarifyTimeoutError:c.transitional(c.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!r){var l=[a,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(u),i=Promise.resolve(e);l.length;)i=i.then(l.shift(),l.shift());return i}for(var f=e;n.length;){var h=n.shift(),d=n.shift();try{f=h(f)}catch(p){d(p);break}}try{i=a(f)}catch(p){return Promise.reject(p)}for(;u.length;)i=i.then(u.shift(),u.shift());return i},l.prototype.getUri=function(e){return e=o(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(o(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(o(r||{},{method:e,url:t,data:n}))}})),e.exports=l},7470:function(e,t,n){"use strict";var r=n(3589);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},1804:function(e,t,n){"use strict";var r=n(4044),i=n(9549);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},6467:function(e,t,n){"use strict";var r=n(6460);e.exports=function(e,t,n,i,u){var a=new Error(e);return r(a,t,n,i,u)}},2733:function(e,t,n){"use strict";var r=n(3589),i=n(2693),u=n(5517),a=n(221);function o(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return o(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return o(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return u(t)||(o(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},6460:function(e){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],u=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],o=["validateStatus"];function s(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=s(void 0,e[i])):n[i]=s(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=s(void 0,t[e]))})),r.forEach(u,c),r.forEach(a,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=s(void 0,e[i])):n[i]=s(void 0,t[i])})),r.forEach(o,(function(r){r in t?n[r]=s(e[r],t[r]):r in e&&(n[r]=s(void 0,e[r]))}));var l=i.concat(u).concat(a).concat(o),f=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(f,c),n}},7297:function(e,t,n){"use strict";var r=n(6467);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589),i=n(221);e.exports=function(e,t,n){var u=this||i;return r.forEach(n,(function(n){e=n.call(u,e,t)})),e}},221:function(e,t,n){"use strict";var r=n(3589),i=n(4341),u=n(6460),a={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(3381)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(o(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(a){if("SyntaxError"===o.name)throw u(o,this,"E_JSON_PARSE");throw o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){s.headers[e]=r.merge(a)})),e.exports=s},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var u;if(n)u=n(t);else if(r.isURLSearchParams(t))u=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),u=a.join("&")}if(u){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+u}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,u,a){var o=[];o.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),r.isString(i)&&o.push("path="+i),r.isString(u)&&o.push("domain="+u),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},9580:function(e){"use strict";e.exports=function(e){return"object"===typeof e&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},9145:function(e,t,n){"use strict";var r=n(3589),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,u,a={};return e?(r.forEach(e.split("\n"),(function(e){if(u=e.indexOf(":"),t=r.trim(e.substr(0,u)).toLowerCase(),n=r.trim(e.substr(u+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7835:function(e,t,n){"use strict";var r=n(8593),i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var u={},a=r.version.split(".");function o(e,t){for(var n=t?t.split("."):a,r=e.split("."),i=0;i<3;i++){if(n[i]>r[i])return!0;if(n[i]<r[i])return!1}return!1}i.transitional=function(e,t,n){var i=t&&o(t);function a(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new Error(a(r," has been removed in "+t));return i&&!u[r]&&(u[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},e.exports={isOlderVersion:o,assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var u=r[i],a=t[u];if(a){var o=e[u],s=void 0===o||a(o,u,e);if(!0!==s)throw new TypeError("option "+u+" must be "+s)}else if(!0!==n)throw Error("Unknown option "+u)}},validators:i}},3589:function(e,t,n){"use strict";var r=n(4049),i=Object.prototype.toString;function u(e){return"[object Array]"===i.call(e)}function a(e){return"undefined"===typeof e}function o(e){return null!==e&&"object"===typeof e}function s(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function l(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),u(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:u,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:o,isPlainObject:s,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return o(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:l,merge:function e(){var t={};function n(n,r){s(t[r])&&s(n)?t[r]=e(t[r],n):s(n)?t[r]=e({},n):u(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function u(){}u.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,u,a){if(a!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:u,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function u(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,u,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var B,L=Object.assign;function M(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||""}return"\n"+B+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),u=r.stack.split("\n"),a=i.length-1,o=u.length-1;1<=a&&0<=o&&i[a]!==u[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==u[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==u[o]){var s="\n"+i[a].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function V(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case E:return"Portal";case _:return"Profiler";case A:return"StrictMode";case T:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case F:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,u.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(u(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(u(92));if(te(n)){if(1<n.length)throw Error(u(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ue(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(u(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(u(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(u(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(u(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,xe=null,Ae=null;function _e(e){if(e=ki(e)){if("function"!==typeof Ee)throw Error(u(280));var t=e.stateNode;t&&(t=wi(t),Ee(e.stateNode,e.type,t))}}function Ce(e){xe?Ae?Ae.push(e):Ae=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Ae;if(Ae=xe=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Se(e,t){return e(t)}function Te(){}var De=!1;function Fe(e,t,n){if(De)return e(t,n);De=!0;try{return Se(e,t,n)}finally{De=!1,(null!==xe||null!==Ae)&&(Te(),Ie())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(u(231,t,typeof n));return n}var Re=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){Re=!1}function Pe(e,t,n,r,i,u,a,o,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Be=!1,Le=null,Me=!1,Ue=null,je={onError:function(e){Be=!0,Le=e}};function Ve(e,t,n,r,i,u,a,o,s){Be=!1,Le=null,Pe.apply(je,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(u(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(u(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(u(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(u(189))}}if(n.alternate!==r)throw Error(u(190))}if(3!==n.tag)throw Error(u(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ut=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ot(e)/st|0)|0},ot=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,u=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ft(o):0!==(u&=a)&&(r=ft(u))}else 0!==(a=n&~i)?r=ft(a):0!==u&&(r=ft(u));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(u=t&-t)||16===i&&0!==(4194240&u)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,xt,At,_t,Ct=!1,It=[],St=null,Tt=null,Dt=null,Ft=new Map,Nt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Ft.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function Bt(e,t,n,r,i,u){return null===e||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:u,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=gi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void _t(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Mt(e)&&n.delete(t)}function jt(){Ct=!1,null!==St&&Mt(St)&&(St=null),null!==Tt&&Mt(Tt)&&(Tt=null),null!==Dt&&Mt(Dt)&&(Dt=null),Ft.forEach(Ut),Nt.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,jt)))}function qt(e){function t(t){return Vt(t,e)}if(0<It.length){Vt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==St&&Vt(St,e),null!==Tt&&Vt(Tt,e),null!==Dt&&Vt(Dt,e),Ft.forEach(t),Nt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var zt=b.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,r){var i=kt,u=zt.transition;zt.transition=null;try{kt=1,Wt(e,t,n,r)}finally{kt=i,zt.transition=u}}function Kt(e,t,n,r){var i=kt,u=zt.transition;zt.transition=null;try{kt=4,Wt(e,t,n,r)}finally{kt=i,zt.transition=u}}function Wt(e,t,n,r){if(Ht){var i=Yt(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return St=Bt(St,e,t,n,r,i),!0;case"dragenter":return Tt=Bt(Tt,e,t,n,r,i),!0;case"mouseover":return Dt=Bt(Dt,e,t,n,r,i),!0;case"pointerover":var u=i.pointerId;return Ft.set(u,Bt(Ft.get(u)||null,e,t,n,r,i)),!0;case"gotpointercapture":return u=i.pointerId,Nt.set(u,Bt(Nt.get(u)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var u=ki(i);if(null!==u&&wt(u),null===(u=Yt(e,t,n,r))&&Hr(e,t,r,Qt,n),u===i)break;i=u}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,u=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[u-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function un(e){function t(t,n,r,i,u){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=u,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=un(cn),fn=L({},cn,{view:0,detail:0}),hn=un(fn),dn=L({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(an=e.screenX-sn.screenX,on=e.screenY-sn.screenY):on=an=0,sn=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=un(dn),vn=un(L({},dn,{dataTransfer:0})),mn=un(L({},fn,{relatedTarget:0})),yn=un(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=un(gn),bn=un(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function _n(){return An}var Cn=L({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=un(Cn),Sn=un(L({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=un(L({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Dn=un(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Fn=L({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=un(Fn),Rn=[9,13,27,32],On=l&&"CompositionEvent"in window,Pn=null;l&&"documentMode"in document&&(Pn=document.documentMode);var Bn=l&&"TextEvent"in window&&!Pn,Ln=l&&(!On||Pn&&8<Pn&&11>=Pn),Mn=String.fromCharCode(32),Un=!1;function jn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ce(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Wn=null;function Qn(e){Mr(e,0)}function Yn(e){if(W(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Wn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Gn(t,Wn,e,we(e)),Fe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function ur(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,u=Math.min(r.start,i);r=void 0===r.end?u:Math.min(r.end,i),!e.extend&&u>r&&(i=r,r=u,u=i),i=lr(n,u);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),u>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Ar={};function _r(e){if(xr[e])return xr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ar)return xr[e]=n[t];return e}l&&(Ar=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Cr=_r("animationend"),Ir=_r("animationiteration"),Sr=_r("animationstart"),Tr=_r("transitionend"),Dr=new Map,Fr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Dr.set(e,t),s(t,[e])}for(var Rr=0;Rr<Fr.length;Rr++){var Or=Fr[Rr];Nr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Nr(Cr,"onAnimationEnd"),Nr(Ir,"onAnimationIteration"),Nr(Sr,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Br=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,s,c){if(Ve.apply(this,arguments),Be){if(!Be)throw Error(u(198));var l=Le;Be=!1,Le=null,Me||(Me=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var u=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],s=o.instance,c=o.currentTarget;if(o=o.listener,s!==u&&i.isPropagationStopped())break e;Lr(i,o,c),u=s}else for(a=0;a<r.length;a++){if(s=(o=r[a]).instance,c=o.currentTarget,o=o.listener,s!==u&&i.isPropagationStopped())break e;Lr(i,o,c),u=s}}}if(Me)throw e=Ue,Me=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function jr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Br.has(t)||jr(t,!1,e),jr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,jr("selectionchange",!1,t))}}function zr(e,t,n,r){switch($t(t)){case 1:var i=Gt;break;case 4:i=Kt;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var u=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var s=a.tag;if((3===s||4===s)&&((s=a.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=gi(o)))return;if(5===(s=a.tag)||6===s){r=u=a;continue e}o=o.parentNode}}r=r.return}Fe((function(){var r=u,i=we(n),a=[];e:{var o=Dr.get(e);if(void 0!==o){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=In;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Tn;break;case Cr:case Ir:case Sr:s=yn;break;case Tr:s=Dn;break;case"scroll":s=hn;break;case"wheel":s=Nn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Sn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==o?o+"Capture":null:o;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ne(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(o=new s(o,c,null,n,i),a.push({event:o,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=qe(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Sn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?o:bi(s),d=null==c?o:bi(c),(o=new l(v,p+"leave",s,n,i)).target=f,o.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==s&&Qr(a,o,s,l,!1),null!==c&&null!==f&&Qr(a,f,c,l,!0)}if("select"===(s=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===s&&"file"===o.type)var m=$n;else if(Hn(o))if(Xn)m=ar;else{m=ir;var y=rr}else(s=o.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=ur);switch(m&&(m=m(e,r))?Gn(a,m,n,i):(y&&y(e,o,r),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=r?bi(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(a,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else qn?jn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Ln&&"ko"!==n.locale&&(qn||"onCompositionStart"!==k?"onCompositionEnd"===k&&qn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,qn=!0)),0<(y=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),a.push({event:k,listeners:y}),g?k.data=g:null!==(g=Vn(n))&&(k.data=g))),(g=Bn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Un=!0,Mn);case"textInput":return(e=t.data)===Mn&&Un?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!On&&jn(e,t)?(e=en(),Zt=Jt=Xt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g))}Mr(a,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,u=i.stateNode;5===i.tag&&null!==u&&(i=u,null!=(u=Ne(e,n))&&r.unshift(Gr(e,u,i)),null!=(u=Ne(e,t))&&r.push(Gr(e,u,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var u=t._reactName,a=[];null!==n&&n!==r;){var o=n,s=o.alternate,c=o.stateNode;if(null!==s&&s===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(s=Ne(n,u))&&a.unshift(Gr(n,s,o)):i||null!=(s=Ne(n,u))&&a.push(Gr(n,s,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(u(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ui="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ui?function(e){return ui.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(u(33))}function wi(e){return e[di]||null}var Ei=[],xi=-1;function Ai(e){return{current:e}}function _i(e){0>xi||(e.current=Ei[xi],Ei[xi]=null,xi--)}function Ci(e,t){xi++,Ei[xi]=e.current,e.current=t}var Ii={},Si=Ai(Ii),Ti=Ai(!1),Di=Ii;function Fi(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,u={};for(i in n)u[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=u),u}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){_i(Ti),_i(Si)}function Oi(e,t,n){if(Si.current!==Ii)throw Error(u(168));Ci(Si,t),Ci(Ti,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(u(108,z(e)||"Unknown",i));return L({},n,r)}function Bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Di=Si.current,Ci(Si,e),Ci(Ti,Ti.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(u(169));n?(e=Pi(e,t,Di),r.__reactInternalMemoizedMergedChildContext=e,_i(Ti),_i(Si),Ci(Si,e)):_i(Ti),Ci(Ti,n)}var Mi=null,Ui=!1,ji=!1;function Vi(e){null===Mi?Mi=[e]:Mi.push(e)}function qi(){if(!ji&&null!==Mi){ji=!0;var e=0,t=kt;try{var n=Mi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Ui=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),We(Ze,qi),i}finally{kt=t,ji=!1}}return null}var zi=[],Hi=0,Gi=null,Ki=0,Wi=[],Qi=0,Yi=null,$i=1,Xi="";function Ji(e,t){zi[Hi++]=Ki,zi[Hi++]=Gi,Gi=e,Ki=t}function Zi(e,t,n){Wi[Qi++]=$i,Wi[Qi++]=Xi,Wi[Qi++]=Yi,Yi=e;var r=$i;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var u=32-at(t)+i;if(30<u){var a=i-i%5;u=(r&(1<<a)-1).toString(32),r>>=a,i-=a,$i=1<<32-at(t)+i|n<<i|r,Xi=u+e}else $i=1<<u|n<<i|r,Xi=e}function eu(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function tu(e){for(;e===Gi;)Gi=zi[--Hi],zi[Hi]=null,Ki=zi[--Hi],zi[Hi]=null;for(;e===Yi;)Yi=Wi[--Qi],Wi[Qi]=null,Xi=Wi[--Qi],Wi[Qi]=null,$i=Wi[--Qi],Wi[Qi]=null}var nu=null,ru=null,iu=!1,uu=null;function au(e,t){var n=Fc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ou(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,nu=e,ru=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,nu=e,ru=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Fc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,nu=e,ru=null,!0);default:return!1}}function su(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cu(e){if(iu){var t=ru;if(t){var n=t;if(!ou(e,t)){if(su(e))throw Error(u(418));t=ci(n.nextSibling);var r=nu;t&&ou(e,t)?au(r,n):(e.flags=-4097&e.flags|2,iu=!1,nu=e)}}else{if(su(e))throw Error(u(418));e.flags=-4097&e.flags|2,iu=!1,nu=e}}}function lu(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;nu=e}function fu(e){if(e!==nu)return!1;if(!iu)return lu(e),iu=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ru)){if(su(e))throw hu(),Error(u(418));for(;t;)au(e,t),t=ci(t.nextSibling)}if(lu(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(u(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ru=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ru=null}}else ru=nu?ci(e.stateNode.nextSibling):null;return!0}function hu(){for(var e=ru;e;)e=ci(e.nextSibling)}function du(){ru=nu=null,iu=!1}function pu(e){null===uu?uu=[e]:uu.push(e)}var vu=b.ReactCurrentBatchConfig;function mu(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yu=Ai(null),gu=null,ku=null,bu=null;function wu(){bu=ku=gu=null}function Eu(e){var t=yu.current;_i(yu),e._currentValue=t}function xu(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Au(e,t){gu=e,bu=ku=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function _u(e){var t=e._currentValue;if(bu!==e)if(e={context:e,memoizedValue:t,next:null},null===ku){if(null===gu)throw Error(u(308));ku=e,gu.dependencies={lanes:0,firstContext:e}}else ku=ku.next=e;return t}var Cu=null;function Iu(e){null===Cu?Cu=[e]:Cu.push(e)}function Su(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Iu(t)):(n.next=i.next,i.next=n),t.interleaved=n,Tu(e,r)}function Tu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Du=!1;function Fu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ru(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ou(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ss)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Tu(e,n)}return null===(i=r.interleaved)?(t.next=t,Iu(r)):(t.next=i.next,i.next=t),r.interleaved=t,Tu(e,n)}function Pu(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Bu(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,u=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===u?i=u=a:u=u.next=a,n=n.next}while(null!==n);null===u?i=u=t:u=u.next=t}else i=u=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:u,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Lu(e,t,n,r){var i=e.updateQueue;Du=!1;var u=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var s=o,c=s.next;s.next=null,null===a?u=c:a.next=c,a=s;var l=e.alternate;null!==l&&((o=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===o?l.firstBaseUpdate=c:o.next=c,l.lastBaseUpdate=s))}if(null!==u){var f=i.baseState;for(a=0,l=c=s=null,o=u;;){var h=o.lane,d=o.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=L({},f,h);break e;case 2:Du=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else d={eventTime:d,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===u&&(i.shared.lanes=0);Bs|=a,e.lanes=a,e.memoizedState=f}}function Mu(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(u(191,i));i.call(r)}}}var Uu=(new r.Component).refs;function ju(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vu={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),u=Ru(r,i);u.payload=t,void 0!==n&&null!==n&&(u.callback=n),null!==(t=Ou(e,u,i))&&(nc(t,e,i,r),Pu(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),u=Ru(r,i);u.tag=1,u.payload=t,void 0!==n&&null!==n&&(u.callback=n),null!==(t=Ou(e,u,i))&&(nc(t,e,i,r),Pu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Ru(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ou(e,i,r))&&(nc(t,e,r,n),Pu(t,e,r))}};function qu(e,t,n,r,i,u,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,u,a):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,u))}function zu(e,t,n){var r=!1,i=Ii,u=t.contextType;return"object"===typeof u&&null!==u?u=_u(u):(i=Ni(t)?Di:Si.current,u=(r=null!==(r=t.contextTypes)&&void 0!==r)?Fi(e,i):Ii),t=new t(n,u),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vu,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=u),t}function Hu(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vu.enqueueReplaceState(t,t.state,null)}function Gu(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Uu,Fu(e);var u=t.contextType;"object"===typeof u&&null!==u?i.context=_u(u):(u=Ni(t)?Di:Si.current,i.context=Fi(e,u)),i.state=e.memoizedState,"function"===typeof(u=t.getDerivedStateFromProps)&&(ju(e,t,u,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vu.enqueueReplaceState(i,i.state,null),Lu(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ku(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(u(309));var r=n.stateNode}if(!r)throw Error(u(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Uu&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(u(284));if(!n._owner)throw Error(u(290,e))}return e}function Wu(e,t){throw e=Object.prototype.toString.call(t),Error(u(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qu(e){return(0,e._init)(e._payload)}function Yu(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var u=n.type;return u===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===N&&Qu(u)===t.type)?((r=i(t,n.props)).ref=Ku(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Ku(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,u){return null===t||7!==t.tag?((t=Pc(n,e.mode,r,u)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Ku(e,null,t),n.return=e,n;case E:return(t=Mc(t,e.mode,n)).return=e,t;case N:return h(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Pc(t,e.mode,n,null)).return=e,t;Wu(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null;case N:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:f(e,t,n,r,null);Wu(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return f(t,e=e.get(n)||null,r,i,null);Wu(t,r)}return null}function v(i,u,o,s){for(var c=null,l=null,f=u,v=u=0,m=null;null!==f&&v<o.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,o[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),u=a(y,u,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===o.length)return n(i,f),iu&&Ji(i,v),c;if(null===f){for(;v<o.length;v++)null!==(f=h(i,o[v],s))&&(u=a(f,u,v),null===l?c=f:l.sibling=f,l=f);return iu&&Ji(i,v),c}for(f=r(i,f);v<o.length;v++)null!==(m=p(f,i,v,o[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),u=a(m,u,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),iu&&Ji(i,v),c}function m(i,o,s,c){var l=P(s);if("function"!==typeof l)throw Error(u(150));if(null==(s=l.call(s)))throw Error(u(151));for(var f=l=null,v=o,m=o=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),o=a(k,o,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),iu&&Ji(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(o=a(g,o,m),null===f?l=g:f.sibling=g,f=g);return iu&&Ji(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),o=a(g,o,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),iu&&Ji(i,m),l}return function e(r,u,a,s){if("object"===typeof a&&null!==a&&a.type===x&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,l=u;null!==l;){if(l.key===c){if((c=a.type)===x){if(7===l.tag){n(r,l.sibling),(u=i(l,a.props.children)).return=r,r=u;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===N&&Qu(c)===l.type){n(r,l.sibling),(u=i(l,a.props)).ref=Ku(r,l,a),u.return=r,r=u;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===x?((u=Pc(a.props.children,r.mode,s,a.key)).return=r,r=u):((s=Oc(a.type,a.key,a.props,null,r.mode,s)).ref=Ku(r,u,a),s.return=r,r=s)}return o(r);case E:e:{for(l=a.key;null!==u;){if(u.key===l){if(4===u.tag&&u.stateNode.containerInfo===a.containerInfo&&u.stateNode.implementation===a.implementation){n(r,u.sibling),(u=i(u,a.children||[])).return=r,r=u;break e}n(r,u);break}t(r,u),u=u.sibling}(u=Mc(a,r.mode,s)).return=r,r=u}return o(r);case N:return e(r,u,(l=a._init)(a._payload),s)}if(te(a))return v(r,u,a,s);if(P(a))return m(r,u,a,s);Wu(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==u&&6===u.tag?(n(r,u.sibling),(u=i(u,a)).return=r,r=u):(n(r,u),(u=Lc(a,r.mode,s)).return=r,r=u),o(r)):n(r,u)}}var $u=Yu(!0),Xu=Yu(!1),Ju={},Zu=Ai(Ju),ea=Ai(Ju),ta=Ai(Ju);function na(e){if(e===Ju)throw Error(u(174));return e}function ra(e,t){switch(Ci(ta,t),Ci(ea,e),Ci(Zu,Ju),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Zu),Ci(Zu,t)}function ia(){_i(Zu),_i(ea),_i(ta)}function ua(e){na(ta.current);var t=na(Zu.current),n=se(t,e.type);t!==n&&(Ci(ea,e),Ci(Zu,n))}function aa(e){ea.current===e&&(_i(Zu),_i(ea))}var oa=Ai(0);function sa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function la(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var fa=b.ReactCurrentDispatcher,ha=b.ReactCurrentBatchConfig,da=0,pa=null,va=null,ma=null,ya=!1,ga=!1,ka=0,ba=0;function wa(){throw Error(u(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function xa(e,t,n,r,i,a){if(da=a,pa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fa.current=null===e||null===e.memoizedState?ao:oo,e=n(r,i),ga){a=0;do{if(ga=!1,ka=0,25<=a)throw Error(u(301));a+=1,ma=va=null,t.updateQueue=null,fa.current=so,e=n(r,i)}while(ga)}if(fa.current=uo,t=null!==va&&null!==va.next,da=0,ma=va=pa=null,ya=!1,t)throw Error(u(300));return e}function Aa(){var e=0!==ka;return ka=0,e}function _a(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ma?pa.memoizedState=ma=e:ma=ma.next=e,ma}function Ca(){if(null===va){var e=pa.alternate;e=null!==e?e.memoizedState:null}else e=va.next;var t=null===ma?pa.memoizedState:ma.next;if(null!==t)ma=t,va=e;else{if(null===e)throw Error(u(310));e={memoizedState:(va=e).memoizedState,baseState:va.baseState,baseQueue:va.baseQueue,queue:va.queue,next:null},null===ma?pa.memoizedState=ma=e:ma=ma.next=e}return ma}function Ia(e,t){return"function"===typeof t?t(e):t}function Sa(e){var t=Ca(),n=t.queue;if(null===n)throw Error(u(311));n.lastRenderedReducer=e;var r=va,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var s=o=null,c=null,l=a;do{var f=l.lane;if((da&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,o=r):c=c.next=h,pa.lanes|=f,Bs|=f}l=l.next}while(null!==l&&l!==a);null===c?o=r:c.next=s,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,pa.lanes|=a,Bs|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ta(e){var t=Ca(),n=t.queue;if(null===n)throw Error(u(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Da(){}function Fa(e,t){var n=pa,r=Ca(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,za(Oa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ma&&1&ma.memoizedState.tag){if(n.flags|=2048,Ma(9,Ra.bind(null,n,r,i,t),void 0,null),null===Ts)throw Error(u(349));0!==(30&da)||Na(n,t,i)}return i}function Na(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ra(e,t,n,r){t.value=n,t.getSnapshot=r,Pa(t)&&Ba(e)}function Oa(e,t,n){return n((function(){Pa(t)&&Ba(e)}))}function Pa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ba(e){var t=Tu(e,1);null!==t&&nc(t,e,1,-1)}function La(e){var t=_a();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ia,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,pa,e),[t.memoizedState,e]}function Ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ua(){return Ca().memoizedState}function ja(e,t,n,r){var i=_a();pa.flags|=e,i.memoizedState=Ma(1|t,n,void 0,void 0===r?null:r)}function Va(e,t,n,r){var i=Ca();r=void 0===r?null:r;var u=void 0;if(null!==va){var a=va.memoizedState;if(u=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Ma(t,n,u,r))}pa.flags|=e,i.memoizedState=Ma(1|t,n,u,r)}function qa(e,t){return ja(8390656,8,e,t)}function za(e,t){return Va(2048,8,e,t)}function Ha(e,t){return Va(4,2,e,t)}function Ga(e,t){return Va(4,4,e,t)}function Ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4,4,Ka.bind(null,t,e),n)}function Qa(){}function Ya(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $a(e,t){var n=Ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&da)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=vt(),pa.lanes|=n,Bs|=n,e.baseState=!0),t)}function Ja(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{kt=n,ha.transition=r}}function Za(){return Ca().memoizedState}function eo(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=Su(e,t,n,r))){nc(n,e,r,ec()),io(n,t,r)}}function to(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var u=e.alternate;if(0===e.lanes&&(null===u||0===u.lanes)&&null!==(u=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=u(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var s=t.interleaved;return null===s?(i.next=i,Iu(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Su(e,t,i,r))&&(nc(n,e,r,i=ec()),io(n,t,r))}}function no(e){var t=e.alternate;return e===pa||null!==t&&t===pa}function ro(e,t){ga=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var uo={readContext:_u,useCallback:wa,useContext:wa,useEffect:wa,useImperativeHandle:wa,useInsertionEffect:wa,useLayoutEffect:wa,useMemo:wa,useReducer:wa,useRef:wa,useState:wa,useDebugValue:wa,useDeferredValue:wa,useTransition:wa,useMutableSource:wa,useSyncExternalStore:wa,useId:wa,unstable_isNewReconciler:!1},ao={readContext:_u,useCallback:function(e,t){return _a().memoizedState=[e,void 0===t?null:t],e},useContext:_u,useEffect:qa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ja(4194308,4,Ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ja(4194308,4,e,t)},useInsertionEffect:function(e,t){return ja(4,2,e,t)},useMemo:function(e,t){var n=_a();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=_a();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,pa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},_a().memoizedState=e},useState:La,useDebugValue:Qa,useDeferredValue:function(e){return _a().memoizedState=e},useTransition:function(){var e=La(!1),t=e[0];return e=Ja.bind(null,e[1]),_a().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pa,i=_a();if(iu){if(void 0===n)throw Error(u(407));n=n()}else{if(n=t(),null===Ts)throw Error(u(349));0!==(30&da)||Na(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,qa(Oa.bind(null,r,a,e),[e]),r.flags|=2048,Ma(9,Ra.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=_a(),t=Ts.identifierPrefix;if(iu){var n=Xi;t=":"+t+"R"+(n=($i&~(1<<32-at($i)-1)).toString(32)+n),0<(n=ka++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ba++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:_u,useCallback:Ya,useContext:_u,useEffect:za,useImperativeHandle:Wa,useInsertionEffect:Ha,useLayoutEffect:Ga,useMemo:$a,useReducer:Sa,useRef:Ua,useState:function(){return Sa(Ia)},useDebugValue:Qa,useDeferredValue:function(e){return Xa(Ca(),va.memoizedState,e)},useTransition:function(){return[Sa(Ia)[0],Ca().memoizedState]},useMutableSource:Da,useSyncExternalStore:Fa,useId:Za,unstable_isNewReconciler:!1},so={readContext:_u,useCallback:Ya,useContext:_u,useEffect:za,useImperativeHandle:Wa,useInsertionEffect:Ha,useLayoutEffect:Ga,useMemo:$a,useReducer:Ta,useRef:Ua,useState:function(){return Ta(Ia)},useDebugValue:Qa,useDeferredValue:function(e){var t=Ca();return null===va?t.memoizedState=e:Xa(t,va.memoizedState,e)},useTransition:function(){return[Ta(Ia)[0],Ca().memoizedState]},useMutableSource:Da,useSyncExternalStore:Fa,useId:Za,unstable_isNewReconciler:!1};function co(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(u){i="\nError generating stack: "+u.message+"\n"+u.stack}return{value:e,source:t,stack:i,digest:null}}function lo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ho="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Ru(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,Gs=r),fo(0,t)},n}function vo(e,t,n){(n=Ru(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){fo(0,t)}}var u=e.stateNode;return null!==u&&"function"===typeof u.componentDidCatch&&(n.callback=function(){fo(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function yo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ru(-1,1)).tag=2,Ou(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ko=b.ReactCurrentOwner,bo=!1;function wo(e,t,n,r){t.child=null===e?Xu(t,null,n,r):$u(t,e.child,n,r)}function Eo(e,t,n,r,i){n=n.render;var u=t.ref;return Au(t,i),r=xa(e,t,n,r,u,i),n=Aa(),null===e||bo?(iu&&n&&eu(t),t.flags|=1,wo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function xo(e,t,n,r,i){if(null===e){var u=n.type;return"function"!==typeof u||Nc(u)||void 0!==u.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=u,Ao(e,t,u,r,i))}if(u=e.child,0===(e.lanes&i)){var a=u.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(a,r)&&e.ref===t.ref)return Ho(e,t,i)}return t.flags|=1,(e=Rc(u,r)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,n,r,i){if(null!==e){var u=e.memoizedProps;if(sr(u,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=u,0===(e.lanes&i))return t.lanes=e.lanes,Ho(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return Io(e,t,n,r,i)}function _o(e,t,n){var r=t.pendingProps,i=r.children,u=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Rs,Ns),Ns|=n;else{if(0===(1073741824&n))return e=null!==u?u.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Rs,Ns),Ns|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==u?u.baseLanes:n,Ci(Rs,Ns),Ns|=r}else null!==u?(r=u.baseLanes|n,t.memoizedState=null):r=n,Ci(Rs,Ns),Ns|=r;return wo(e,t,i,n),t.child}function Co(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Io(e,t,n,r,i){var u=Ni(n)?Di:Si.current;return u=Fi(t,u),Au(t,i),n=xa(e,t,n,r,u,i),r=Aa(),null===e||bo?(iu&&r&&eu(t),t.flags|=1,wo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function So(e,t,n,r,i){if(Ni(n)){var u=!0;Bi(t)}else u=!1;if(Au(t,i),null===t.stateNode)zo(e,t),zu(t,n,r),Gu(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var s=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=_u(c):c=Fi(t,c=Ni(n)?Di:Si.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||s!==c)&&Hu(t,a,r,c),Du=!1;var h=t.memoizedState;a.state=h,Lu(t,r,a,i),s=t.memoizedState,o!==r||h!==s||Ti.current||Du?("function"===typeof l&&(ju(t,n,l,r),s=t.memoizedState),(o=Du||qu(t,n,o,r,h,s,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Nu(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:mu(t.type,o),a.props=c,f=t.pendingProps,h=a.context,"object"===typeof(s=n.contextType)&&null!==s?s=_u(s):s=Fi(t,s=Ni(n)?Di:Si.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==f||h!==s)&&Hu(t,a,r,s),Du=!1,h=t.memoizedState,a.state=h,Lu(t,r,a,i);var p=t.memoizedState;o!==f||h!==p||Ti.current||Du?("function"===typeof d&&(ju(t,n,d,r),p=t.memoizedState),(c=Du||qu(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,s),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=s,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return To(e,t,n,r,u,i)}function To(e,t,n,r,i,u){Co(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Ho(e,t,u);r=t.stateNode,ko.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=$u(t,e.child,null,u),t.child=$u(t,null,o,u)):wo(e,t,o,u),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Do(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ra(e,t.containerInfo)}function Fo(e,t,n,r,i){return du(),pu(i),t.flags|=256,wo(e,t,n,r),t.child}var No,Ro,Oo,Po={dehydrated:null,treeContext:null,retryLane:0};function Bo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lo(e,t,n){var r,i=t.pendingProps,a=oa.current,o=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(oa,1&a),null===e)return cu(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,o?(i=t.mode,o=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=s):o=Bc(s,i,0,null),e=Pc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Bo(n),t.memoizedState=Po,e):Mo(t,s));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,r=lo(Error(u(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Bc({mode:"visible",children:r.children},i,0,null),(a=Pc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&$u(t,e.child,null,o),t.child.memoizedState=Bo(o),t.memoizedState=Po,a);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Uo(e,t,o,r=lo(a=Error(u(419)),r,void 0))}if(s=0!==(o&e.childLanes),bo||s){if(null!==(r=Ts)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Tu(e,i),nc(r,e,i,-1))}return vc(),Uo(e,t,o,r=lo(Error(u(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ru=ci(i.nextSibling),nu=t,iu=!0,uu=null,null!==e&&(Wi[Qi++]=$i,Wi[Qi++]=Xi,Wi[Qi++]=Yi,$i=e.id,Xi=e.overflow,Yi=t),(t=Mo(t,r.children)).flags|=4096,t)}(e,t,s,i,r,a,n);if(o){o=i.fallback,s=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Rc(r,o):(o=Pc(o,s,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,s=null===(s=e.child.memoizedState)?Bo(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Po,i}return e=(o=e.child).sibling,i=Rc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Mo(e,t){return(t=Bc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,r){return null!==r&&pu(r),$u(t,e.child,null,n),(e=Mo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function jo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xu(e.return,t,n)}function Vo(e,t,n,r,i){var u=e.memoizedState;null===u?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=r,u.tail=n,u.tailMode=i)}function qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,u=r.tail;if(wo(e,t,r.children,n),0!==(2&(r=oa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&jo(e,n,t);else if(19===e.tag)jo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(oa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===sa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vo(t,!1,i,n,u);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===sa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vo(t,!0,n,null,u);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Bs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(u(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!iu)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ko(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wo(e,t,n){var r=t.pendingProps;switch(tu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ko(t),null;case 1:case 17:return Ni(t.type)&&Ri(),Ko(t),null;case 3:return r=t.stateNode,ia(),_i(Ti),_i(Si),la(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fu(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==uu&&(ac(uu),uu=null))),Ko(t),null;case 5:aa(t);var i=na(ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Ro(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(u(166));return Ko(t),null}if(e=na(Zu.current),fu(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[di]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Ur(Pr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":$(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var s in ge(n,a),i=null,a)if(a.hasOwnProperty(s)){var c=a[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,No(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Ur(Pr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ge(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?me(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Ur("scroll",e):null!=l&&k(e,a,l,s))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ko(t),null;case 6:if(e&&null!=t.stateNode)Oo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(u(166));if(n=na(ta.current),na(Zu.current),fu(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=nu))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ko(t),null;case 13:if(_i(oa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(iu&&null!==ru&&0!==(1&t.mode)&&0===(128&t.flags))hu(),du(),t.flags|=98560,a=!1;else if(a=fu(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(u(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(u(317));a[hi]=t}else du(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ko(t),a=!1}else null!==uu&&(ac(uu),uu=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===Os&&(Os=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ko(t),null);case 4:return ia(),null===e&&qr(t.stateNode.containerInfo),Ko(t),null;case 10:return Eu(t.type._context),Ko(t),null;case 19:if(_i(oa),null===(a=t.memoizedState))return Ko(t),null;if(r=0!==(128&t.flags),null===(s=a.rendering))if(r)Go(a,!1);else{if(0!==Os||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=sa(e))){for(t.flags|=128,Go(a,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(s=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>qs&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=sa(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!iu)return Ko(t),null}else 2*Xe()-a.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=a.last)?n.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=oa.current,Ci(oa,r?1&n|2:1&n),t):(Ko(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ns)&&(Ko(t),6&t.subtreeFlags&&(t.flags|=8192)):Ko(t),null;case 24:case 25:return null}throw Error(u(156,t.tag))}function Qo(e,t){switch(tu(t),t.tag){case 1:return Ni(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),_i(Ti),_i(Si),la(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return aa(t),null;case 13:if(_i(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(u(340));du()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(oa),null;case 4:return ia(),null;case 10:return Eu(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}No=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ro=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,na(Zu.current);var u,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(u in s)s.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(o.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(u in s)!s.hasOwnProperty(u)||c&&c.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in c)c.hasOwnProperty(u)&&s[u]!==c[u]&&(n||(n={}),n[u]=c[u])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(o.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),a||s===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Oo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,$o=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Jo=null;function Zo(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ac(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Ac(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var u=i.destroy;i.destroy=void 0,void 0!==u&&es(t,n,u)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function us(e){var t=e.alternate;null!==t&&(e.alternate=null,us(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function as(e){return 5===e.tag||3===e.tag||4===e.tag}function os(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||as(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}var ls=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(ut&&"function"===typeof ut.onCommitFiberUnmount)try{ut.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:$o||Zo(n,t);case 6:var r=ls,i=fs;ls=null,hs(e,t,n),fs=i,null!==(ls=r)&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ls.removeChild(n.stateNode));break;case 18:null!==ls&&(fs?(e=ls,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),qt(e)):si(ls,n.stateNode));break;case 4:r=ls,i=fs,ls=n.stateNode.containerInfo,fs=!0,hs(e,t,n),ls=r,fs=i;break;case 0:case 11:case 14:case 15:if(!$o&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var u=i,a=u.destroy;u=u.tag,void 0!==a&&(0!==(2&u)||0!==(4&u))&&es(n,t,a),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!$o&&(Zo(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ac(n,t,o)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?($o=(r=$o)||null!==n.memoizedState,hs(e,t,n),$o=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xo),t.forEach((function(t){var r=Sc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,s=o;e:for(;null!==s;){switch(s.tag){case 5:ls=s.stateNode,fs=!1;break e;case 3:case 4:ls=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===ls)throw Error(u(160));ds(a,o,i),ls=null,fs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ac(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ms(t,e),t=t.sibling}function ms(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ys(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(m){Ac(e,e.return,m)}try{ns(5,e,e.return)}catch(m){Ac(e,e.return,m)}}break;case 1:vs(t,e),ys(e),512&r&&null!==n&&Zo(n,n.return);break;case 5:if(vs(t,e),ys(e),512&r&&null!==n&&Zo(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ac(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===a.type&&null!=a.name&&X(i,a),ke(s,o);var l=ke(s,a);for(o=0;o<c.length;o+=2){var f=c[o],h=c[o+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":J(i,a);break;case"textarea":ue(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):d!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[di]=a}catch(m){Ac(e,e.return,m)}}break;case 6:if(vs(t,e),ys(e),4&r){if(null===e.stateNode)throw Error(u(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){Ac(e,e.return,m)}}break;case 3:if(vs(t,e),ys(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(m){Ac(e,e.return,m)}break;case 4:default:vs(t,e),ys(e);break;case 13:vs(t,e),ys(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($o=(l=$o)||f,vs(t,e),$o=l):vs(t,e),ys(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Jo=e,f=e.child;null!==f;){for(h=Jo=f;null!==Jo;){switch(p=(d=Jo).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zo(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ac(r,n,m)}}break;case 5:Zo(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Jo=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(s=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",o))}catch(m){Ac(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ac(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ys(e),4&r&&ps(e);case 21:}}function ys(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(as(n)){var r=n;break e}n=n.return}throw Error(u(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cs(e,os(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ss(e,os(e),a);break;default:throw Error(u(161))}}catch(o){Ac(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Jo=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Jo;){var i=Jo,u=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Yo;if(!a){var o=i.alternate,s=null!==o&&null!==o.memoizedState||$o;o=Yo;var c=$o;if(Yo=a,($o=s)&&!c)for(Jo=i;null!==Jo;)s=(a=Jo).child,22===a.tag&&null!==a.memoizedState?Es(i):null!==s?(s.return=a,Jo=s):Es(i);for(;null!==u;)Jo=u,ks(u,t,n),u=u.sibling;Jo=i,Yo=o,$o=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==u?(u.return=i,Jo=u):bs(e)}}function bs(e){for(;null!==Jo;){var t=Jo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$o||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$o)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mu(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Mu(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Mu(t,o,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&qt(h)}}}break;default:throw Error(u(163))}$o||512&t.flags&&is(t)}catch(d){Ac(t,t.return,d)}}if(t===e){Jo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jo=n;break}Jo=t.return}}function ws(e){for(;null!==Jo;){var t=Jo;if(t===e){Jo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jo=n;break}Jo=t.return}}function Es(e){for(;null!==Jo;){var t=Jo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Ac(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ac(t,i,s)}}var u=t.return;try{is(t)}catch(s){Ac(t,u,s)}break;case 5:var a=t.return;try{is(t)}catch(s){Ac(t,a,s)}}}catch(s){Ac(t,t.return,s)}if(t===e){Jo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Jo=o;break}Jo=t.return}}var xs,As=Math.ceil,_s=b.ReactCurrentDispatcher,Cs=b.ReactCurrentOwner,Is=b.ReactCurrentBatchConfig,Ss=0,Ts=null,Ds=null,Fs=0,Ns=0,Rs=Ai(0),Os=0,Ps=null,Bs=0,Ls=0,Ms=0,Us=null,js=null,Vs=0,qs=1/0,zs=null,Hs=!1,Gs=null,Ks=null,Ws=!1,Qs=null,Ys=0,$s=0,Xs=null,Js=-1,Zs=0;function ec(){return 0!==(6&Ss)?Xe():-1!==Js?Js:Js=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ss)&&0!==Fs?Fs&-Fs:null!==vu.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function nc(e,t,n,r){if(50<$s)throw $s=0,Xs=null,Error(u(185));yt(e,n,r),0!==(2&Ss)&&e===Ts||(e===Ts&&(0===(2&Ss)&&(Ls|=n),4===Os&&oc(e,Fs)),rc(e,r),1===n&&0===Ss&&0===(1&t.mode)&&(qs=Xe()+500,Ui&&qi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,u=e.pendingLanes;0<u;){var a=31-at(u),o=1<<a,s=i[a];-1===s?0!==(o&n)&&0===(o&r)||(i[a]=dt(o,t)):s<=t&&(e.expiredLanes|=o),u&=~o}}(e,t);var r=ht(e,e===Ts?Fs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Vi(e)}(sc.bind(null,e)):Vi(sc.bind(null,e)),ai((function(){0===(6&Ss)&&qi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Js=-1,Zs=0,0!==(6&Ss))throw Error(u(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=ht(e,e===Ts?Fs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=mc(e,r);else{t=r;var i=Ss;Ss|=2;var a=pc();for(Ts===e&&Fs===t||(zs=null,qs=Xe()+500,hc(e,t));;)try{gc();break}catch(s){dc(e,s)}wu(),_s.current=a,Ss=i,null!==Ds?t=0:(Ts=null,Fs=0,t=Os)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=uc(e,i))),1===t)throw n=Ps,hc(e,0),oc(e,r),rc(e,Xe()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],u=i.getSnapshot;i=i.value;try{if(!or(u(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=mc(e,r))&&(0!==(a=pt(e))&&(r=a,t=uc(e,a))),1===t))throw n=Ps,hc(e,0),oc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(u(345));case 2:case 5:wc(e,js,zs);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Vs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,js,zs),t);break}wc(e,js,zs);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*As(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,js,zs),r);break}wc(e,js,zs);break;default:throw Error(u(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function uc(e,t){var n=Us;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=mc(e,t))&&(t=js,js=n,null!==t&&ac(t)),e}function ac(e){null===js?js=e:js.push.apply(js,e)}function oc(e,t){for(t&=~Ms,t&=~Ls,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Ss))throw Error(u(327));Ec();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=mc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=uc(e,r))}if(1===n)throw n=Ps,hc(e,0),oc(e,t),rc(e,Xe()),n;if(6===n)throw Error(u(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,js,zs),rc(e,Xe()),null}function cc(e,t){var n=Ss;Ss|=1;try{return e(t)}finally{0===(Ss=n)&&(qs=Xe()+500,Ui&&qi())}}function lc(e){null!==Qs&&0===Qs.tag&&0===(6&Ss)&&Ec();var t=Ss;Ss|=1;var n=Is.transition,r=kt;try{if(Is.transition=null,kt=1,e)return e()}finally{kt=r,Is.transition=n,0===(6&(Ss=t))&&qi()}}function fc(){Ns=Rs.current,_i(Rs)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(tu(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:ia(),_i(Ti),_i(Si),la();break;case 5:aa(r);break;case 4:ia();break;case 13:case 19:_i(oa);break;case 10:Eu(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Ts=e,Ds=e=Rc(e.current,null),Fs=Ns=t,Os=0,Ps=null,Ms=Ls=Bs=0,js=Us=null,null!==Cu){for(t=0;t<Cu.length;t++)if(null!==(r=(n=Cu[t]).interleaved)){n.interleaved=null;var i=r.next,u=n.pending;if(null!==u){var a=u.next;u.next=i,r.next=a}n.pending=r}Cu=null}return e}function dc(e,t){for(;;){var n=Ds;try{if(wu(),fa.current=uo,ya){for(var r=pa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(da=0,ma=va=pa=null,ga=!1,ka=0,Cs.current=null,null===n||null===n.return){Os=1,Ps=t,Ds=null;break}e:{var a=e,o=n.return,s=n,c=t;if(t=Fs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yo(o);if(null!==p){p.flags&=-257,go(p,o,s,0,t),1&p.mode&&mo(a,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mo(a,l,t),vc();break e}c=Error(u(426))}else if(iu&&1&s.mode){var y=yo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),go(y,o,s,0,t),pu(co(c,s));break e}}a=c=co(c,s),4!==Os&&(Os=2),null===Us?Us=[a]:Us.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Bu(a,po(0,c,t));break e;case 1:s=c;var g=a.type,k=a.stateNode;if(0===(128&a.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ks||!Ks.has(k)))){a.flags|=65536,t&=-t,a.lanes|=t,Bu(a,vo(a,s,t));break e}}a=a.return}while(null!==a)}bc(n)}catch(b){t=b,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function pc(){var e=_s.current;return _s.current=uo,null===e?uo:e}function vc(){0!==Os&&3!==Os&&2!==Os||(Os=4),null===Ts||0===(268435455&Bs)&&0===(268435455&Ls)||oc(Ts,Fs)}function mc(e,t){var n=Ss;Ss|=2;var r=pc();for(Ts===e&&Fs===t||(zs=null,hc(e,t));;)try{yc();break}catch(i){dc(e,i)}if(wu(),Ss=n,_s.current=r,null!==Ds)throw Error(u(261));return Ts=null,Fs=0,Os}function yc(){for(;null!==Ds;)kc(Ds)}function gc(){for(;null!==Ds&&!Ye();)kc(Ds)}function kc(e){var t=xs(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,null===t?bc(e):Ds=t,Cs.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wo(n,t,Ns)))return void(Ds=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Ds=n);if(null===e)return Os=6,void(Ds=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Os&&(Os=5)}function wc(e,t,n){var r=kt,i=Is.transition;try{Is.transition=null,kt=1,function(e,t,n,r){do{Ec()}while(null!==Qs);if(0!==(6&Ss))throw Error(u(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(u(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),u=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~u}}(e,a),e===Ts&&(Ds=Ts=null,Fs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ws||(Ws=!0,Tc(tt,(function(){return Ec(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Is.transition,Is.transition=null;var o=kt;kt=1;var s=Ss;Ss|=4,Cs.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var o=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=o),d===a&&++f===r&&(c=o),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Jo=t;null!==Jo;)if(e=(t=Jo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jo=e;else for(;null!==Jo;){t=Jo;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:mu(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(u(163))}}catch(w){Ac(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Jo=e;break}Jo=t.return}v=ts,ts=!1}(e,n),ms(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,gs(n,e,i),$e(),Ss=s,kt=o,Is.transition=a}else e.current=n;if(Ws&&(Ws=!1,Qs=e,Ys=i),0===(a=e.pendingLanes)&&(Ks=null),function(e){if(ut&&"function"===typeof ut.onCommitFiberRoot)try{ut.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hs)throw Hs=!1,e=Gs,Gs=null,e;0!==(1&Ys)&&0!==e.tag&&Ec(),0!==(1&(a=e.pendingLanes))?e===Xs?$s++:($s=0,Xs=e):$s=0,qi()}(e,t,n,r)}finally{Is.transition=i,kt=r}return null}function Ec(){if(null!==Qs){var e=bt(Ys),t=Is.transition,n=kt;try{if(Is.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,Ys=0,0!==(6&Ss))throw Error(u(331));var i=Ss;for(Ss|=4,Jo=e.current;null!==Jo;){var a=Jo,o=a.child;if(0!==(16&Jo.flags)){var s=a.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Jo=l;null!==Jo;){var f=Jo;switch(f.tag){case 0:case 11:case 15:ns(8,f,a)}var h=f.child;if(null!==h)h.return=f,Jo=h;else for(;null!==Jo;){var d=(f=Jo).sibling,p=f.return;if(us(f),f===l){Jo=null;break}if(null!==d){d.return=p,Jo=d;break}Jo=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Jo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Jo=o;else e:for(;null!==Jo;){if(0!==(2048&(a=Jo).flags))switch(a.tag){case 0:case 11:case 15:ns(9,a,a.return)}var g=a.sibling;if(null!==g){g.return=a.return,Jo=g;break e}Jo=a.return}}var k=e.current;for(Jo=k;null!==Jo;){var b=(o=Jo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Jo=b;else e:for(o=k;null!==Jo;){if(0!==(2048&(s=Jo).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(E){Ac(s,s.return,E)}if(s===o){Jo=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Jo=w;break e}Jo=s.return}}if(Ss=i,qi(),ut&&"function"===typeof ut.onPostCommitFiberRoot)try{ut.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{kt=n,Is.transition=t}}return!1}function xc(e,t,n){e=Ou(e,t=po(0,t=co(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function Ac(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Ou(t,e=vo(t,e=co(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ts===e&&(Fs&n)===n&&(4===Os||3===Os&&(130023424&Fs)===Fs&&500>Xe()-Vs?hc(e,0):Ms|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Tu(e,t))&&(yt(e,t,n),rc(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Sc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(u(314))}null!==r&&r.delete(t),Cc(e,n)}function Tc(e,t){return We(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fc(e,t,n,r){return new Dc(e,t,n,r)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Fc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Nc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case x:return Pc(n.children,i,a,t);case A:o=8,i|=8;break;case _:return(e=Fc(12,n,t,2|i)).elementType=_,e.lanes=a,e;case T:return(e=Fc(13,n,t,i)).elementType=T,e.lanes=a,e;case D:return(e=Fc(19,n,t,i)).elementType=D,e.lanes=a,e;case R:return Bc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case I:o=9;break e;case S:o=11;break e;case F:o=14;break e;case N:o=16,r=null;break e}throw Error(u(130,null==e?e:typeof e,""))}return(t=Fc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Pc(e,t,n,r){return(e=Fc(7,e,r,t)).lanes=n,e}function Bc(e,t,n,r){return(e=Fc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Fc(6,e,null,t)).lanes=n,e}function Mc(e,t,n){return(t=Fc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jc(e,t,n,r,i,u,a,o,s){return e=new Uc(e,t,n,o,s),1===t?(t=1,!0===u&&(t|=8)):t=0,u=Fc(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fu(u),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function qc(e){if(!e)return Ii;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(u(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(u(171))}if(1===e.tag){var n=e.type;if(Ni(n))return Pi(e,n,t)}return t}function zc(e,t,n,r,i,u,a,o,s){return(e=jc(n,r,!0,e,0,u,0,o,s)).context=qc(null),n=e.current,(u=Ru(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ou(n,u,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Hc(e,t,n,r){var i=t.current,u=ec(),a=tc(i);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ru(u,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ou(i,t,a))&&(nc(e,i,a,u),Pu(e,i,a)),a}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}xs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Do(t),du();break;case 5:ua(t);break;case 1:Ni(t.type)&&Bi(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(yu,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Lo(e,t,n):(Ci(oa,1&oa.current),null!==(e=Ho(e,t,n))?e.sibling:null);Ci(oa,1&oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(oa,oa.current),r)break;return null;case 22:case 23:return t.lanes=0,_o(e,t,n)}return Ho(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,iu&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zo(e,t),e=t.pendingProps;var i=Fi(t,Si.current);Au(t,n),i=xa(null,t,r,e,i,n);var a=Aa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(r)?(a=!0,Bi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Fu(t),i.updater=Vu,t.stateNode=i,i._reactInternals=t,Gu(t,r,e,n),t=To(null,t,r,!0,a,n)):(t.tag=0,iu&&a&&eu(t),wo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Nc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===F)return 14}return 2}(r),e=mu(r,e),i){case 0:t=Io(null,t,r,e,n);break e;case 1:t=So(null,t,r,e,n);break e;case 11:t=Eo(null,t,r,e,n);break e;case 14:t=xo(null,t,r,mu(r.type,e),n);break e}throw Error(u(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Io(e,t,r,i=t.elementType===r?i:mu(r,i),n);case 1:return r=t.type,i=t.pendingProps,So(e,t,r,i=t.elementType===r?i:mu(r,i),n);case 3:e:{if(Do(t),null===e)throw Error(u(387));r=t.pendingProps,i=(a=t.memoizedState).element,Nu(e,t),Lu(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Fo(e,t,r,n,i=co(Error(u(423)),t));break e}if(r!==i){t=Fo(e,t,r,n,i=co(Error(u(424)),t));break e}for(ru=ci(t.stateNode.containerInfo.firstChild),nu=t,iu=!0,uu=null,n=Xu(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(du(),r===i){t=Ho(e,t,n);break e}wo(e,t,r,n)}t=t.child}return t;case 5:return ua(t),null===e&&cu(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),Co(e,t),wo(e,t,o,n),t.child;case 6:return null===e&&cu(t),null;case 13:return Lo(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$u(t,null,r,n):wo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Eo(e,t,r,i=t.elementType===r?i:mu(r,i),n);case 7:return wo(e,t,t.pendingProps,n),t.child;case 8:case 12:return wo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ci(yu,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ti.current){t=Ho(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){o=a.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ru(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),xu(a.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(u(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),xu(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}wo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Au(t,n),r=r(i=_u(i)),t.flags|=1,wo(e,t,r,n),t.child;case 14:return i=mu(r=t.type,t.pendingProps),xo(e,t,r,i=mu(r.type,i),n);case 15:return Ao(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mu(r,i),zo(e,t),t.tag=1,Ni(r)?(e=!0,Bi(t)):e=!1,Au(t,n),zu(t,r,i),Gu(t,r,i,n),To(null,t,r,!0,e,n);case 19:return qo(e,t,n);case 22:return _o(e,t,n)}throw Error(u(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var u=n._reactRootContainer;if(u){var a=u;if("function"===typeof i){var o=i;i=function(){var e=Gc(a);o.call(e)}}Hc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var u=r;r=function(){var e=Gc(a);u.call(e)}}var a=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,qr(8===e.nodeType?e.parentNode:e),lc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Gc(s);o.call(e)}}var s=jc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,qr(8===e.nodeType?e.parentNode:e),lc((function(){Hc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(a)}$c.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(u(409));Hc(e,t,null,null)},$c.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Hc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=At();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rc(t,Xe()),0===(6&Ss)&&(qs=Xe()+500,qi()))}break;case 13:lc((function(){var t=Tu(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},Et=function(e){if(13===e.tag){var t=Tu(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=Tu(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},At=function(){return kt},_t=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},Ee=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(u(90));W(r),J(r,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Se=cc,Te=lc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ce,Ie,cc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ut=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(u(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(u(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=jc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(u(188));throw e=Object.keys(e).join(","),Error(u(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(u(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(u(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(u(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(u(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(u(200));if(null==e||void 0===e._reactInternals)throw Error(u(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},3751:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.withBaseIcon=t.Icon=void 0;var r=a(n(2791)),i=a(n(2007)),u=a(n(3329));function a(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},u=Object.keys(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var f=function(e){var t=e.style,n=e.className,i=(e.icon,e.size,e.tag),a=l(e,["style","className","icon","size","tag"]),c=i;return r.default.createElement(c,o({},a,{style:s({display:"inline-block"},t),className:n}),r.default.createElement(u.default,{size:e.size,icon:e.icon,title:e.title}))};t.Icon=f;t.withBaseIcon=function(e){return function(t){var n=s({},e);return r.default.createElement(f,o({},n,t))}},f.defaultProps={size:16,fill:"currentColor",tag:"i"},f.propTypes={icon:i.default.object.isRequired,size:i.default.oneOfType([i.default.number,i.default.string]),style:i.default.object,tag:i.default.oneOf(["i","span","div"]),className:i.default.string};var h=f;t.default=h},3329:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SvgIcon=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2791)),i=a(n(2007)),u=a(n(9384));function a(e){return e&&e.__esModule?e:{default:e}}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,u=void 0;try{for(var a,o=e[Symbol.iterator]();!(r=(a=o.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(s){i=!0,u=s}finally{try{r||null==o.return||o.return()}finally{if(i)throw u}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e){return null!==e&&void 0!==e}var f=function e(t){return t.map((function(t,n){var i=t.name,a=t.attribs,o=t.children,f=void 0===o?null:o,h=Object.keys(a).filter((function(e){return"fill"!==e&&"stroke"!==e&&"none"!==a[e]})).reduce((function(e,t){return"style"===t?e.style=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(";").reduce((function(e,t){var n=c(t.split(":"),2),r=n[0],i=n[1];return l(r)&&l(i)&&(e[(0,u.default)(r)]=i),e}),{})}(a[t]):e[(0,u.default)(t)]=a[t],e}),{}),d={};return"none"===a.fill&&a.stroke?d={fill:"none",stroke:"currentColor"}:"none"===a.fill&&(d={fill:"none"}),(0,r.createElement)(i,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({key:n},h,d),null===f?f:e(f))}))},h=function(e){var t=e.size,n=e.icon,i=n.children,a=n.viewBox,s=n.attribs,c=void 0===s?{}:s,l=Object.keys(c).reduce((function(e,t){return e[(0,u.default)(t)]=c[t],e}),{});return r.default.createElement("svg",o({fill:"currentColor",style:{display:"inline-block",verticalAlign:"middle"},height:t,width:t,viewBox:a},l),e.title?r.default.createElement("title",null,e.title):null,f(i))};t.SvgIcon=h,h.defaultProps={size:16},h.propTypes={icon:i.default.object.isRequired,size:i.default.oneOfType([i.default.number,i.default.string]),title:i.default.string};var d=h;t.default=d},2299:function(e,t){"use strict";t.h=void 0;t.h={viewBox:"0 0 24 24",children:[{name:"line",attribs:{x1:"5",y1:"12",x2:"19",y2:"12"},children:[]}],attribs:{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}},2929:function(e,t){"use strict";t.P=void 0;t.P={viewBox:"0 0 24 24",children:[{name:"line",attribs:{x1:"12",y1:"5",x2:"12",y2:"19"},children:[]},{name:"line",attribs:{x1:"5",y1:"12",x2:"19",y2:"12"},children:[]}],attribs:{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}},713:function(e,t){"use strict";t.L=void 0;t.L={viewBox:"0 0 24 24",children:[{name:"circle",attribs:{cx:"9",cy:"21",r:"1"},children:[]},{name:"circle",attribs:{cx:"20",cy:"21",r:"1"},children:[]},{name:"path",attribs:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},children:[]}],attribs:{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}}},6014:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.horizontalCenter=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2791));function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.rAlign,u=void 0!==n&&n,a=t.space,o=void 0===a?4:a;return function(t){return r.default.createElement(e,t,r.default.createElement("div",{style:{display:"inline-flex",justifyContent:"center",alignItems:"center"}},r.Children.toArray(t.children).map((function(e,t){var n=u?"paddingLeft":"paddingRight";return r.default.createElement("div",{key:t,style:i({display:"inline-block"},n,o)},e)}))))}};t.horizontalCenter=u;var a=u;t.default=a},7199:function(e,t,n){"use strict";Object.defineProperty(t,"JO",{enumerable:!0,get:function(){return r.Icon}});var r=n(3751),i=n(6014);r.Icon},9384:function(e,t,n){var r=n(8059),i=n(7801);e.exports=function(e,t,n){var u=i(e,t);return n||(u=u.replace(/ (?=\d)/g,"_")),u.replace(/ (.)/g,(function(e,n){return r(n,t)}))}},5818:function(e){var t={tr:{regexp:/\u0130|\u0049|\u0049\u0307/g,map:{"\u0130":"i",I:"\u0131","I\u0307":"i"}},az:{regexp:/[\u0130]/g,map:{"\u0130":"i",I:"\u0131","I\u0307":"i"}},lt:{regexp:/[\u0049\u004A\u012E\u00CC\u00CD\u0128]/g,map:{I:"i\u0307",J:"j\u0307","\u012e":"\u012f\u0307","\xcc":"i\u0307\u0300","\xcd":"i\u0307\u0301","\u0128":"i\u0307\u0303"}}};e.exports=function(e,n){var r=t[n];return e=null==e?"":String(e),r&&(e=e.replace(r.regexp,(function(e){return r.map[e]}))),e.toLowerCase()}},7801:function(e,t,n){var r=n(5818),i=n(8458),u=n(5707),a=n(4429);e.exports=function(e,t,n){if(null==e)return"";return n="string"!==typeof n?" ":n,e=String(e).replace(u,"$1 $2").replace(a,"$1 $2").replace(i,(function(e,t,r){return 0===t||t===r.length-e.length?"":n})),r(e,t)}},5707:function(e){e.exports=/([a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19])([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A])/g},4429:function(e){e.exports=/([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A])([A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A][a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A])/g},8458:function(e){e.exports=/[^A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC0-9\xB2\xB3\xB9\xBC-\xBE\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u09F4-\u09F9\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0B72-\u0B77\u0BE6-\u0BF2\u0C66-\u0C6F\u0C78-\u0C7E\u0CE6-\u0CEF\u0D66-\u0D75\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F33\u1040-\u1049\u1090-\u1099\u1369-\u137C\u16EE-\u16F0\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1946-\u194F\u19D0-\u19DA\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2CFD\u3007\u3021-\u3029\u3038-\u303A\u3192-\u3195\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\uA620-\uA629\uA6E6-\uA6EF\uA830-\uA835\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]+/g},3878:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=o(n(2791)),a=o(n(2007));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=!1,l=!1,f=!1,h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onScriptLoaded=function(){t.stripeHandler||(t.stripeHandler=StripeCheckout.configure({key:n.props.stripeKey}),n.hasPendingClick&&n.showStripeDialog())},n.onScriptError=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n.hideLoadingDialog(),n.props.onScriptError&&n.props.onScriptError.apply(n,t)},n.onClosed=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n._isMounted&&n.setState({open:!1}),n.props.closed&&n.props.closed.apply(n,t)},n.onOpened=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];n.setState({open:!0}),n.props.opened&&n.props.opened.apply(n,t)},n.getConfig=function(){return["token","image","name","description","amount","locale","currency","panelLabel","zipCode","shippingAddress","billingAddress","email","allowRememberMe","bitcoin","alipay","alipayReusable"].reduce((function(e,t){return r({},e,n.props.hasOwnProperty(t)&&s({},t,n.props[t]))}),{opened:n.onOpened,closed:n.onClosed})},n.onClick=function(){if(!n.props.disabled)if(f)try{throw new Error("Tried to call onClick, but StripeCheckout failed to load")}catch(e){}else t.stripeHandler?n.showStripeDialog():(n.showLoadingDialog(),n.hasPendingClick=!0)},n.handleOnMouseDown=function(){n.setState({buttonActive:!0})},n.handleOnMouseUp=function(){n.setState({buttonActive:!1})},n.state={open:!1,buttonActive:!1},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this;if(this._isMounted=!0,!l&&!c){c=!0;var t=document.createElement("script");"function"===typeof this.props.onScriptTagCreated&&this.props.onScriptTagCreated(t),t.src="https://checkout.stripe.com/checkout.js",t.async=1,this.loadPromise=function(){var n=!1,r=new Promise((function(n,r){t.onload=function(){l=!0,c=!1,n(),e.onScriptLoaded()},t.onerror=function(t){f=!0,c=!1,r(t),e.onScriptError(t)}}));return{promise:new Promise((function(e,t){r.then((function(){return n?t({isCanceled:!0}):e()})),r.catch((function(e){return t(n?{isCanceled:!0}:e)}))})),cancel:function(){n=!0}}}(),this.loadPromise.promise.then(this.onScriptLoaded).catch(this.onScriptError),document.body.appendChild(t)}}},{key:"componentDidUpdate",value:function(){c||this.updateStripeHandler()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.loadPromise&&this.loadPromise.cancel(),t.stripeHandler&&this.state.open&&t.stripeHandler.close()}},{key:"updateStripeHandler",value:function(){t.stripeHandler&&!this.props.reconfigureOnUpdate||(t.stripeHandler=StripeCheckout.configure({key:this.props.stripeKey}))}},{key:"showLoadingDialog",value:function(){if(this.props.showLoadingDialog){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.props.showLoadingDialog.apply(this,t)}}},{key:"hideLoadingDialog",value:function(){if(this.props.hideLoadingDialog){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.props.hideLoadingDialog.apply(this,t)}}},{key:"showStripeDialog",value:function(){this.hideLoadingDialog(),t.stripeHandler.open(this.getConfig())}},{key:"renderDefaultStripeButton",value:function(){return u.default.createElement("button",r({},s({},this.props.triggerEvent,this.onClick),{className:this.props.className,onMouseDown:this.handleOnMouseDown,onFocus:this.handleOnMouseDown,onMouseUp:this.handleOnMouseUp,onMouseOut:this.handleOnMouseUp,onBlur:this.handleOnMouseUp,style:r({},{overflow:"hidden",display:"inline-block",background:"linear-gradient(#28a0e5,#015e94)",border:0,padding:1,textDecoration:"none",borderRadius:5,boxShadow:"0 1px 0 rgba(0,0,0,0.2)",cursor:"pointer",visibility:"visible",userSelect:"none"},this.state.buttonActive&&{background:"#005d93"},this.props.style)}),u.default.createElement("span",{style:r({},{backgroundImage:"linear-gradient(#7dc5ee,#008cdd 85%,#30a2e4)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",color:"#fff",fontWeight:"bold",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",textShadow:"0 -1px 0 rgba(0,0,0,0.25)",borderRadius:4},this.state.buttonActive&&{color:"#eee",boxShadow:"inset 0 1px 0 rgba(0,0,0,0.1)",backgroundImage:"linear-gradient(#008cdd,#008cdd 85%,#239adf)"},this.props.textStyle)},this.props.label))}},{key:"renderDisabledButton",value:function(){return u.default.createElement("button",{disabled:!0,style:{background:"rgba(0,0,0,0.2)",overflow:"hidden",display:"inline-block",border:0,padding:1,textDecoration:"none",borderRadius:5,userSelect:"none"}},u.default.createElement("span",{style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",borderRadius:4,color:"#999",background:"#f8f9fa",textShadow:"0 1px 0 rgba(255,255,255,0.5)"}},this.props.label))}},{key:"render",value:function(){!0!==this.props.desktopShowModal||this.state.open?!1===this.props.desktopShowModal&&this.state.open&&t.stripeHandler.close():this.onClick();var e=this.props.ComponentClass;return this.props.children?u.default.createElement(e,r({},s({},this.props.triggerEvent,this.onClick),{children:this.props.children})):this.props.disabled?this.renderDisabledButton():this.renderDefaultStripeButton()}}]),t}(u.default.Component);h.defaultProps={className:"StripeCheckout",label:"Pay With Card",locale:"auto",ComponentClass:"span",reconfigureOnUpdate:!1,triggerEvent:"onClick"},h.propTypes={desktopShowModal:a.default.bool,triggerEvent:a.default.oneOf(["onClick","onTouchTap","onTouchStart"]),label:a.default.string,style:a.default.object,textStyle:a.default.object,disabled:a.default.bool,ComponentClass:a.default.string,showLoadingDialog:a.default.func,hideLoadingDialog:a.default.func,onScriptError:a.default.func,onScriptTagCreated:a.default.func,reconfigureOnUpdate:a.default.bool,stripeKey:a.default.string.isRequired,token:a.default.func.isRequired,name:a.default.string,description:a.default.string,image:a.default.string,amount:a.default.number,locale:a.default.oneOf(["auto","zh","da","nl","en","fr","de","it","ja","no","es","sv"]),currency:a.default.oneOf(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BIF","BMD","BND","BOB","BRL","BSD","BWP","BZD","CAD","CDF","CHF","CLP","CNY","COP","CRC","CVE","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ETB","EUR","FJD","FKP","GBP","GEL","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","ISK","JMD","JPY","KES","KGS","KHR","KMF","KRW","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LVL","MAD","MDL","MGA","MKD","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SEK","SGD","SHP","SLL","SOS","SRD","STD","SVC","SZL","THB","TJS","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VND","VUV","WST","XAF","XCD","XOF","XPF","YER","ZAR","ZMW"]),panelLabel:a.default.string,zipCode:a.default.bool,billingAddress:a.default.bool,shippingAddress:a.default.bool,email:a.default.string,allowRememberMe:a.default.bool,bitcoin:a.default.bool,alipay:a.default.oneOf(["auto",!0,!1]),alipayReusable:a.default.bool,opened:a.default.func,closed:a.default.func},h._isMounted=!1,t.Z=h},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),u=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,u={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!s.hasOwnProperty(r)&&(u[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===u[r]&&(u[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:u,_owner:o.current}}t.Fragment=u,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,x={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,u={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!A.hasOwnProperty(i)&&(u[i]=t[i]);var s=arguments.length-2;if(1===s)u.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];u.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===u[i]&&(u[i]=s[i]);return{$$typeof:n,type:e,key:a,ref:o,props:u,_owner:x.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,u,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var s=!1;if(null===e)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return a=a(s=e),e=""===u?"."+S(s,0):u,w(a)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),T(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(I,"$&/")+"/")+e)),t.push(a)),1;if(s=0,u=""===u?".":u+":",w(e))for(var c=0;c<e.length;c++){var l=u+S(o=e[c],c);s+=T(o,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(o=e.next()).done;)s+=T(o=o.value,t,i,l=u+S(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function D(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function F(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},R={transition:null},O={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=k,t.StrictMode=u,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),u=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=x.current),void 0!==t.key&&(u=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)E.call(t,c)&&!A.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:u,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:F}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,n){return N.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,n){return N.current.useReducer(e,t,n)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return N.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return N.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<u(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,s=e[o],c=o+1,l=e[c];if(0>u(s,n))c<i&&0>u(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[o]=n,r=o);else{if(!(c<i&&0>u(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function u(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,R(E);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function E(e,n){v=!1,m&&(m=!1,g(C),C=-1),p=!0;var u=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var a=h.callback;if("function"===typeof a){h.callback=null,d=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{h=null,d=u,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,A=!1,_=null,C=-1,I=5,S=-1;function T(){return!(t.unstable_now()-S<I)}function D(){if(null!==_){var e=t.unstable_now();S=e;var n=!0;try{n=_(!0,e)}finally{n?x():(A=!1,_=null)}}else A=!1}if("function"===typeof k)x=function(){k(D)};else if("undefined"!==typeof MessageChannel){var F=new MessageChannel,N=F.port2;F.port1.onmessage=D,x=function(){N.postMessage(null)}}else x=function(){y(D,0)};function R(e){_=e,A||(A=!0,x())}function O(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,u){var a=t.unstable_now();switch("object"===typeof u&&null!==u?u="number"===typeof(u=u.delay)&&0<u?a+u:a:u=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:u,expirationTime:o=u+o,sortIndex:-1},u>a?(e.sortIndex=u,n(l,e),null===r(c)&&e===r(l)&&(m?(g(C),C=-1):m=!0,O(w,u-a))):(e.sortIndex=o,n(c,e),v||p||(v=!0,R(E))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},8059:function(e){var t={tr:{regexp:/[\u0069]/g,map:{i:"\u0130"}},az:{regexp:/[\u0069]/g,map:{i:"\u0130"}},lt:{regexp:/[\u0069\u006A\u012F]\u0307|\u0069\u0307[\u0300\u0301\u0303]/g,map:{"i\u0307":"I","j\u0307":"J","\u012f\u0307":"\u012e","i\u0307\u0300":"\xcc","i\u0307\u0301":"\xcd","i\u0307\u0303":"\u0128"}}};e.exports=function(e,n){var r=t[n];return e=null==e?"":String(e),r&&(e=e.replace(r.regexp,(function(e){return r.map[e]}))),e.toUpperCase()}},8593:function(e){"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var u=t[r]={exports:{}};return e[r](u,u.exports,n),u.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var u=Object.create(null);n.r(u);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(u,a),u}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".28cb0dcd.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="my-app:";n.l=function(r,i,u,a){if(e[r])e[r].push(i);else{var o,s;if(void 0!==u)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+u){o=f;break}}o||(s=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+u),o.src=r),e[r]=[i];var h=function(t,n){o.onerror=o.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),s&&document.head.appendChild(o)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/react-gh-pages/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var u=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=u);var a=n.p+n.u(t),o=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var u=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+u+": "+a+")",o.name="ChunkLoadError",o.type=u,o.request=a,i[1](o)}}),"chunk-"+t,t)}};var t=function(t,r){var i,u,a=r[0],o=r[1],s=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(s)s(n)}for(t&&t(r);c<a.length;c++)u=a[c],n.o(e,u)&&e[u]&&e[u][0](),e[u]=0},r=self.webpackChunkmy_app=self.webpackChunkmy_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return ut},SDK_VERSION:function(){return dn},_DEFAULT_ENTRY_NAME:function(){return Zt},_addComponent:function(){return rn},_addOrOverwriteComponent:function(){return un},_apps:function(){return tn},_clearComponents:function(){return cn},_components:function(){return nn},_getProvider:function(){return on},_registerComponent:function(){return an},_removeServiceInstance:function(){return sn},deleteApp:function(){return yn},getApp:function(){return vn},getApps:function(){return mn},initializeApp:function(){return pn},onLog:function(){return bn},registerVersion:function(){return kn},setLogLevel:function(){return wn}});var t,r=n(2791),i=n.t(r,2),u=n(1250);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function c(e){return function(e){if(Array.isArray(e))return a(e)}(e)||o(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t){if(t&&("object"===y(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function b(e){var t=m();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}function w(e){if(Array.isArray(e))return e}function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(e,t){return w(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,u=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(u.push(r.value),!t||u.length!==t);a=!0);}catch(s){o=!0,i=s}finally{try{a||null==n.return||n.return()}finally{if(o)throw i}}return u}}(e,t)||s(e,t)||E()}function A(e,t,n){return A=m()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&d(i,n.prototype),i},A.apply(null,arguments)}function _(e){var t="function"===typeof Map?new Map:void 0;return _=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return A(e,arguments,v(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)},_(e)}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var I,S="popstate";function T(e){return{usr:e.state,key:e.key}}function D(e,t,n,r){return void 0===n&&(n=null),C({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?N(t):t,{state:n,key:(null==t?void 0:t.key)||r||Math.random().toString(36).substr(2,8)})}function F(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,u=e.hash,a=void 0===u?"":u;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function N(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function R(e,n,r,i){void 0===i&&(i={});var u=i,a=u.window,o=void 0===a?document.defaultView:a,s=u.v5Compat,c=void 0!==s&&s,l=o.history,f=t.Pop,h=null;function d(){f=t.Pop,h&&h({action:f,location:p.location})}var p={get action(){return f},get location(){return e(o,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(S,d),h=e,function(){o.removeEventListener(S,d),h=null}},createHref:function(e){return n(o,e)},push:function(e,n){f=t.Push;var i=D(p.location,e,n);null==r||r(i,e);var u=T(i),a=p.createHref(i);try{l.pushState(u,"",a)}catch(s){o.location.assign(a)}c&&h&&h({action:f,location:i})},replace:function(e,n){f=t.Replace;var i=D(p.location,e,n);null==r||r(i,e);var u=T(i),a=p.createHref(i);l.replaceState(u,"",a),c&&h&&h({action:f,location:i})},go:function(e){return l.go(e)}};return p}function O(e,t,n){void 0===n&&(n="/");var r=V(("string"===typeof t?N(t):t).pathname||"/",n);if(null==r)return null;var i=P(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var u=null,a=0;null==u&&a<i.length;++a)u=U(i[a],r);return u}function P(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var u={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};u.relativePath.startsWith("/")&&(q(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),u.relativePath=u.relativePath.slice(r.length));var a=G([r,u.relativePath]),o=n.concat(u);e.children&&e.children.length>0&&(q(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),P(e.children,t,o,a)),(null!=e.path||e.index)&&t.push({path:a,score:M(a,e.index),routesMeta:o})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(I||(I={}));var B=/^:\w+$/,L=function(e){return"*"===e};function M(e,t){var n=e.split("/"),r=n.length;return n.some(L)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!L(e)})).reduce((function(e,t){return e+(B.test(t)?3:""===t?1:10)}),r)}function U(e,t){for(var n=e.routesMeta,r={},i="/",u=[],a=0;a<n.length;++a){var o=n[a],s=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=j({path:o.relativePath,caseSensitive:o.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=o.route;u.push({params:r,pathname:G([i,l.pathname]),pathnameBase:K(G([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=G([i,l.pathnameBase]))}return u}function j(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);z("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[@.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=x(n,2),i=r[0],u=r[1],a=t.match(i);if(!a)return null;var o=a[0],s=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:u.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=o.slice(0,o.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return z(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function q(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function z(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function H(e,t,n,r){void 0===r&&(r=!1);var i,u="string"===typeof e?N(e):C({},e),a=""===e||""===u.pathname,o=a?"/":u.pathname;if(r||null==o)i=n;else{var s=t.length-1;if(o.startsWith("..")){for(var c=o.split("/");".."===c[0];)c.shift(),s-=1;u.pathname=c.join("/")}i=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?N(e):e,r=n.pathname,i=n.search,u=void 0===i?"":i,a=n.hash,o=void 0===a?"":a,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:W(u),hash:Q(o)}}(u,i),f=o&&"/"!==o&&o.endsWith("/"),h=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var G=function(e){return e.join("/").replace(/\/\/+/g,"/")},K=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},W=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Q=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},Y=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n)}(_(Error));var $=h((function e(t,n,r){l(this,e),this.status=t,this.statusText=n||"",this.data=r}));function X(e){return e instanceof $}function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},J.apply(this,arguments)}var Z="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ee=r.useState,te=r.useEffect,ne=r.useLayoutEffect,re=r.useDebugValue;function ie(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!Z(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,i.useSyncExternalStore;var ue=r.createContext(null);var ae=r.createContext(null);var oe=r.createContext(null);var se=r.createContext(null);var ce=r.createContext(null);var le=r.createContext(null);var fe=r.createContext({outlet:null,matches:[]});var he=r.createContext(null);function de(){return null!=r.useContext(le)}function pe(){return de()||q(!1),r.useContext(le).location}function ve(e){return e.filter((function(t,n){return 0===n||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase}))}function me(){de()||q(!1);var e=r.useContext(ce),t=e.basename,n=e.navigator,i=r.useContext(fe).matches,u=pe().pathname,a=JSON.stringify(ve(i).map((function(e){return e.pathnameBase}))),o=r.useRef(!1);r.useEffect((function(){o.current=!0}));var s=r.useCallback((function(e,r){if(void 0===r&&(r={}),o.current)if("number"!==typeof e){var i=H(e,JSON.parse(a),u,"path"===r.relative);"/"!==t&&(i.pathname="/"===i.pathname?t:G([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state,r)}else n.go(e)}),[t,n,a,u]);return s}function ye(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(fe).matches,u=pe().pathname,a=JSON.stringify(ve(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return H(e,JSON.parse(a),u,"path"===n)}),[e,a,u,n])}function ge(){var e=function(){var e,t=r.useContext(he),n=xe(ke.UseRouteError),i=r.useContext(fe),u=i.matches[i.matches.length-1];if(t)return t;return i||q(!1),!u.route.id&&q(!1),null==(e=n.errors)?void 0:e[u.route.id]}(),t=X(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unhandled Thrown Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:u},n):null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",r.createElement("code",{style:a},"errorElement")," props on\xa0",r.createElement("code",{style:a},"<Route>")))}var ke,be=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).state={location:e.location,error:e.error},r}return h(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(he.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(r.Component);function we(e){var t=e.routeContext,n=e.match,i=e.children,u=r.useContext(ue);return u&&n.route.errorElement&&(u._deepestRenderedBoundaryId=n.route.id),r.createElement(fe.Provider,{value:t},i)}function Ee(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var i=e,u=null==n?void 0:n.errors;if(null!=u){var a=i.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));a>=0||q(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((function(e,a,o){var s=a.route.id?null==u?void 0:u[a.route.id]:null,c=n?a.route.errorElement||r.createElement(ge,null):null,l=function(){return r.createElement(we,{match:a,routeContext:{outlet:e,matches:t.concat(i.slice(0,o+1))}},s?c:void 0!==a.route.element?a.route.element:e)};return n&&(a.route.errorElement||0===o)?r.createElement(be,{location:n.location,component:c,error:s,children:l()}):l()}),null)}function xe(e){var t=r.useContext(oe);return t||q(!1),t}!function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(ke||(ke={}));var Ae;function _e(e){var t=e.to,n=e.replace,i=e.state,u=e.relative;de()||q(!1);var a=r.useContext(oe),o=me();return r.useEffect((function(){a&&"idle"!==a.navigation.state||o(t,{replace:n,state:i,relative:u})})),null}function Ce(e){q(!1)}function Ie(e){var n=e.basename,i=void 0===n?"/":n,u=e.children,a=void 0===u?null:u,o=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;de()&&q(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof o&&(o=N(o));var v=o,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,E=v.state,x=void 0===E?null:E,A=v.key,_=void 0===A?"default":A,C=r.useMemo((function(){var e=V(y,d);return null==e?null:{pathname:e,search:k,hash:w,state:x,key:_}}),[d,y,k,w,x,_]);return null==C?null:r.createElement(ce.Provider,{value:p},r.createElement(le.Provider,{children:a,value:{location:C,navigationType:c}}))}function Se(e){var n=e.children,i=e.location,u=r.useContext(ae);return function(e,n){de()||q(!1);var i,u=r.useContext(oe),a=r.useContext(fe).matches,o=a[a.length-1],s=o?o.params:{},c=(o&&o.pathname,o?o.pathnameBase:"/"),l=(o&&o.route,pe());if(n){var f,h="string"===typeof n?N(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||q(!1),i=h}else i=l;var d=i.pathname||"/",p=O(e,{pathname:"/"===c?d:d.slice(c.length)||"/"}),v=Ee(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:G([c,e.pathname]),pathnameBase:"/"===e.pathnameBase?c:G([c,e.pathnameBase])})})),a,u||void 0);return n?r.createElement(le.Provider,{value:{location:J({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:t.Pop}},v):v}(u&&!n?u.router.routes:De(n),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Ae||(Ae={}));var Te=new Promise((function(){}));r.Component;function De(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e))if(e.type!==r.Fragment){e.type!==Ce&&q(!1);var u=[].concat(c(t),[i]),a={id:e.props.id||u.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(a.children=De(e.props.children,u)),n.push(a)}else n.push.apply(n,De(e.props.children,t))})),n}function Fe(){Fe=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",u=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(I){o=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,u=Object.create(i.prototype),a=new A(r||[]);return u._invoke=function(e,t,n){var r="suspendedStart";return function(i,u){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw u;return C()}for(n.method=i,n.arg=u;;){var a=n.delegate;if(a){var o=w(a,n);if(o){if(o===l)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,a),u}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};o(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(_([])));m&&m!==t&&n.call(m,i)&&(p=m);var g=d.prototype=f.prototype=Object.create(p);function k(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,u,a,o){var s=c(e[i],e,u);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==y(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,o)}),(function(e){r("throw",e,a,o)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,o)}))}o(s.arg)}var i;this._invoke=function(e,n){function u(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(u,u):u()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function _(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,u=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return u.next=u}}return{next:C}}function C(){return{value:void 0,done:!0}}return h.prototype=d,o(g,"constructor",d),o(d,"constructor",h),h.displayName=o(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,o(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(b.prototype),o(b.prototype,u,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,u){void 0===u&&(u=Promise);var a=new b(s(t,n,r,i),u);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(g),o(g,a,"Generator"),o(g,i,(function(){return this})),o(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=_,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var u=this.tryEntries[i],a=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var o=n.call(u,"catchLoc"),s=n.call(u,"finallyLoc");if(o&&s){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(o){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var u=i;break}}u&&("break"===e||"continue"===e)&&u.tryLoc<=t&&t<=u.finallyLoc&&(u=null);var a=u?u.completion:{};return a.type=e,a.arg=t,u?(this.method="next",this.next=u.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:_(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,a=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,u=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw u}}}}function Be(e,t,n,r,i,u,a){try{var o=e[u](a),s=o.value}catch(c){return void n(c)}o.done?t(s):Promise.resolve(s).then(r,i)}function Le(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var u=e.apply(t,n);function a(e){Be(u,r,i,a,o,"next",e)}function o(e){Be(u,r,i,a,o,"throw",e)}a(void 0)}))}}function Me(){return Me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(this,arguments)}function Ue(e,t){if(null==e)return{};var n,r,i={},u=Object.keys(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var je=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Ve(e){var t,n=e.basename,i=e.children,u=e.window,a=r.useRef();null==a.current&&(a.current=(void 0===(t={window:u,v5Compat:!0})&&(t={}),R((function(e,t){var n,r,i=e.location;return D("",{pathname:i.pathname,search:i.search,hash:i.hash},(null==(n=t.state)?void 0:n.usr)||null,(null==(r=t.state)?void 0:r.key)||"default")}),(function(e,t){return"string"===typeof t?t:F(t)}),null,t)));var o=a.current,s=x(r.useState({action:o.action,location:o.location}),2),c=s[0],l=s[1];return r.useLayoutEffect((function(){return o.listen(l)}),[o]),r.createElement(Ie,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:o})}var qe=r.forwardRef((function(e,t){var n=e.onClick,i=e.relative,u=e.reloadDocument,a=e.replace,o=e.state,s=e.target,c=e.to,l=e.preventScrollReset,f=Ue(e,je),h=function(e,t){var n=(void 0===t?{}:t).relative;de()||q(!1);var i=r.useContext(ce),u=i.basename,a=i.navigator,o=ye(e,{relative:n}),s=o.hash,c=o.pathname,l=o.search,f=c;return"/"!==u&&(f="/"===c?u:G([u,c])),a.createHref({pathname:f,search:l,hash:s})}(c,{relative:i}),d=function(e,t){var n=void 0===t?{}:t,i=n.target,u=n.replace,a=n.state,o=n.preventScrollReset,s=n.relative,c=me(),l=pe(),f=ye(e,{relative:s});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==u?u:F(l)===F(f);c(e,{replace:n,state:a,preventScrollReset:o,relative:s})}}),[l,c,f,u,a,i,e,o,s])}(c,{replace:a,state:o,target:s,preventScrollReset:l,relative:i});return r.createElement("a",Me({},f,{href:h,onClick:u?n:function(e){n&&n(e),e.defaultPrevented||d(e)},ref:t,target:s}))}));var ze=n.p+"static/media/logo.bebae44d2ce736ce7fed.png",He=n(7199),Ge=n(713),Ke=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},We={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var u=e[i],a=i+1<e.length,o=a?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=u>>2,f=(3&u)<<4|o>>4,h=(15&o)<<2|c>>6,d=63&c;s||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ke(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var u=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&u)}else if(i>239&&i<365){var a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{var o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var u=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,o=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==u||null==a||null==o||null==s)throw Error();var c=u<<2|a>>4;if(r.push(c),64!==o){var l=a<<4&240|o>>2;if(r.push(l),64!==s){var f=o<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Qe=function(e){return function(e){var t=Ke(e);return We.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ye=function(e){try{return We.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function $e(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=$e(e[n],t[n]));return e}var Xe=function(){function e(){var t=this;l(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return h(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Je(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var u=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Qe(JSON.stringify({alg:"none",type:"JWT"})),Qe(JSON.stringify(u)),""].join(".")}function Ze(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function et(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function tt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function nt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function rt(){var e=Ze();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function it(){return"object"===typeof indexedDB}var ut=function(e){p(n,e);var t=b(n);function n(e,r,i){var u;return l(this,n),(u=t.call(this,r)).code=e,u.customData=i,u.name="FirebaseError",Object.setPrototypeOf(g(u),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(g(u),at.prototype.create),u}return h(n)}(_(Error)),at=function(){function e(t,n,r){l(this,e),this.service=t,this.serviceName=n,this.errors=r}return h(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?ot(r,t):"Error",u="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),a=new ut(n,u,t);return a}}]),e}();function ot(e,t){return e.replace(st,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var st=/\{\$([^}]+)}/g;function ct(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function lt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,u=n;i<u.length;i++){var a=u[i];if(!r.includes(a))return!1;var o=e[a],s=t[a];if(ft(o)&&ft(s)){if(!lt(o,s))return!1}else if(o!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ft(e){return null!==e&&"object"===typeof e}function ht(e){for(var t=[],n=function(){var e=x(i[r],2),n=e[0],u=e[1];Array.isArray(u)?u.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(u))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function dt(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=x(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function pt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function vt(e,t){var n=new mt(e,t);return n.subscribe.bind(n)}var mt=function(){function e(t,n){var r=this;l(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return h(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Pe(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(u){r.e(u)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=yt),void 0===r.error&&(r.error=yt),void 0===r.complete&&(r.complete=yt);var u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),u}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function yt(){}function gt(e){return e&&e._delegate?e._delegate:e}var kt=function(){function e(t,n,r){l(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return h(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),bt="[DEFAULT]",wt=function(){function e(t,n){l(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return h(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Xe;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:bt})}catch(s){}var t,n=Pe(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=x(t.value,2),i=r[0],u=r[1],a=this.normalizeInstanceIdentifier(i);try{var o=this.getOrInitializeService({instanceIdentifier:a});u.resolve(o)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Le(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(c(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),c(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,u=this.getOrInitializeService({instanceIdentifier:r,options:n}),a=Pe(this.instancesDeferred.entries());try{for(a.s();!(i=a.n()).done;){var o=x(i.value,2),s=o[0],c=o[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(u)}}catch(f){a.e(f)}finally{a.f()}return u}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var u=this.instances.get(r);return u&&e(u,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Pe(n);try{for(i.s();!(r=i.n()).done;){var u=r.value;try{u(e,t)}catch(AA){}}}catch(a){i.e(a)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,u=this.instances.get(n);if(!u&&this.component&&(u=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===bt?void 0:t),options:i}),this.instances.set(n,u),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(u,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,u)}catch(AA){}return u||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt;return this.component?this.component.multipleInstances?e:bt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Et,xt,At=function(){function e(t){l(this,e),this.name=t,this.providers=new Map}return h(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new wt(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),_t=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(xt||(xt={}));var Ct={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},It=xt.INFO,St=(Ne(Et={},xt.DEBUG,"log"),Ne(Et,xt.VERBOSE,"log"),Ne(Et,xt.INFO,"info"),Ne(Et,xt.WARN,"warn"),Ne(Et,xt.ERROR,"error"),Et),Tt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=St[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,u=arguments.length,a=new Array(u>2?u-2:0),o=2;o<u;o++)a[o-2]=arguments[o];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(a))}},Dt=function(){function e(t){l(this,e),this.name=t,this._logLevel=It,this._logHandler=Tt,this._userLogHandler=null,_t.push(this)}return h(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in xt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Ct[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xt.DEBUG].concat(t)),this._logHandler.apply(this,[this,xt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,xt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xt.INFO].concat(t)),this._logHandler.apply(this,[this,xt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xt.WARN].concat(t)),this._logHandler.apply(this,[this,xt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xt.ERROR].concat(t)),this._logHandler.apply(this,[this,xt.ERROR].concat(t))}}]),e}();var Ft,Nt;var Rt=new WeakMap,Ot=new WeakMap,Pt=new WeakMap,Bt=new WeakMap,Lt=new WeakMap;var Mt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ot.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Pt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ut(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Nt||(Nt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(qt(this),n),Vt(Rt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Vt(e.apply(qt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var u=e.call.apply(e,[qt(this),t].concat(r));return Pt.set(u,t.sort?t.sort():[t]),Vt(u)}}function jt(e){return"function"===typeof e?Ut(e):(e instanceof IDBTransaction&&function(e){if(!Ot.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",u),e.removeEventListener("abort",u)},i=function(){t(),r()},u=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",u),e.addEventListener("abort",u)}));Ot.set(e,t)}}(e),t=e,(Ft||(Ft=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Mt):e);var t}function Vt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",u)},i=function(){t(Vt(e.result)),r()},u=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",u)}));return t.then((function(t){t instanceof IDBCursor&&Rt.set(t,e)})).catch((function(){})),Lt.set(t,e),t}(e);if(Bt.has(e))return Bt.get(e);var t=jt(e);return t!==e&&(Bt.set(e,t),Lt.set(t,e)),t}var qt=function(e){return Lt.get(e)};var zt,Ht,Gt=["get","getKey","getAll","getAllKeys","count"],Kt=["put","add","delete","clear"],Wt=new Map;function Qt(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Wt.get(t))return Wt.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Kt.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Gt.includes(n))){var u=function(){var e=Le(Fe().mark((function e(t){var u,a,o,s,c,l,f=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=this.transaction(t,i?"readwrite":"readonly"),o=a.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(o=o.index(c.shift())),e.next=6,Promise.all([(u=o)[n].apply(u,c),i&&a.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Wt.set(t,u),u}}}Mt=function(e){return Oe(Oe({},e),{},{get:function(t,n,r){return Qt(t,n)||e.get(t,n,r)},has:function(t,n){return!!Qt(t,n)||e.has(t,n)}})}(Mt);var Yt=function(){function e(t){l(this,e),this.container=t}return h(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var $t="@firebase/app",Xt="0.7.33",Jt=new Dt("@firebase/app"),Zt="[DEFAULT]",en=(Ne(zt={},$t,"fire-core"),Ne(zt,"@firebase/app-compat","fire-core-compat"),Ne(zt,"@firebase/analytics","fire-analytics"),Ne(zt,"@firebase/analytics-compat","fire-analytics-compat"),Ne(zt,"@firebase/app-check","fire-app-check"),Ne(zt,"@firebase/app-check-compat","fire-app-check-compat"),Ne(zt,"@firebase/auth","fire-auth"),Ne(zt,"@firebase/auth-compat","fire-auth-compat"),Ne(zt,"@firebase/database","fire-rtdb"),Ne(zt,"@firebase/database-compat","fire-rtdb-compat"),Ne(zt,"@firebase/functions","fire-fn"),Ne(zt,"@firebase/functions-compat","fire-fn-compat"),Ne(zt,"@firebase/installations","fire-iid"),Ne(zt,"@firebase/installations-compat","fire-iid-compat"),Ne(zt,"@firebase/messaging","fire-fcm"),Ne(zt,"@firebase/messaging-compat","fire-fcm-compat"),Ne(zt,"@firebase/performance","fire-perf"),Ne(zt,"@firebase/performance-compat","fire-perf-compat"),Ne(zt,"@firebase/remote-config","fire-rc"),Ne(zt,"@firebase/remote-config-compat","fire-rc-compat"),Ne(zt,"@firebase/storage","fire-gcs"),Ne(zt,"@firebase/storage-compat","fire-gcs-compat"),Ne(zt,"@firebase/firestore","fire-fst"),Ne(zt,"@firebase/firestore-compat","fire-fst-compat"),Ne(zt,"fire-js","fire-js"),Ne(zt,"firebase","fire-js-all"),zt),tn=new Map,nn=new Map;function rn(e,t){try{e.container.addComponent(t)}catch(n){Jt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function un(e,t){e.container.addOrOverwriteComponent(t)}function an(e){var t=e.name;if(nn.has(t))return Jt.debug("There were multiple attempts to register component ".concat(t,".")),!1;nn.set(t,e);var n,r=Pe(tn.values());try{for(r.s();!(n=r.n()).done;){rn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function on(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function sn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zt;on(e,t).clearInstance(n)}function cn(){nn.clear()}var ln=(Ne(Ht={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ne(Ht,"bad-app-name","Illegal App name: '{$appName}"),Ne(Ht,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ne(Ht,"app-deleted","Firebase App named '{$appName}' already deleted"),Ne(Ht,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ne(Ht,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ne(Ht,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ne(Ht,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ne(Ht,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ne(Ht,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Ht),fn=new at("app","Firebase",ln),hn=function(){function e(t,n,r){var i=this;l(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kt("app",(function(){return i}),"PUBLIC"))}return h(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw fn.create("app-deleted",{appName:this._name})}}]),e}(),dn="9.10.0";function pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Zt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw fn.create("bad-app-name",{appName:String(i)});var u=tn.get(i);if(u){if(lt(e,u.options)&&lt(r,u.config))return u;throw fn.create("duplicate-app",{appName:i})}var a,o=new At(i),s=Pe(nn.values());try{for(s.s();!(a=s.n()).done;){var c=a.value;o.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new hn(e,r,o);return tn.set(i,l),l}function vn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zt,t=tn.get(e);if(!t)throw fn.create("no-app",{appName:e});return t}function mn(){return Array.from(tn.values())}function yn(e){return gn.apply(this,arguments)}function gn(){return(gn=Le(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!tn.has(n)){e.next=6;break}return tn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kn(e,t,n){var r,i=null!==(r=en[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var u=i.match(/\s|\//),a=t.match(/\s|\//);if(u||a){var o=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return u&&o.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),u&&a&&o.push("and"),a&&o.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Jt.warn(o.join(" "))}an(new kt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function bn(e,t){if(null!==e&&"function"!==typeof e)throw fn.create("invalid-log-argument");!function(e,t){var n,r=Pe(_t);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Ct[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,u=new Array(r>2?r-2:0),a=2;a<r;a++)u[a-2]=arguments[a];var o=u.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:xt[n].toLowerCase(),message:o,args:u,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(u){r.e(u)}finally{r.f()}}(e,t)}function wn(e){var t;t=e,_t.forEach((function(e){e.setLogLevel(t)}))}var En="firebase-heartbeat-store",xn=null;function An(){return xn||(xn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,u=n.blocking,a=n.terminated,o=indexedDB.open(e,t),s=Vt(o);return i&&o.addEventListener("upgradeneeded",(function(e){i(Vt(o.result),e.oldVersion,e.newVersion,Vt(o.transaction))})),r&&o.addEventListener("blocked",(function(){return r()})),s.then((function(e){a&&e.addEventListener("close",(function(){return a()})),u&&e.addEventListener("versionchange",(function(){return u()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(En)}}).catch((function(e){throw fn.create("idb-open",{originalErrorMessage:e.message})}))),xn}function _n(e){return Cn.apply(this,arguments)}function Cn(){return Cn=Le(Fe().mark((function e(t){var n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,An();case 3:return r=e.sent,e.abrupt("return",r.transaction(En).objectStore(En).get(Tn(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof ut?Jt.warn(e.t0.message):(i=fn.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Jt.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Cn.apply(this,arguments)}function In(e,t){return Sn.apply(this,arguments)}function Sn(){return Sn=Le(Fe().mark((function e(t,n){var r,i,u,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,An();case 3:return i=e.sent,u=i.transaction(En,"readwrite"),a=u.objectStore(En),e.next=8,a.put(n,Tn(t));case 8:return e.abrupt("return",u.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof ut?Jt.warn(e.t0.message):(o=fn.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Jt.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Sn.apply(this,arguments)}function Tn(e){return"".concat(e.name,"!").concat(e.options.appId)}var Dn=function(){function e(t){var n=this;l(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Pn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return h(e,[{key:"triggerHeartbeat",value:function(){var e=Le(Fe().mark((function e(){var t,n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Fn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Le(Fe().mark((function e(){var t,n,r,i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Fn(),n=Nn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,u=Qe(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Fn(){return(new Date).toISOString().substring(0,10)}function Nn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),u=Pe(e);try{var a=function(){var e=t.value,u=r.find((function(t){return t.agent===e.agent}));if(u){if(u.dates.push(e.date),Bn(r)>n)return u.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Bn(r)>n)return r.pop(),"break";i=i.slice(1)};for(u.s();!(t=u.n()).done;){var o=a();if("break"===o)break}}catch(s){u.e(s)}finally{u.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Rn,On,Pn=function(){function e(t){l(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return h(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(it()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(u){t(u)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Le(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,_n(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Le(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",In(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Le(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",In(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(c(r.heartbeats),c(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Bn(e){return Qe(JSON.stringify({version:2,heartbeats:e})).length}Rn="",an(new kt("platform-logger",(function(e){return new Yt(e)}),"PRIVATE")),an(new kt("heartbeat",(function(e){return new Dn(e)}),"PRIVATE")),kn($t,Xt,Rn),kn($t,Xt,"esm2017"),kn("fire-js","");var Ln=function(){function e(t,n){var r=this;l(this,e),this._delegate=t,this.firebase=n,rn(t,new kt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return h(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),yn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zt;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){rn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){un(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Mn=(Ne(On={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ne(On,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),On),Un=new at("app-compat","Firebase",Mn);var jn=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=pn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ct(n,i.name))return n[i.name];var u=new t(i,r);return n[i.name]=u,u},app:i,registerVersion:kn,setLogLevel:wn,onLog:bn,apps:null,SDK_VERSION:dn,INTERNAL:{registerComponent:function(e){var n=e.name,u=n.replace("-compat","");if(an(e)&&"PUBLIC"===e.type){var a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[u])throw Un.create("invalid-app-argument",{appName:n});return e[u]()};void 0!==e.serviceProps&&$e(a,e.serviceProps),r[u]=a,t.prototype[u]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[u]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ct(n,e=e||Zt))throw Un.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Ln);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){$e(n,e)},createSubscribe:vt,ErrorFactory:at,deepExtend:$e}),n}(),Vn=new Dt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Vn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var qn=self.firebase.SDK_VERSION;qn&&qn.indexOf("LITE")>=0&&Vn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var zn=jn;!function(e){kn("@firebase/app-compat","0.1.34",e)}();function Hn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}function Gn(){return Gn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Hn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Gn.apply(this,arguments)}zn.registerVersion("firebase","9.10.0","app-compat");function Kn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Wn;Object.create;var Qn="facebook.com",Yn="github.com",$n="google.com",Xn="password",Jn="twitter.com",Zn="EMAIL_SIGNIN",er="PASSWORD_RESET",tr="RECOVER_EMAIL",nr="REVERT_SECOND_FACTOR_ADDITION",rr="VERIFY_AND_CHANGE_EMAIL",ir="VERIFY_EMAIL";function ur(){return Ne({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ar=function(){var e;return Ne(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Ne(e,"argument-error",""),Ne(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Ne(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Ne(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Ne(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Ne(e,"cordova-not-ready","Cordova framework is not ready."),Ne(e,"cors-unsupported","This browser is not supported."),Ne(e,"credential-already-in-use","This credential is already associated with a different user account."),Ne(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Ne(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Ne(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Ne(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Ne(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Ne(e,"email-already-in-use","The email address is already in use by another account."),Ne(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Ne(e,"expired-action-code","The action code has expired."),Ne(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Ne(e,"internal-error","An internal AuthError has occurred."),Ne(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Ne(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Ne(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Ne(e,"invalid-auth-event","An internal AuthError has occurred."),Ne(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Ne(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Ne(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Ne(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Ne(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Ne(e,"invalid-email","The email address is badly formatted."),Ne(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Ne(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Ne(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Ne(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Ne(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Ne(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Ne(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Ne(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Ne(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Ne(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Ne(e,"wrong-password","The password is invalid or the user does not have a password."),Ne(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Ne(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Ne(e,"invalid-provider-id","The specified provider ID is invalid."),Ne(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Ne(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Ne(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Ne(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Ne(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Ne(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Ne(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Ne(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Ne(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Ne(e,"missing-continue-uri","A continue URL must be provided in the request."),Ne(e,"missing-iframe-start","An internal AuthError has occurred."),Ne(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Ne(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Ne(e,"missing-multi-factor-info","No second factor identifier is provided."),Ne(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Ne(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Ne(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Ne(e,"app-deleted","This instance of FirebaseApp has been deleted."),Ne(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Ne(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Ne(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Ne(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Ne(e,"no-auth-event","An internal AuthError has occurred."),Ne(e,"no-such-provider","User was not linked to an account with the given provider."),Ne(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Ne(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Ne(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Ne(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Ne(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Ne(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Ne(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Ne(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Ne(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Ne(e,"rejected-credential","The request contains malformed or mismatching credentials."),Ne(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Ne(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Ne(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Ne(e,"timeout","The operation has timed out."),Ne(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Ne(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Ne(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Ne(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Ne(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Ne(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Ne(e,"unverified-email","The operation requires a verified email."),Ne(e,"user-cancelled","The user did not grant your application the permissions it requested."),Ne(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Ne(e,"user-disabled","The user account has been disabled by an administrator."),Ne(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Ne(e,"user-signed-out",""),Ne(e,"weak-password","The password must be 6 characters long or more."),Ne(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Ne(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},or=ur,sr=new at("auth","Firebase",ur()),cr=new Dt("@firebase/auth");function lr(e){if(cr.logLevel<=xt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];cr.error.apply(cr,["Auth (".concat(dn,"): ").concat(e)].concat(n))}}function fr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw vr.apply(void 0,[e].concat(n))}function hr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return vr.apply(void 0,[e].concat(n))}function dr(e,t,n){var r=Object.assign(Object.assign({},or()),Ne({},t,n));return new at("auth","Firebase",r).create(t,{appName:e.name})}function pr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&fr(e,"argument-error"),dr(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function vr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,u=n[0],a=c(n.slice(1));return a[0]&&(a[0].appName=e.name),(i=e._errorFactory).create.apply(i,[u].concat(c(a)))}return sr.create.apply(sr,[e].concat(n))}function mr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw vr.apply(void 0,[t].concat(r))}}function yr(e){var t="INTERNAL ASSERTION FAILED: "+e;throw lr(t),new Error(t)}function gr(e,t){e||yr(t)}var kr=new Map;function br(e){gr(e instanceof Function,"Expected a class definition");var t=kr.get(e);return t?(gr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,kr.set(e,t),t)}function wr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Er(){return"http:"===xr()||"https:"===xr()}function xr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ar=function(){function e(t,n){l(this,e),this.shortDelay=t,this.longDelay=n,gr(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())||nt()}return h(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Er()||tt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function _r(e,t){gr(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Cr=function(){function e(){l(this,e)}return h(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Ir=(Ne(Wn={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ne(Wn,"MISSING_CUSTOM_TOKEN","internal-error"),Ne(Wn,"INVALID_IDENTIFIER","invalid-email"),Ne(Wn,"MISSING_CONTINUE_URI","internal-error"),Ne(Wn,"INVALID_PASSWORD","wrong-password"),Ne(Wn,"MISSING_PASSWORD","internal-error"),Ne(Wn,"EMAIL_EXISTS","email-already-in-use"),Ne(Wn,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ne(Wn,"INVALID_IDP_RESPONSE","invalid-credential"),Ne(Wn,"INVALID_PENDING_TOKEN","invalid-credential"),Ne(Wn,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ne(Wn,"MISSING_REQ_TYPE","internal-error"),Ne(Wn,"EMAIL_NOT_FOUND","user-not-found"),Ne(Wn,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ne(Wn,"EXPIRED_OOB_CODE","expired-action-code"),Ne(Wn,"INVALID_OOB_CODE","invalid-action-code"),Ne(Wn,"MISSING_OOB_CODE","internal-error"),Ne(Wn,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ne(Wn,"INVALID_ID_TOKEN","invalid-user-token"),Ne(Wn,"TOKEN_EXPIRED","user-token-expired"),Ne(Wn,"USER_NOT_FOUND","user-token-expired"),Ne(Wn,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ne(Wn,"INVALID_CODE","invalid-verification-code"),Ne(Wn,"INVALID_SESSION_INFO","invalid-verification-id"),Ne(Wn,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ne(Wn,"MISSING_SESSION_INFO","missing-verification-id"),Ne(Wn,"SESSION_EXPIRED","code-expired"),Ne(Wn,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ne(Wn,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ne(Wn,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ne(Wn,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ne(Wn,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ne(Wn,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ne(Wn,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ne(Wn,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ne(Wn,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ne(Wn,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ne(Wn,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Wn),Sr=new Ar(3e4,6e4);function Tr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Dr(e,t,n,r){return Fr.apply(this,arguments)}function Fr(){return Fr=Le(Fe().mark((function e(t,n,r,i){var u,a=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=a.length>4&&void 0!==a[4]?a[4]:{},e.abrupt("return",Nr(t,u,Le(Fe().mark((function e(){var u,a,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u={},a={},i&&("GET"===n?a=i:u={body:JSON.stringify(i)}),o=ht(Object.assign({key:t.config.apiKey},a)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Cr.fetch()(Br(t,t.config.apiHost,r,o),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},u)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Fr.apply(this,arguments)}function Nr(e,t,n){return Rr.apply(this,arguments)}function Rr(){return Rr=Le(Fe().mark((function e(t,n,r){var i,u,a,o,s,c,l,f,h,d;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Ir),n),e.prev=2,u=new Lr(t),e.next=6,Promise.race([r(),u.promise]);case 6:return a=e.sent,u.clearNetworkTimeout(),e.next=10,a.json();case 10:if(!("needConfirmation"in(o=e.sent))){e.next=13;break}throw Mr(t,"account-exists-with-different-credential",o);case 13:if(!a.ok||"errorMessage"in o){e.next=17;break}return e.abrupt("return",o);case 17:if(s=a.ok?o.errorMessage:o.error.message,c=s.split(" : "),l=x(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Mr(t,"credential-already-in-use",o);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Mr(t,"email-already-in-use",o);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Mr(t,"user-disabled",o);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw dr(t,d,h);case 34:fr(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof ut)){e.next=41;break}throw e.t0;case 41:fr(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Rr.apply(this,arguments)}function Or(e,t,n,r){return Pr.apply(this,arguments)}function Pr(){return Pr=Le(Fe().mark((function e(t,n,r,i){var u,a,o=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=o.length>4&&void 0!==o[4]?o[4]:{},e.next=3,Dr(t,n,r,i,u);case 3:return"mfaPendingCredential"in(a=e.sent)&&fr(t,"multi-factor-auth-required",{_serverResponse:a}),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))),Pr.apply(this,arguments)}function Br(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?_r(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Lr=function(){function e(t){var n=this;l(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(hr(n.auth,"network-request-failed"))}),Sr.get())}))}return h(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Mr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=hr(e,t,r);return i.customData._tokenResponse=n,i}function Ur(e,t){return jr.apply(this,arguments)}function jr(){return jr=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dr(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),jr.apply(this,arguments)}function Vr(e,t){return qr.apply(this,arguments)}function qr(){return qr=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),qr.apply(this,arguments)}function zr(e,t){return Hr.apply(this,arguments)}function Hr(){return Hr=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dr(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Hr.apply(this,arguments)}function Gr(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Kr(){return Kr=Le(Fe().mark((function e(t){var n,r,i,u,a,o,s=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=gt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,mr((u=Qr(i))&&u.exp&&u.auth_time&&u.iat,r.auth,"internal-error"),a="object"===typeof u.firebase?u.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider,e.abrupt("return",{claims:u,token:i,authTime:Gr(Wr(u.auth_time)),issuedAtTime:Gr(Wr(u.iat)),expirationTime:Gr(Wr(u.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Kr.apply(this,arguments)}function Wr(e){return 1e3*Number(e)}function Qr(e){var t,n=x(e.split("."),3),r=n[0],i=n[1],u=n[2];if(void 0===r||void 0===i||void 0===u)return lr("JWT malformed, contained fewer than 3 sections"),null;try{var a=Ye(i);return a?JSON.parse(a):(lr("Failed to decode base64 JWT payload"),null)}catch(o){return lr("Caught error parsing JWT payload as JSON",null===(t=o)||void 0===t?void 0:t.toString()),null}}function Yr(e,t){return $r.apply(this,arguments)}function $r(){return $r=Le(Fe().mark((function e(t,n){var r=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ut&&Xr(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),$r.apply(this,arguments)}function Xr(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Jr=function(){function e(t){l(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return h(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Le(Fe().mark((function t(){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Le(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Zr=function(){function e(t,n){l(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return h(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Gr(this.lastLoginAt),this.creationTime=Gr(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ei(e){return ti.apply(this,arguments)}function ti(){return ti=Le(Fe().mark((function e(t){var n,r,i,u,a,o,s,c,l,f,h;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Yr(t,zr(r,{idToken:i}));case 6:mr(null===(u=e.sent)||void 0===u?void 0:u.users.length,r,"internal-error"),a=u.users[0],t._notifyReloadListener(a),o=(null===(n=a.providerUserInfo)||void 0===n?void 0:n.length)?ii(a.providerUserInfo):[],s=ri(t.providerData,o),c=t.isAnonymous,l=!(t.email&&a.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Zr(a.createdAt,a.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ti.apply(this,arguments)}function ni(){return(ni=Le(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gt(t),e.next=3,ei(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ri(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(c(n),c(t))}function ii(e){return e.map((function(e){var t=e.providerId,n=Kn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function ui(e,t){return ai.apply(this,arguments)}function ai(){return ai=Le(Fe().mark((function e(t,n){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nr(t,{},Le(Fe().mark((function e(){var r,i,u,a,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ht({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,u=i.tokenApiHost,a=i.apiKey,o=Br(t,u,"/v1/token","key=".concat(a)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Cr.fetch()(o,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ai.apply(this,arguments)}var oi=function(){function e(){l(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return h(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){mr(e.idToken,"internal-error"),mr("undefined"!==typeof e.idToken,"internal-error"),mr("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Qr(e);return mr(t,"internal-error"),mr("undefined"!==typeof t.exp,"internal-error"),mr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Le(Fe().mark((function e(t){var n,r=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],mr(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Le(Fe().mark((function e(t,n){var r,i,u,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ui(t,n);case 2:r=e.sent,i=r.accessToken,u=r.refreshToken,a=r.expiresIn,this.updateTokensAndExpiration(i,u,Number(a));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return yr("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,u=n.expirationTime,a=new e;return r&&(mr("string"===typeof r,"internal-error",{appName:t}),a.refreshToken=r),i&&(mr("string"===typeof i,"internal-error",{appName:t}),a.accessToken=i),u&&(mr("number"===typeof u,"internal-error",{appName:t}),a.expirationTime=u),a}}]),e}();function si(e,t){mr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ci=function(){function e(t){l(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,u=Kn(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?c(u.providerData):[],this.metadata=new Zr(u.createdAt||void 0,u.lastLoginAt||void 0)}return h(e,[{key:"getIdToken",value:function(){var e=Le(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yr(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(mr(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Kr.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return ni.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(mr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){mr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Le(Fe().mark((function e(t){var n,r,i=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ei(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Le(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Yr(this,Ur(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,u,a,o,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(u=n.phoneNumber)&&void 0!==u?u:void 0,p=null!==(a=n.photoURL)&&void 0!==a?a:void 0,v=null!==(o=n.tenantId)&&void 0!==o?o:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,E=n.providerData,x=n.stsTokenManager;mr(k&&x,t,"internal-error");var A=oi.fromJSON(this.name,x);mr("string"===typeof k,t,"internal-error"),si(f,t.name),si(h,t.name),mr("boolean"===typeof b,t,"internal-error"),mr("boolean"===typeof w,t,"internal-error"),si(d,t.name),si(p,t.name),si(v,t.name),si(m,t.name),si(y,t.name),si(g,t.name);var _=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:A,createdAt:y,lastLoginAt:g});return E&&Array.isArray(E)&&(_.providerData=E.map((function(e){return Object.assign({},e)}))),m&&(_._redirectEventId=m),_}},{key:"_fromIdTokenResponse",value:function(){var t=Le(Fe().mark((function t(n,r){var i,u,a,o=arguments;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=o.length>2&&void 0!==o[2]&&o[2],(u=new oi).updateFromServerResponse(r),a=new e({uid:r.localId,auth:n,stsTokenManager:u,isAnonymous:i}),t.next=6,ei(a);case 6:return t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),li=function(){function e(){l(this,e),this.type="NONE",this.storage={}}return h(e,[{key:"_isAvailable",value:function(){var e=Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Le(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();li.type="NONE";var fi=li;function hi(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var di=function(){function e(t,n,r){l(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,u=i.config,a=i.name;this.fullUserKey=hi(this.userKey,u.apiKey,a),this.fullPersistenceKey=hi("persistence",u.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return h(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Le(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ci._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Le(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Le(Fe().mark((function t(n,r){var i,u,a,o,s,c,l,f,h,d,p,v=arguments;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(br(fi),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:u=t.sent.filter((function(e){return e})),a=u[0]||br(fi),o=hi(i,n.config.apiKey,n.name),s=null,c=Pe(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(o);case 17:if(!(h=t.sent)){t.next=23;break}return d=ci._fromJSON(n,h),f!==a&&(s=d),a=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=u.filter((function(e){return e._shouldAllowMigration})),a._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(a,n,i));case 40:if(a=p[0],!s){t.next=44;break}return t.next=44,a._set(o,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===a){e.next=8;break}return e.prev=1,e.next=4,t._remove(o);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(a,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function pi(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(vi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bi(t))return"Blackberry";if(wi(t))return"Webos";if(mi(t))return"Safari";if((t.includes("chrome/")||yi(t))&&!t.includes("edge/"))return"Chrome";if(ki(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function vi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/firefox\//i.test(e)}function mi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function yi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/crios\//i.test(e)}function gi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/iemobile/i.test(e)}function ki(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/android/i.test(e)}function bi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/blackberry/i.test(e)}function wi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/webos/i.test(e)}function Ei(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function xi(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return Ei(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Ai(){return rt()&&10===document.documentMode}function _i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return Ei(e)||ki(e)||wi(e)||bi(e)||/windows phone/i.test(e)||gi(e)}function Ci(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=pi(Ze());break;case"Worker":t="".concat(pi(Ze()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(dn,"/").concat(r)}var Ii=function(){function e(t){l(this,e),this.auth=t,this.queue=[]}return h(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Le(Fe().mark((function e(t){var n,r,i,u,a,o,s,c;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=Pe(this.queue),e.prev=5,i.s();case 7:if((u=i.n()).done){e.next=14;break}return a=u.value,e.next=11,a(t);case 11:a.onAbort&&r.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),o=Pe(r);try{for(o.s();!(s=o.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){o.e(f)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Si=function(){function e(t,n,r){l(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Di(this),this.idTokenSubscription=new Di(this),this.beforeStateQueue=new Ii(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sr,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return h(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=br(t)),this._initializationPromise=this.queue(Le(Fe().mark((function r(){var i,u;return Fe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,di.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(u=n.currentUser)||void 0===u?void 0:u.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Le(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Le(Fe().mark((function e(t){var n,r,i,u,a,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,u=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return a=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,o=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,a&&a!==o||!(null===s||void 0===s?void 0:s.user)||(i=s.user,u=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!u){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return mr(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Le(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Le(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ei(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Le(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?gt(t):null)&&mr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Le(Fe().mark((function e(t){var n,r=this,i=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&mr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Le(Fe().mark((function n(){return Fe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(br(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new at("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Le(Fe().mark((function e(t,n){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Le(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return mr(n=t&&br(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,di.create(this,[br(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Le(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Le(Fe().mark((function e(t){var n=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var u="function"===typeof t?t:t.next.bind(t),a=this._isInitialized?Promise.resolve():this._initializationPromise;return mr(a,this,"internal-error"),a.then((function(){return u(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return mr(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ci(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Le(Fe().mark((function e(){var t,n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ne({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ti(e){return gt(e)}var Di=function(){function e(t){var n=this;l(this,e),this.auth=t,this.observer=null,this.addObserver=vt((function(e){return n.observer=e}))}return h(e,[{key:"next",get:function(){return mr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Fi(e,t,n){var r=Ti(e);mr(r._canInitEmulator,r,"emulator-config-failed"),mr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),u=Ni(t),a=function(e){var t=Ni(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var u=i[1];return{host:u,port:Ri(r.substr(u.length+1))}}var a=x(r.split(":"),2);return{host:a[0],port:Ri(a[1])}}(t),o=a.host,s=a.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(u,"//").concat(o).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:s,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ni(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ri(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Oi=function(){function e(t,n){l(this,e),this.providerId=t,this.signInMethod=n}return h(e,[{key:"toJSON",value:function(){return yr("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return yr("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return yr("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return yr("not implemented")}}]),e}();function Pi(e,t){return Bi.apply(this,arguments)}function Bi(){return Bi=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dr(t,"POST","/v1/accounts:resetPassword",Tr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bi.apply(this,arguments)}function Li(e,t){return Mi.apply(this,arguments)}function Mi(){return Mi=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Mi.apply(this,arguments)}function Ui(e,t){return ji.apply(this,arguments)}function ji(){return ji=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dr(t,"POST","/v1/accounts:update",Tr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ji.apply(this,arguments)}function Vi(e,t){return qi.apply(this,arguments)}function qi(){return qi=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:signInWithPassword",Tr(t,n)));case 1:case"end":return e.stop()}}),e)}))),qi.apply(this,arguments)}function zi(e,t){return Hi.apply(this,arguments)}function Hi(){return Hi=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dr(t,"POST","/v1/accounts:sendOobCode",Tr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hi.apply(this,arguments)}function Gi(e,t){return Ki.apply(this,arguments)}function Ki(){return Ki=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zi(t,n));case 1:case"end":return e.stop()}}),e)}))),Ki.apply(this,arguments)}function Wi(e,t){return Qi.apply(this,arguments)}function Qi(){return Qi=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zi(t,n));case 1:case"end":return e.stop()}}),e)}))),Qi.apply(this,arguments)}function Yi(e,t){return $i.apply(this,arguments)}function $i(){return $i=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zi(t,n));case 1:case"end":return e.stop()}}),e)}))),$i.apply(this,arguments)}function Xi(e,t){return Ji.apply(this,arguments)}function Ji(){return Ji=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zi(t,n));case 1:case"end":return e.stop()}}),e)}))),Ji.apply(this,arguments)}function Zi(e,t){return eu.apply(this,arguments)}function eu(){return eu=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:signInWithEmailLink",Tr(t,n)));case 1:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}function tu(e,t){return nu.apply(this,arguments)}function nu(){return nu=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:signInWithEmailLink",Tr(t,n)));case 1:case"end":return e.stop()}}),e)}))),nu.apply(this,arguments)}var ru=function(e){p(n,e);var t=b(n);function n(e,r,i){var u,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return l(this,n),(u=t.call(this,"password",i))._email=e,u._password=r,u._tenantId=a,u}return h(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Vi(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Zi(t,{email:this._email,oobCode:this._password}));case 5:fr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Li(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",tu(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:fr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Oi);function iu(e,t){return uu.apply(this,arguments)}function uu(){return uu=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:signInWithIdp",Tr(t,n)));case 1:case"end":return e.stop()}}),e)}))),uu.apply(this,arguments)}var au=function(e){p(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return h(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return iu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,iu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,iu(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ht(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,u=Kn(t,["providerId","signInMethod"]);if(!r||!i)return null;var a=new n(r,i);return a.idToken=u.idToken||void 0,a.accessToken=u.accessToken||void 0,a.secret=u.secret,a.nonce=u.nonce,a.pendingToken=u.pendingToken||null,a}}]),n}(Oi);function ou(e,t){return su.apply(this,arguments)}function su(){return su=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dr(t,"POST","/v1/accounts:sendVerificationCode",Tr(t,n)));case 1:case"end":return e.stop()}}),e)}))),su.apply(this,arguments)}function cu(){return cu=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:signInWithPhoneNumber",Tr(t,n)));case 1:case"end":return e.stop()}}),e)}))),cu.apply(this,arguments)}function lu(){return lu=Le(Fe().mark((function e(t,n){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Or(t,"POST","/v1/accounts:signInWithPhoneNumber",Tr(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Mr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),lu.apply(this,arguments)}var fu=Ne({},"USER_NOT_FOUND","user-not-found");function hu(){return hu=Le(Fe().mark((function e(t,n){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Or(t,"POST","/v1/accounts:signInWithPhoneNumber",Tr(t,r),fu));case 2:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}var du=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone","phone")).params=e,r}return h(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return cu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return lu.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return hu.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,u=t.phoneNumber,a=t.temporaryProof;return i||r||u||a?new n({verificationId:r,verificationCode:i,phoneNumber:u,temporaryProof:a}):null}}]),n}(Oi);var pu=function(){function e(t){var n,r,i,u,a,o;l(this,e);var s=dt(pt(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,f=null!==(r=s.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);mr(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=null!==(u=s.continueUrl)&&void 0!==u?u:null,this.languageCode=null!==(a=s.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(o=s.tenantId)&&void 0!==o?o:null}return h(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=dt(pt(e)).link,n=t?dt(pt(t)).deep_link_id:null,r=dt(pt(e)).deep_link_id;return(r?dt(pt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(AA){return null}}}]),e}();var vu=function(){function e(){l(this,e),this.providerId=e.PROVIDER_ID}return h(e,null,[{key:"credential",value:function(e,t){return ru._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=pu.parseLink(t);return mr(n,"argument-error"),ru._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();vu.PROVIDER_ID="password",vu.EMAIL_PASSWORD_SIGN_IN_METHOD="password",vu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var mu=function(){function e(t){l(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return h(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),yu=function(e){p(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).scopes=[],e}return h(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return c(this.scopes)}}]),n}(mu),gu=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return mr(e.idToken||e.accessToken,"argument-error"),au._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return mr("providerId"in t&&"signInMethod"in t,"argument-error"),au._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,u=t.oauthTokenSecret,a=t.pendingToken,o=t.nonce,s=t.providerId;if(!i&&!u&&!r&&!a)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:o,pendingToken:a})}catch(c){return null}}}]),n}(yu),ku=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.call(this,"facebook.com")}return h(n,null,[{key:"credential",value:function(e){return au._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(AA){return null}}}]),n}(yu);ku.FACEBOOK_SIGN_IN_METHOD="facebook.com",ku.PROVIDER_ID="facebook.com";var bu=function(e){p(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return h(n,null,[{key:"credential",value:function(e,t){return au._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(AA){return null}}}]),n}(yu);bu.GOOGLE_SIGN_IN_METHOD="google.com",bu.PROVIDER_ID="google.com";var wu=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.call(this,"github.com")}return h(n,null,[{key:"credential",value:function(e){return au._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(AA){return null}}}]),n}(yu);wu.GITHUB_SIGN_IN_METHOD="github.com",wu.PROVIDER_ID="github.com";var Eu=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return h(n,[{key:"_getIdTokenResponse",value:function(e){return iu(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,iu(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,iu(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,u=t.pendingToken;return r&&i&&u&&r===i?new n(r,u):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Oi),xu=function(e){p(n,e);var t=b(n);function n(e){return l(this,n),mr(e.startsWith("saml."),"argument-error"),t.call(this,e)}return h(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Eu.fromJSON(e);return mr(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Eu._create(r,n)}catch(i){return null}}}]),n}(mu),Au=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.call(this,"twitter.com")}return h(n,null,[{key:"credential",value:function(e,t){return au._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(AA){return null}}}]),n}(yu);function _u(e,t){return Cu.apply(this,arguments)}function Cu(){return Cu=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:signUp",Tr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Cu.apply(this,arguments)}Au.TWITTER_SIGN_IN_METHOD="twitter.com",Au.PROVIDER_ID="twitter.com";var Iu=function(){function e(t){l(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return h(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Le(Fe().mark((function t(n,r,i){var u,a,o,s,c=arguments;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=c.length>3&&void 0!==c[3]&&c[3],t.next=3,ci._fromIdTokenResponse(n,i,u);case 3:return a=t.sent,o=Su(i),s=new e({user:a,providerId:o,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Le(Fe().mark((function t(n,r,i){var u;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return u=Su(i),t.abrupt("return",new e({user:n,providerId:u,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Su(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Tu(){return Tu=Le(Fe().mark((function e(t){var n,r,i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ti(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Iu({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,_u(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Iu._fromIdTokenResponse(r,"signIn",i,!0);case 10:return u=e.sent,e.next=13,r._updateCurrentUser(u.user);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Tu.apply(this,arguments)}var Du=function(e){p(n,e);var t=b(n);function n(e,r,i,u){var a,o;return l(this,n),(a=t.call(this,r.code,r.message)).operationType=i,a.user=u,Object.setPrototypeOf(g(a),n.prototype),a.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:r.customData._serverResponse,operationType:i},a}return h(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(ut);function Fu(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Du._fromErrorAndOperation(e,n,t,r);throw n}))}function Nu(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function Ru(e,t){return Ou.apply(this,arguments)}function Ou(){return Ou=Le(Fe().mark((function e(t,n){var r,i,u,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gt(t),e.next=3,Lu(!0,r,n);case 3:return e.t0=Vr,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,u=i.providerUserInfo,a=Nu(u||[]),r.providerData=r.providerData.filter((function(e){return a.has(e.providerId)})),a.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Ou.apply(this,arguments)}function Pu(e,t){return Bu.apply(this,arguments)}function Bu(){return Bu=Le(Fe().mark((function e(t,n){var r,i,u=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],e.t0=Yr,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Iu._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),Bu.apply(this,arguments)}function Lu(e,t,n){return Mu.apply(this,arguments)}function Mu(){return(Mu=Le(Fe().mark((function e(t,n,r){var i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ei(n);case 2:i=Nu(n.providerData),u=!1===t?"provider-already-linked":"no-such-provider",mr(i.has(r)===t,n.auth,u);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uu(e,t){return ju.apply(this,arguments)}function ju(){return ju=Le(Fe().mark((function e(t,n){var r,i,u,a,o,s,c,l=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],u=t.auth,a="reauthenticate",e.prev=3,e.next=6,Yr(t,Fu(u,a,n,t),r);case 6:return mr((o=e.sent).idToken,u,"internal-error"),mr(s=Qr(o.idToken),u,"internal-error"),c=s.sub,mr(t.uid===c,u,"user-mismatch"),e.abrupt("return",Iu._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&fr(u,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),ju.apply(this,arguments)}function Vu(e,t){return qu.apply(this,arguments)}function qu(){return qu=Le(Fe().mark((function e(t,n){var r,i,u,a,o=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]&&o[2],i="signIn",e.next=4,Fu(t,i,n);case 4:return u=e.sent,e.next=7,Iu._fromIdTokenResponse(t,i,u);case 7:if(a=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(a.user);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)}))),qu.apply(this,arguments)}function zu(e,t){return Hu.apply(this,arguments)}function Hu(){return Hu=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vu(Ti(t),n));case 1:case"end":return e.stop()}}),e)}))),Hu.apply(this,arguments)}function Gu(e,t){return Ku.apply(this,arguments)}function Ku(){return(Ku=Le(Fe().mark((function e(t,n){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gt(t),e.next=3,Lu(!1,r,n.providerId);case 3:return e.abrupt("return",Pu(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wu(e,t){return Qu.apply(this,arguments)}function Qu(){return(Qu=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Uu(gt(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yu(e,t){return $u.apply(this,arguments)}function $u(){return $u=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Or(t,"POST","/v1/accounts:signInWithCustomToken",Tr(t,n)));case 1:case"end":return e.stop()}}),e)}))),$u.apply(this,arguments)}function Xu(){return Xu=Le(Fe().mark((function e(t,n){var r,i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ti(t),e.next=3,Yu(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Iu._fromIdTokenResponse(r,"signIn",i);case 6:return u=e.sent,e.next=9,r._updateCurrentUser(u.user);case 9:return e.abrupt("return",u);case 10:case"end":return e.stop()}}),e)}))),Xu.apply(this,arguments)}var Ju=function(){function e(t,n){l(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return h(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Zu._fromServerResponse(e,t):fr(e,"internal-error")}}]),e}(),Zu=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return h(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Ju);function ea(e,t,n){var r;mr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),mr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(mr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(mr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function ta(){return ta=Le(Fe().mark((function e(t,n,r){var i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gt(t),u={requestType:"PASSWORD_RESET",email:n},r&&ea(i,u,r),e.next=5,Wi(i,u);case 5:case"end":return e.stop()}}),e)}))),ta.apply(this,arguments)}function na(){return na=Le(Fe().mark((function e(t,n,r){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pi(gt(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),na.apply(this,arguments)}function ra(){return ra=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ui(gt(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),ra.apply(this,arguments)}function ia(e,t){return ua.apply(this,arguments)}function ua(){return ua=Le(Fe().mark((function e(t,n){var r,i,u,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gt(t),e.next=3,Pi(r,{oobCode:n});case 3:i=e.sent,mr(u=i.requestType,r,"internal-error"),e.t0=u,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return mr(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:mr(i.mfaInfo,r,"internal-error");case 13:mr(i.email,r,"internal-error");case 14:return a=null,i.mfaInfo&&(a=Ju._fromServerResponse(Ti(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:a},operation:u});case 17:case"end":return e.stop()}}),e)}))),ua.apply(this,arguments)}function aa(){return aa=Le(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ia(gt(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),aa.apply(this,arguments)}function oa(e,t,n){return sa.apply(this,arguments)}function sa(){return sa=Le(Fe().mark((function e(t,n,r){var i,u,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ti(t),e.next=3,_u(i,{returnSecureToken:!0,email:n,password:r});case 3:return u=e.sent,e.next=6,Iu._fromIdTokenResponse(i,"signIn",u);case 6:return a=e.sent,e.next=9,i._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),sa.apply(this,arguments)}function ca(){return ca=Le(Fe().mark((function e(t,n,r){var i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gt(t),u={requestType:"EMAIL_SIGNIN",email:n},mr(r.handleCodeInApp,i,"argument-error"),r&&ea(i,u,r),e.next=6,Yi(i,u);case 6:case"end":return e.stop()}}),e)}))),ca.apply(this,arguments)}function la(){return la=Le(Fe().mark((function e(t,n,r){var i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gt(t),mr((u=vu.credentialWithLink(n,r||wr()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",zu(i,u));case 4:case"end":return e.stop()}}),e)}))),la.apply(this,arguments)}function fa(e,t){return ha.apply(this,arguments)}function ha(){return ha=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dr(t,"POST","/v1/accounts:createAuthUri",Tr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ha.apply(this,arguments)}function da(){return da=Le(Fe().mark((function e(t,n){var r,i,u,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Er()?wr():"http://localhost",i={identifier:n,continueUri:r},e.next=4,fa(gt(t),i);case 4:return u=e.sent,a=u.signinMethods,e.abrupt("return",a||[]);case 7:case"end":return e.stop()}}),e)}))),da.apply(this,arguments)}function pa(){return(pa=Le(Fe().mark((function e(t,n){var r,i,u,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=gt(t),e.next=3,t.getIdToken();case 3:return i=e.sent,u={requestType:"VERIFY_EMAIL",idToken:i},n&&ea(r.auth,u,n),e.next=8,Gi(r.auth,u);case 8:if(a=e.sent,a.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function va(){return(va=Le(Fe().mark((function e(t,n,r){var i,u,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gt(t),e.next=3,t.getIdToken();case 3:return u=e.sent,a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:u,newEmail:n},r&&ea(i.auth,a,r),e.next=8,Xi(i.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ma(e,t){return ya.apply(this,arguments)}function ya(){return ya=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Dr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ya.apply(this,arguments)}function ga(){return(ga=Le(Fe().mark((function e(t,n){var r,i,u,a,o,s,c;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return u=gt(t),e.next=6,u.getIdToken();case 6:return a=e.sent,o={idToken:a,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Yr(u,ma(u.auth,o));case 10:return s=e.sent,u.displayName=s.displayName||null,u.photoURL=s.photoUrl||null,(c=u.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=u.displayName,c.photoURL=u.photoURL),e.next=17,u._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ka(e,t,n){return ba.apply(this,arguments)}function ba(){return ba=Le(Fe().mark((function e(t,n,r){var i,u,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return u=e.sent,a={idToken:u,returnSecureToken:!0},n&&(a.email=n),r&&(a.password=r),e.next=9,Yr(t,Li(i,a));case 9:return o=e.sent,e.next=12,t._updateTokensIfNecessary(o,!0);case 12:case"end":return e.stop()}}),e)}))),ba.apply(this,arguments)}var wa=h((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};l(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ea=function(e){p(n,e);var t=b(n);function n(e,r,i,u){var a;return l(this,n),(a=t.call(this,e,r,i)).username=u,a}return h(n)}(wa),xa=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"facebook.com",r)}return h(n)}(wa),Aa=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return h(n)}(Ea),_a=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"google.com",r)}return h(n)}(wa),Ca=function(e){p(n,e);var t=b(n);function n(e,r,i){return l(this,n),t.call(this,e,"twitter.com",r,i)}return h(n)}(Ea);function Ia(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},u=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var a=null===(n=null===(t=Qr(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(a)return new wa(u,"anonymous"!==a&&"custom"!==a?a:null)}if(!r)return null;switch(r){case"facebook.com":return new xa(u,i);case"github.com":return new Aa(u,i);case"google.com":return new _a(u,i);case"twitter.com":return new Ca(u,i,e.screenName||null);case"custom":case"anonymous":return new wa(u,null);default:return new wa(u,r,i)}}(n)}var Sa=function(){function e(t,n,r){l(this,e),this.type=t,this.credential=n,this.auth=r}return h(e,[{key:"toJSON",value:function(){return{multiFactorSession:Ne({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Ta=function(){function e(t,n,r){l(this,e),this.session=t,this.hints=n,this.signInResolver=r}return h(e,[{key:"resolveSignIn",value:function(){var e=Le(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Ti(t),i=n.customData._serverResponse,u=(i.mfaInfo||[]).map((function(e){return Ju._fromServerResponse(r,e)}));mr(i.mfaPendingCredential,r,"internal-error");var a=Sa._fromMfaPendingCredential(i.mfaPendingCredential);return new e(a,u,function(){var e=Le(Fe().mark((function e(t){var u,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,a);case 2:u=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,o=Object.assign(Object.assign({},i),{idToken:u.idToken,refreshToken:u.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Iu._fromIdTokenResponse(r,n.operationType,o);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return mr(n.user,r,"internal-error"),e.abrupt("return",Iu._forOperation(n.user,n.operationType,o));case 17:fr(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Da(e,t){return Dr(e,"POST","/v2/accounts/mfaEnrollment:start",Tr(e,t))}function Fa(e,t){return Dr(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Tr(e,t))}var Na=function(){function e(t){var n=this;l(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Ju._fromServerResponse(t.auth,e)})))}))}return h(e,[{key:"getSession",value:function(){var e=Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Sa,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Le(Fe().mark((function e(t,n){var r,i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Yr(this.user,r._process(this.user.auth,i,n));case 6:return u=e.sent,e.next=9,this.user._updateTokensIfNecessary(u);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Le(Fe().mark((function e(t){var n,r,i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,Yr(this.user,Fa(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return u=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(u);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),Ra=new WeakMap;var Oa="__sak",Pa=function(){function e(t,n){l(this,e),this.storageRetriever=t,this.type=n}return h(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Oa,"1"),this.storage.removeItem(Oa),Promise.resolve(!0)):Promise.resolve(!1)}catch(AA){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Ba=function(e){p(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ze();return mi(e)||Ei(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=_i(),e._shouldAllowMigration=!0,e}return h(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),u=this.localCache[r];i!==u&&e(r,u,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var u=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},a=this.storage.getItem(r);Ai()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(u,10):u()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Le(Fe().mark((function e(t,r){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gn(v(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Le(Fe().mark((function e(t){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gn(v(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gn(v(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Pa);Ba.type="LOCAL";var La=Ba,Ma=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return h(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Pa);Ma.type="SESSION";var Ua=Ma;function ja(e){return Promise.all(e.map(function(){var e=Le(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Va=function(){function e(t){l(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return h(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Le(Fe().mark((function e(t){var n,r,i,u,a,o,s,c;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,u=r.eventType,a=r.data,null===(o=this.handlersMap[u])||void 0===o?void 0:o.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:u}),s=Array.from(o).map(function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,a));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,ja(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:u,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function qa(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Va.receivers=[];var za=function(){function e(t){l(this,e),this.target=t,this.handlers=new Set}return h(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Le(Fe().mark((function e(t,n){var r,i,u,a,o=this,s=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=qa("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);a={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),u=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(u),e(n.data.response);break;default:clearTimeout(l),clearTimeout(u),s(new Error("invalid_response"))}}},o.handlers.add(a),i.port1.addEventListener("message",a.onMessage),o.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){a&&o.removeMessageHandler(a)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ha(){return window}function Ga(){return"undefined"!==typeof Ha().WorkerGlobalScope&&"function"===typeof Ha().importScripts}function Ka(){return Wa.apply(this,arguments)}function Wa(){return(Wa=Le(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Qa(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Ya="firebaseLocalStorageDb",$a="firebaseLocalStorage",Xa="fbase_key",Ja=function(){function e(t){l(this,e),this.request=t}return h(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Za(e,t){return e.transaction([$a],t?"readwrite":"readonly").objectStore($a)}function eo(){var e=indexedDB.deleteDatabase(Ya);return new Ja(e).toPromise()}function to(){var e=indexedDB.open(Ya,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore($a,{keyPath:Xa})}catch(r){n(r)}})),e.addEventListener("success",Le(Fe().mark((function n(){var r;return Fe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains($a)){n.next=12;break}return r.close(),n.next=5,eo();case 5:return n.t0=t,n.next=8,to();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function no(e,t,n){return ro.apply(this,arguments)}function ro(){return ro=Le(Fe().mark((function e(t,n,r){var i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=Za(t,!0).put((Ne(i={},Xa,n),Ne(i,"value",r),i)),e.abrupt("return",new Ja(u).toPromise());case 2:case"end":return e.stop()}}),e)}))),ro.apply(this,arguments)}function io(e,t){return uo.apply(this,arguments)}function uo(){return uo=Le(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Za(t,!1).get(n),e.next=3,new Ja(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),uo.apply(this,arguments)}function ao(e,t){var n=Za(e,!0).delete(t);return new Ja(n).toPromise()}var oo=function(){function e(){l(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return h(e,[{key:"_openDb",value:function(){var e=Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,to();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Le(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ga()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Le(Fe().mark((function e(){var t=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Va._getInstance(Ga()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Le(Fe().mark((function e(n,r){var i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Le(Fe().mark((function e(){var t,n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ka();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new za(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Qa()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Le(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,to();case 5:return t=e.sent,e.next=8,no(t,Oa,"1");case 8:return e.next=10,ao(t,Oa);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Le(Fe().mark((function e(t,n){var r=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return no(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Le(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return io(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Le(Fe().mark((function e(t){var n=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return ao(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Le(Fe().mark((function e(){var t,n,r,i,u,a,o,s,c,l,f;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Za(e,!1).getAll();return new Ja(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Pe(t);try{for(i.s();!(u=i.n()).done;)a=u.value,o=a.fbase_key,s=a.value,r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),n.push(o))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Le(Fe().mark((function t(){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();oo.type="LOCAL";var so=oo;function co(e,t){return Dr(e,"POST","/v2/accounts/mfaSignIn:start",Tr(e,t))}function lo(e){return fo.apply(this,arguments)}function fo(){return fo=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dr(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),fo.apply(this,arguments)}function ho(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=hr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function po(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var vo=1e12,mo=function(){function e(t){l(this,e),this.auth=t,this.counter=vo,this._widgets=new Map}return h(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new yo(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||vo;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||vo;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Le(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||vo,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),yo=function(){function e(t,n,r){var i=this;l(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var u="string"===typeof t?document.getElementById(t):t;mr(u,"argument-error",{appName:n}),this.container=u,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return h(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var go=po("rcb"),ko=new Ar(3e4,6e4),bo="https://www.google.com/recaptcha/api.js?",wo=function(){function e(){var t;l(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=Ha().grecaptcha)||void 0===t?void 0:t.render)}return h(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return mr(Eo(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Ha().grecaptcha):new Promise((function(r,i){var u=Ha().setTimeout((function(){i(hr(e,"network-request-failed"))}),ko.get());Ha()[go]=function(){Ha().clearTimeout(u),delete Ha()[go];var a=Ha().grecaptcha;if(a){var o=a.render;a.render=function(e,n){var r=o(e,n);return t.counter++,r},t.hostLanguage=n,r(a)}else i(hr(e,"internal-error"))},ho("".concat(bo,"?").concat(ht({onload:go,render:"explicit",hl:n}))).catch((function(){clearTimeout(u),i(hr(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=Ha().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Eo(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var xo=function(){function e(){l(this,e)}return h(e,[{key:"load",value:function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new mo(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Ao="recaptcha",_o={theme:"light",type:"image"},Co=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},_o),r=arguments.length>2?arguments[2]:void 0;l(this,e),this.parameters=n,this.type=Ao,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ti(r),this.isInvisible="invisible"===this.parameters.size,mr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;mr(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xo:new wo,this.validateStartingState()}return h(e,[{key:"verify",value:function(){var e=Le(Fe().mark((function e(){var t,n,r,i=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){mr(!this.parameters.sitekey,this.auth,"argument-error"),mr(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),mr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ha()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){mr(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Le(Fe().mark((function e(){var t,n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Le(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mr(Er()&&!Ga(),this.auth,"internal-error"),e.next=3,Io();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,lo(this.auth);case 8:mr(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return mr(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Io(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var So=function(){function e(t,n){l(this,e),this.verificationId=t,this.onConfirmation=n}return h(e,[{key:"confirm",value:function(e){var t=du._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function To(){return To=Le(Fe().mark((function e(t,n,r){var i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ti(t),e.next=3,Ro(i,n,gt(r));case 3:return u=e.sent,e.abrupt("return",new So(u,(function(e){return zu(i,e)})));case 5:case"end":return e.stop()}}),e)}))),To.apply(this,arguments)}function Do(e,t,n){return Fo.apply(this,arguments)}function Fo(){return(Fo=Le(Fe().mark((function e(t,n,r){var i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gt(t),e.next=3,Lu(!1,i,"phone");case 3:return e.next=5,Ro(i.auth,n,gt(r));case 5:return u=e.sent,e.abrupt("return",new So(u,(function(e){return Gu(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function No(){return(No=Le(Fe().mark((function e(t,n,r){var i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=gt(t),e.next=3,Ro(i.auth,n,gt(r));case 3:return u=e.sent,e.abrupt("return",new So(u,(function(e){return Wu(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ro(e,t,n){return Oo.apply(this,arguments)}function Oo(){return Oo=Le(Fe().mark((function e(t,n,r){var i,u,a,o,s,c,l,f,h;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(u=e.sent,e.prev=3,mr("string"===typeof u,t,"argument-error"),mr(r.type===Ao,t,"argument-error"),!("session"in(a="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(o=a.session,!("phoneNumber"in a)){e.next=17;break}return mr("enroll"===o.type,t,"internal-error"),e.next=13,Da(t,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:u}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return mr("signin"===o.type,t,"internal-error"),mr(c=(null===(i=a.multiFactorHint)||void 0===i?void 0:i.uid)||a.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,co(t,{mfaPendingCredential:o.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:u}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ou(t,{phoneNumber:a.phoneNumber,recaptchaToken:u});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),Oo.apply(this,arguments)}function Po(){return(Po=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pu(gt(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bo=function(){function e(t){l(this,e),this.providerId=e.PROVIDER_ID,this.auth=Ti(t)}return h(e,[{key:"verifyPhoneNumber",value:function(e,t){return Ro(this.auth,e,gt(t))}}],[{key:"credential",value:function(e,t){return du._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?du._fromTokenResponse(n,r):null}}]),e}();function Lo(e,t){return t?br(t):(mr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Bo.PROVIDER_ID="phone",Bo.PHONE_SIGN_IN_METHOD="phone";var Mo=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"custom","custom")).params=e,r}return h(n,[{key:"_getIdTokenResponse",value:function(e){return iu(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return iu(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return iu(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Oi);function Uo(e){return Vu(e.auth,new Mo(e),e.bypassAuthState)}function jo(e){var t=e.auth,n=e.user;return mr(n,t,"internal-error"),Uu(n,new Mo(e),e.bypassAuthState)}function Vo(e){return qo.apply(this,arguments)}function qo(){return qo=Le(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,mr(r=t.user,n,"internal-error"),e.abrupt("return",Pu(r,new Mo(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),qo.apply(this,arguments)}var zo=function(){function e(t,n,r,i){var u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];l(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return h(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Le(Fe().mark((function t(n,r){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Le(Fe().mark((function e(t){var n,r,i,u,a,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,u=t.tenantId,a=t.error,o=t.type,!a){e.next=4;break}return this.reject(a),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(o)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Uo;case"linkViaPopup":case"linkViaRedirect":return Vo;case"reauthViaPopup":case"reauthViaRedirect":return jo;default:fr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ho=new Ar(2e3,1e4);function Go(e,t,n){return Ko.apply(this,arguments)}function Ko(){return Ko=Le(Fe().mark((function e(t,n,r){var i,u,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ti(t),pr(t,n,mu),u=Lo(i,r),a=new $o(i,"signInViaPopup",n,u),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Ko.apply(this,arguments)}function Wo(){return(Wo=Le(Fe().mark((function e(t,n,r){var i,u,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pr((i=gt(t)).auth,n,mu),u=Lo(i.auth,r),a=new $o(i.auth,"reauthViaPopup",n,u,i),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qo(e,t,n){return Yo.apply(this,arguments)}function Yo(){return(Yo=Le(Fe().mark((function e(t,n,r){var i,u,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pr((i=gt(t)).auth,n,mu),u=Lo(i.auth,r),a=new $o(i.auth,"linkViaPopup",n,u,i),e.abrupt("return",a.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $o=function(e){p(n,e);var t=b(n);function n(e,r,i,u,a){var o;return l(this,n),(o=t.call(this,e,r,u,a)).provider=i,o.authWindow=null,o.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=g(o),o}return h(n,[{key:"executeNotNull",value:function(){var e=Le(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return mr(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Le(Fe().mark((function e(){var t,n=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gr(1===this.filter.length,"Popup operations only handle one event"),t=qa(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(hr(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(hr(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(hr(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ho.get())}()}}]),n}(zo);$o.currentPopupAction=null;var Xo=new Map,Jo=function(e){p(n,e);var t=b(n);function n(e,r){var i,u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,u)).eventId=null,i}return h(n,[{key:"execute",value:function(){var e=Le(Fe().mark((function e(){var t,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Xo.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Zo(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Gn(v(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Xo.set(this.auth._key(),t);case 21:return this.bypassAuthState||Xo.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Le(Fe().mark((function e(t){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Gn(v(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Gn(v(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(zo);function Zo(e,t){return es.apply(this,arguments)}function es(){return es=Le(Fe().mark((function e(t,n){var r,i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=us(n),i=is(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,u="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",u);case 13:case"end":return e.stop()}}),e)}))),es.apply(this,arguments)}function ts(e,t){return ns.apply(this,arguments)}function ns(){return ns=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",is(t)._set(us(n),"true"));case 1:case"end":return e.stop()}}),e)}))),ns.apply(this,arguments)}function rs(e,t){Xo.set(e._key(),t)}function is(e){return br(e._redirectPersistence)}function us(e){return hi("pendingRedirect",e.config.apiKey,e.name)}function as(e,t,n){return function(e,t,n){return os.apply(this,arguments)}(e,t,n)}function os(){return os=Le(Fe().mark((function e(t,n,r){var i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ti(t),pr(t,n,mu),u=Lo(i,r),e.next=5,ts(u,i);case 5:return e.abrupt("return",u._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),os.apply(this,arguments)}function ss(e,t,n){return function(e,t,n){return cs.apply(this,arguments)}(e,t,n)}function cs(){return(cs=Le(Fe().mark((function e(t,n,r){var i,u,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pr((i=gt(t)).auth,n,mu),u=Lo(i.auth,r),e.next=5,ts(u,i.auth);case 5:return e.next=7,ms(i);case 7:return a=e.sent,e.abrupt("return",u._openRedirect(i.auth,n,"reauthViaRedirect",a));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ls(e,t,n){return function(e,t,n){return fs.apply(this,arguments)}(e,t,n)}function fs(){return(fs=Le(Fe().mark((function e(t,n,r){var i,u,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return pr((i=gt(t)).auth,n,mu),u=Lo(i.auth,r),e.next=5,Lu(!1,i,n.providerId);case 5:return e.next=7,ts(u,i.auth);case 7:return e.next=9,ms(i);case 9:return a=e.sent,e.abrupt("return",u._openRedirect(i.auth,n,"linkViaRedirect",a));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hs(e,t){return ds.apply(this,arguments)}function ds(){return ds=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ti(t)._initializationPromise;case 2:return e.abrupt("return",ps(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),ds.apply(this,arguments)}function ps(e,t){return vs.apply(this,arguments)}function vs(){return vs=Le(Fe().mark((function e(t,n){var r,i,u,a,o,s=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Ti(t),u=Lo(i,n),a=new Jo(i,u,r),e.next=6,a.execute();case 6:if(!(o=e.sent)||r){e.next=13;break}return delete o.user._redirectEventId,e.next=11,i._persistUserIfCurrent(o.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)}))),vs.apply(this,arguments)}function ms(e){return ys.apply(this,arguments)}function ys(){return(ys=Le(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=qa("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gs=function(){function e(t){l(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return h(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!bs(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(hr(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ks(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ks(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ks(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function bs(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ws(e){return Es.apply(this,arguments)}function Es(){return Es=Le(Fe().mark((function e(t){var n,r=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Dr(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}var xs=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,As=/^https?/;function _s(){return _s=Le(Fe().mark((function e(t){var n,r,i,u,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ws(t);case 4:n=e.sent,r=n.authorizedDomains,i=Pe(r),e.prev=7,i.s();case 9:if((u=i.n()).done){e.next=20;break}if(a=u.value,e.prev=11,!Cs(a)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:fr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),_s.apply(this,arguments)}function Cs(e){var t=wr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var u=new URL(e);return""===u.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&u.hostname===i}if(!As.test(r))return!1;if(xs.test(e))return i===e;var a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}var Is=new Ar(3e4,6e4);function Ss(){var e=Ha().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=c(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Ts=null;function Ds(e){return Ts=Ts||function(e){return new Promise((function(t,n){var r,i,u;function a(){Ss(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ss(),n(hr(e,"network-request-failed"))},timeout:Is.get()})}if(null===(i=null===(r=Ha().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(u=Ha().gapi)||void 0===u?void 0:u.load)){var o=po("iframefcb");return Ha()[o]=function(){gapi.load?a():n(hr(e,"network-request-failed"))},ho("https://apis.google.com/js/api.js?onload=".concat(o)).catch((function(e){return n(e)}))}a()}})).catch((function(e){throw Ts=null,e}))}(e),Ts}var Fs=new Ar(5e3,15e3),Ns={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Os(e){var t=e.config;mr(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?_r(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:dn},i=Rs.get(e.config.apiHost);i&&(r.eid=i);var u=e._getFrameworks();return u.length&&(r.fw=u.join(",")),"".concat(n,"?").concat(ht(r).slice(1))}function Ps(e){return Bs.apply(this,arguments)}function Bs(){return Bs=Le(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ds(t);case 2:return n=e.sent,mr(r=Ha().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Os(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ns,dontclear:!0},(function(e){return new Promise(function(){var n=Le(Fe().mark((function n(r,i){var u,a,o;return Fe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=function(){Ha().clearTimeout(a),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:u=hr(t,"network-request-failed"),a=Ha().setTimeout((function(){i(u)}),Fs.get()),e.ping(o).then(o,(function(){i(u)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Bs.apply(this,arguments)}var Ls={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ms="_blank",Us="http://localhost",js=function(){function e(t){l(this,e),this.window=t,this.associatedEvent=null}return h(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Vs(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,u=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),o="",s=Object.assign(Object.assign({},Ls),{width:r.toString(),height:i.toString(),top:u,left:a}),c=Ze().toLowerCase();n&&(o=yi(c)?Ms:n),vi(c)&&(t=t||Us,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=x(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(xi(c)&&"_self"!==o)return qs(t||"",o),new js(null);var f=window.open(t||"",o,l);mr(f,e,"popup-blocked");try{f.focus()}catch(h){}return new js(f)}function qs(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var zs="__/auth/handler",Hs="emulator/auth/handler";function Gs(e,t,n,r,i,u){mr(e.config.authDomain,e,"auth-domain-config-required"),mr(e.config.apiKey,e,"invalid-api-key");var a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:dn,eventId:i};if(t instanceof mu){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(var o=0,s=Object.entries(u||{});o<s.length;o++){var c=x(s[o],2),l=c[0],f=c[1];a[l]=f}}if(t instanceof yu){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(a.scopes=h.join(","))}e.tenantId&&(a.tid=e.tenantId);for(var d=a,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(zs);return _r(t,Hs)}(e),"?").concat(ht(d).slice(1))}var Ks="webStorageSupport",Ws=function(){function e(){l(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ua,this._completeRedirectFn=ps,this._overrideRedirectResult=rs}return h(e,[{key:"_openPopup",value:function(){var e=Le(Fe().mark((function e(t,n,r,i){var u,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gr(null===(u=this.eventManagers[t._key()])||void 0===u?void 0:u.manager,"_initialize() not called before _openPopup()"),a=Gs(t,n,r,wr(),i),e.abrupt("return",Vs(t,a,qa()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Le(Fe().mark((function e(t,n,r,i){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return u=Gs(t,n,r,wr(),i),Ha().location.href=u,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var u}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,u=r.promise;return i?Promise.resolve(i):(gr(u,"If manager is not set, promise should be"),u)}var a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch((function(){delete t.eventManagers[n]})),a}},{key:"initAndGetManager",value:function(){var e=Le(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ps(t);case 2:return n=e.sent,r=new gs(t),n.register("authEvent",(function(e){return mr(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Ks,{type:Ks},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),fr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return _s.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return _i()||mi()||Ei()}}]),e}(),Qs=Ws,Ys=function(){function e(t){l(this,e),this.factorId=t}return h(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return yr("unexpected MultiFactorSessionType")}}}]),e}(),$s=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone")).credential=e,r}return h(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Dr(e,"POST","/v2/accounts/mfaEnrollment:finalize",Tr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Dr(e,"POST","/v2/accounts/mfaSignIn:finalize",Tr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Ys),Xs=function(){function e(){l(this,e)}return h(e,null,[{key:"assertion",value:function(e){return $s._fromCredential(e)}}]),e}();Xs.FACTOR_ID="phone";var Js,Zs="@firebase/auth",ec="0.20.7",tc=function(){function e(t){l(this,e),this.auth=t,this.internalListeners=new Map}return h(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Le(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){mr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function nc(){return window}Js="Browser",an(new kt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),u=r.options,a=u.apiKey,o=u.authDomain;return function(e,t){mr(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),mr(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var r={apiKey:a,authDomain:o,clientPlatform:Js,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ci(Js)},i=new Si(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(br);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),an(new kt("auth-internal",(function(e){return function(e){return new tc(e)}(Ti(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),kn(Zs,ec,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Js)),kn(Zs,ec,"esm2017");function rc(e,t,n){return ic.apply(this,arguments)}function ic(){return ic=Le(Fe().mark((function e(t,n,r){var i,u,a,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=nc(),a=u.BuildInfo,gr(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,lc(n.sessionId);case 4:return o=e.sent,s={},Ei()?s.ibi=a.packageName:ki()?s.apn=a.packageName:fr(t,"operation-not-supported-in-this-environment"),a.displayName&&(s.appDisplayName=a.displayName),s.sessionId=o,e.abrupt("return",Gs(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),ic.apply(this,arguments)}function uc(){return uc=Le(Fe().mark((function e(t){var n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nc(),r=n.BuildInfo,i={},Ei()?i.iosBundleId=r.packageName:ki()?i.androidPackageName=r.packageName:fr(t,"operation-not-supported-in-this-environment"),e.next=5,ws(t,i);case 5:case"end":return e.stop()}}),e)}))),uc.apply(this,arguments)}function ac(e){var t=nc().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function oc(e,t,n){return sc.apply(this,arguments)}function sc(){return sc=Le(Fe().mark((function e(t,n,r){var i,u,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=nc(),u=i.cordova,a=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var o=null;function s(){var t;e();var n=null===(t=u.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){o||(o=window.setTimeout((function(){i(hr(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),ki()&&document.addEventListener("visibilitychange",l,!1),a=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),o&&window.clearTimeout(o)}}));case 5:return e.prev=5,a(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),sc.apply(this,arguments)}function cc(e){var t,n,r,i,u,a,o,s,c,l,f=nc();mr("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),mr("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),mr("function"===typeof(null===(u=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===u?void 0:u.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),mr("function"===typeof(null===(s=null===(o=null===(a=null===f||void 0===f?void 0:f.cordova)||void 0===a?void 0:a.plugins)||void 0===o?void 0:o.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),mr("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function lc(e){return fc.apply(this,arguments)}function fc(){return(fc=Le(Fe().mark((function e(t){var n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=hc(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hc(e){if(gr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var dc=function(e){p(n,e);var t=b(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return h(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Gn(v(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(gs);function pc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:kc(),postBody:null,tenantId:e.tenantId,error:hr(e,"no-auth-event")}}function vc(e,t){return bc()._set(wc(e),t)}function mc(e){return yc.apply(this,arguments)}function yc(){return yc=Le(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bc()._get(wc(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,bc()._remove(wc(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}function gc(e,t){var n,r,i=function(e){var t=Ec(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ec(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ec(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var u=Ec(i),a=u.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(u.firebaseError)):null,o=null===(r=null===(n=null===a||void 0===a?void 0:a.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=o?hr(o):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function kc(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function bc(){return br(La)}function wc(e){return hi("authEvent",e.config.apiKey,e.name)}function Ec(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=w(t=n)||o(t)||s(t)||E();r[0];return dt(r.slice(1).join("?"))}var xc=function(){function e(){l(this,e),this._redirectPersistence=Ua,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ps,this._overrideRedirectResult=rs}return h(e,[{key:"_initialize",value:function(){var e=Le(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new dc(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){fr(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Le(Fe().mark((function e(t,n,r,i){var u,a,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return cc(t),e.next=3,this._initialize(t);case 3:return u=e.sent,e.next=6,u.initialized();case 6:return u.resetRedirect(),Xo.clear(),e.next=10,this._originValidation(t);case 10:return a=pc(t,r,i),e.next=13,vc(t,a);case 13:return e.next=15,rc(t,a,n);case 15:return o=e.sent,e.next=18,ac(o);case 18:return s=e.sent,e.abrupt("return",oc(t,u,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return uc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=nc(),r=n.universalLinks,i=n.handleOpenURL,u=n.BuildInfo,a=setTimeout(Le(Fe().mark((function n(){return Fe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,mc(e);case 2:t.onEvent(_c());case 3:case"end":return n.stop()}}),n)}))),500),o=function(){var n=Le(Fe().mark((function n(r){var i,u;return Fe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(a),n.next=3,mc(e);case 3:i=n.sent,u=null,i&&(null===r||void 0===r?void 0:r.url)&&(u=gc(i,r.url)),t.onEvent(u||_c());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,o);var s=i,c="".concat(u.packageName.toLowerCase(),"://");nc().handleOpenURL=function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&o({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Ac=xc;function _c(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:hr("no-auth-event")}}function Cc(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ic(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return!("file:"!==Cc()&&"ionic:"!==Cc()&&"capacitor:"!==Cc()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sc(){return rt()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Tc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return/Edge\/\d+/.test(e)}function Dc(){try{var e=self.localStorage,t=qa();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ze();return Sc()||Tc(e)}()||it()}catch(n){return Fc()&&it()}return!1}function Fc(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Nc(){return("http:"===Cc()||"https:"===Cc()||tt()||Ic())&&!(nt()||et())&&Dc()&&!Fc()}function Rc(){return Ic()&&"undefined"!==typeof document}function Oc(){return Pc.apply(this,arguments)}function Pc(){return(Pc=Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Rc()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bc={LOCAL:"local",NONE:"none",SESSION:"session"},Lc=mr,Mc="persistence";function Uc(e,t){Lc(Object.values(Bc).includes(t),e,"invalid-persistence-type"),nt()?Lc(t!==Bc.SESSION,e,"unsupported-persistence-type"):et()?Lc(t===Bc.NONE,e,"unsupported-persistence-type"):Fc()?Lc(t===Bc.NONE||t===Bc.LOCAL&&it(),e,"unsupported-persistence-type"):Lc(t===Bc.NONE||Dc(),e,"unsupported-persistence-type")}function jc(e){return Vc.apply(this,arguments)}function Vc(){return Vc=Le(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=qc(),r=hi(Mc,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Vc.apply(this,arguments)}function qc(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var zc=mr,Hc=function(){function e(){l(this,e),this.browserResolver=br(Qs),this.cordovaResolver=br(Ac),this.underlyingResolver=null,this._redirectPersistence=Ua,this._completeRedirectFn=ps,this._overrideRedirectResult=rs}return h(e,[{key:"_initialize",value:function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Le(Fe().mark((function e(t,n,r,i){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Le(Fe().mark((function e(t,n,r,i){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Rc()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return zc(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Le(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Oc();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Gc(e){return e.unwrap()}function Kc(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new Xc(e,function(e,t){var n,r=gt(e),i=t;return mr(t.customData.operationType,r,"argument-error"),mr(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Ta._fromError(r,i)}(e,t));else if(i){var u=Wc(t),a=t;u&&(a.credential=u,a.tenantId=i.tenantId||void 0,a.email=i.email||void 0,a.phoneNumber=i.phoneNumber||void 0)}}function Wc(e){var t=(e instanceof ut?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof ut)&&"temporaryProof"in t&&"phoneNumber"in t)return Bo.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Xn)return null;switch(r){case $n:n=bu;break;case Qn:n=ku;break;case Yn:n=wu;break;case Jn:n=Au;break;default:var i=t.oauthIdToken,u=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce;return u||a||i||o?o?r.startsWith("saml.")?Eu._create(r,o):au._fromParams({providerId:r,signInMethod:r,pendingToken:o,idToken:i,accessToken:u}):new gu(r).credential({idToken:i,accessToken:u,rawNonce:s}):null}return e instanceof ut?n.credentialFromError(e):n.credentialFromResult(e)}function Qc(e,t){return t.catch((function(t){throw t instanceof ut&&Kc(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Wc(t)),additionalUserInfo:Ia(e),user:Jc.getOrCreate(r)}}))}function Yc(e,t){return $c.apply(this,arguments)}function $c(){return $c=Le(Fe().mark((function e(t,n){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Qc(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),$c.apply(this,arguments)}var Xc=function(){function e(t,n){l(this,e),this.resolver=n,this.auth=t.wrapped()}return h(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Qc(Gc(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Jc=function(){function e(t){l(this,e),this._delegate=t,this.multiFactor=function(e){var t=gt(e);return Ra.has(t)||Ra.set(t,Na._fromUser(t)),Ra.get(t)}(t)}return h(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qc(this.auth,Gu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yc(this.auth,Do(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qc(this.auth,Qo(this._delegate,t,Hc)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jc(Ti(this.auth));case 2:return e.abrupt("return",ls(this._delegate,t,Hc));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qc(this.auth,Wu(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Yc(this.auth,function(e,t,n){return No.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Qc(this.auth,function(e,t,n){return Wo.apply(this,arguments)}(this._delegate,e,Hc))}},{key:"reauthenticateWithRedirect",value:function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jc(Ti(this.auth));case 2:return e.abrupt("return",ss(this._delegate,t,Hc));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return pa.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ru(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return ka(gt(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return ka(gt(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Po.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return ga.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return va.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Jc.USER_MAP=new WeakMap;var Zc=mr,el=function(){function e(t,n){if(l(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Zc(r,"invalid-api-key",{appName:t.name}),Zc(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Hc:void 0;this._delegate=n.initialize({options:{persistence:nl(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ar),this.linkUnderlyingAuth()}return h(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Jc.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Fi(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return ra.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return ia(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return na.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qc(this._delegate,oa(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return da.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=pu.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Le(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zc(Nc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,hs(this._delegate,Hc);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Qc(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Ti(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=tl(e,t,n),i=r.next,u=r.error,a=r.complete;return this._delegate.onAuthStateChanged(i,u,a)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=tl(e,t,n),i=r.next,u=r.error,a=r.complete;return this._delegate.onIdTokenChanged(i,u,a)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ca.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return ta.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Le(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Uc(this._delegate,t),e.t0=t,e.next=e.t0===Bc.SESSION?4:e.t0===Bc.LOCAL?6:e.t0===Bc.NONE?11:13;break;case 4:return n=Ua,e.abrupt("break",14);case 6:return e.next=8,br(so)._isAvailable();case 8:return r=e.sent,n=r?so:La,e.abrupt("break",14);case 11:return n=fi,e.abrupt("break",14);case 13:return e.abrupt("return",fr("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Qc(this._delegate,function(e){return Tu.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Qc(this._delegate,zu(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Qc(this._delegate,function(e,t){return Xu.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Qc(this._delegate,function(e,t,n){return zu(gt(e),vu.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Qc(this._delegate,function(e,t,n){return la.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Yc(this._delegate,function(e,t,n){return To.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zc(Nc(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Qc(this._delegate,Go(this._delegate,t,Hc)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zc(Nc(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,jc(this._delegate);case 3:return e.abrupt("return",as(this._delegate,t,Hc));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return aa.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function tl(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Jc.getOrCreate(e))},error:t,complete:n}}function nl(e,t){var n=function(e,t){var n=qc();if(!n)return[];var r=hi(Mc,e,t);switch(n.getItem(r)){case Bc.NONE:return[fi];case Bc.LOCAL:return[so,Ua];case Bc.SESSION:return[Ua];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(so)||n.push(so),"undefined"!==typeof window)for(var r=0,i=[La,Ua];r<i.length;r++){var u=i[r];n.includes(u)||n.push(u)}return n.includes(fi)||n.push(fi),n}el.Persistence=Bc;var rl=function(){function e(){l(this,e),this.providerId="phone",this._delegate=new Bo(Gc(zn.auth()))}return h(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return Bo.credential(e,t)}}]),e}();rl.PHONE_SIGN_IN_METHOD=Bo.PHONE_SIGN_IN_METHOD,rl.PROVIDER_ID=Bo.PROVIDER_ID;var il,ul=mr,al=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zn.app();l(this,e),ul(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Co(t,n,i.auth()),this.type=this._delegate.type}return h(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(il=zn).INTERNAL.registerComponent(new kt("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new el(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Zn,PASSWORD_RESET:er,RECOVER_EMAIL:tr,REVERT_SECOND_FACTOR_ADDITION:nr,VERIFY_AND_CHANGE_EMAIL:rr,VERIFY_EMAIL:ir}},EmailAuthProvider:vu,FacebookAuthProvider:ku,GithubAuthProvider:wu,GoogleAuthProvider:bu,OAuthProvider:gu,SAMLAuthProvider:xu,PhoneAuthProvider:rl,PhoneMultiFactorGenerator:Xs,RecaptchaVerifier:al,TwitterAuthProvider:Au,Auth:el,AuthCredential:Oi,Error:ut}).setInstantiationMode("LAZY").setMultipleInstances(!1)),il.registerVersion("@firebase/auth-compat","0.2.20");var ol,sl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},cl={},ll=ll||{},fl=sl||self;function hl(){}function dl(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function pl(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var vl="closure_uid_"+(1e9*Math.random()>>>0),ml=0;function yl(e,t,n){return e.call.apply(e.bind,arguments)}function gl(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function kl(e,t,n){return(kl=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yl:gl).apply(null,arguments)}function bl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function wl(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),u=2;u<arguments.length;u++)i[u-2]=arguments[u];return t.prototype[n].apply(e,i)}}function El(){this.s=this.s,this.o=this.o}var xl={};El.prototype.s=!1,El.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,vl)&&e[vl]||(e[vl]=++ml)}(this);delete xl[e]}},El.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Al=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function _l(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Cl(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(dl(r)){var i=e.length||0,u=r.length||0;e.length=i+u;for(var a=0;a<u;a++)e[i+a]=r[a]}else e.push(r)}}function Il(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Il.prototype.h=function(){this.defaultPrevented=!0};var Sl=function(){if(!fl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{fl.addEventListener("test",hl,t),fl.removeEventListener("test",hl,t)}catch(n){}return e}();function Tl(e){return/^[\s\xa0]*$/.test(e)}var Dl=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Fl(e,t){return e<t?-1:e>t?1:0}function Nl(){var e=fl.navigator;return e&&(e=e.userAgent)?e:""}function Rl(e){return-1!=Nl().indexOf(e)}function Ol(e){return Ol[" "](e),e}Ol[" "]=hl;var Pl,Bl=Rl("Opera"),Ll=Rl("Trident")||Rl("MSIE"),Ml=Rl("Edge"),Ul=Ml||Ll,jl=Rl("Gecko")&&!(-1!=Nl().toLowerCase().indexOf("webkit")&&!Rl("Edge"))&&!(Rl("Trident")||Rl("MSIE"))&&!Rl("Edge"),Vl=-1!=Nl().toLowerCase().indexOf("webkit")&&!Rl("Edge");function ql(){var e=fl.document;return e?e.documentMode:void 0}e:{var zl="",Hl=function(){var e=Nl();return jl?/rv:([^\);]+)(\)|;)/.exec(e):Ml?/Edge\/([\d\.]+)/.exec(e):Ll?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Vl?/WebKit\/(\S+)/.exec(e):Bl?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Hl&&(zl=Hl?Hl[1]:""),Ll){var Gl=ql();if(null!=Gl&&Gl>parseFloat(zl)){Pl=String(Gl);break e}}Pl=zl}var Kl,Wl={};function Ql(){return function(e){var t=Wl;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Dl(String(Pl)).split("."),n=Dl("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var u=t[i]||"",a=n[i]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==u[0].length&&0==a[0].length)break;e=Fl(0==u[1].length?0:parseInt(u[1],10),0==a[1].length?0:parseInt(a[1],10))||Fl(0==u[2].length,0==a[2].length)||Fl(u[2],a[2]),u=u[3],a=a[3]}while(0==e)}return 0<=e}))}if(fl.document&&Ll){var Yl=ql();Kl=Yl||(parseInt(Pl,10)||void 0)}else Kl=void 0;var $l=Kl;function Xl(e,t){if(Il.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(jl){e:{try{Ol(t.nodeName);var i=!0;break e}catch(u){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Jl[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Xl.X.h.call(this)}}wl(Xl,Il);var Jl={2:"touch",3:"pen",4:"mouse"};Xl.prototype.h=function(){Xl.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Zl="closure_listenable_"+(1e6*Math.random()|0),ef=0;function tf(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++ef,this.ba=this.ea=!1}function nf(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function rf(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function uf(e){var t={};for(var n in e)t[n]=e[n];return t}var af="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function of(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var u=0;u<af.length;u++)n=af[u],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function sf(e){this.src=e,this.g={},this.h=0}function cf(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],u=Al(i,t);(r=0<=u)&&Array.prototype.splice.call(i,u,1),r&&(nf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function lf(e,t,n,r){for(var i=0;i<e.length;++i){var u=e[i];if(!u.ba&&u.listener==t&&u.capture==!!n&&u.ha==r)return i}return-1}sf.prototype.add=function(e,t,n,r,i){var u=e.toString();(e=this.g[u])||(e=this.g[u]=[],this.h++);var a=lf(e,t,r,i);return-1<a?(t=e[a],n||(t.ea=!1)):((t=new tf(t,this.src,u,!!r,i)).ea=n,e.push(t)),t};var ff="closure_lm_"+(1e6*Math.random()|0),hf={};function df(e,t,n,r,i){if(r&&r.once)return vf(e,t,n,r,i);if(Array.isArray(t)){for(var u=0;u<t.length;u++)df(e,t[u],n,r,i);return null}return n=Ef(n),e&&e[Zl]?e.N(t,n,pl(r)?!!r.capture:!!r,i):pf(e,t,n,!1,r,i)}function pf(e,t,n,r,i,u){if(!t)throw Error("Invalid event type");var a=pl(i)?!!i.capture:!!i,o=bf(e);if(o||(e[ff]=o=new sf(e)),(n=o.add(t,n,r,a,u)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=kf;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Sl||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(gf(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function vf(e,t,n,r,i){if(Array.isArray(t)){for(var u=0;u<t.length;u++)vf(e,t[u],n,r,i);return null}return n=Ef(n),e&&e[Zl]?e.O(t,n,pl(r)?!!r.capture:!!r,i):pf(e,t,n,!0,r,i)}function mf(e,t,n,r,i){if(Array.isArray(t))for(var u=0;u<t.length;u++)mf(e,t[u],n,r,i);else r=pl(r)?!!r.capture:!!r,n=Ef(n),e&&e[Zl]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=lf(u=e.g[t],n,r,i))&&(nf(u[n]),Array.prototype.splice.call(u,n,1),0==u.length&&(delete e.g[t],e.h--)))):e&&(e=bf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=lf(t,n,r,i)),(n=-1<e?t[e]:null)&&yf(n))}function yf(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Zl])cf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(gf(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bf(t))?(cf(n,e),0==n.h&&(n.src=null,t[ff]=null)):nf(e)}}}function gf(e){return e in hf?hf[e]:hf[e]="on"+e}function kf(e,t){if(e.ba)e=!0;else{t=new Xl(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&yf(e),e=n.call(r,t)}return e}function bf(e){return(e=e[ff])instanceof sf?e:null}var wf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ef(e){return"function"===typeof e?e:(e[wf]||(e[wf]=function(t){return e.handleEvent(t)}),e[wf])}function xf(){El.call(this),this.i=new sf(this),this.P=this,this.I=null}function Af(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Il(t,e);else if(t instanceof Il)t.target=t.target||e;else{var i=t;of(t=new Il(r,e),i)}if(i=!0,n)for(var u=n.length-1;0<=u;u--){var a=t.g=n[u];i=_f(a,r,!0,t)&&i}if(i=_f(a=t.g=e,r,!0,t)&&i,i=_f(a,r,!1,t)&&i,n)for(u=0;u<n.length;u++)i=_f(a=t.g=n[u],r,!1,t)&&i}function _f(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,u=0;u<t.length;++u){var a=t[u];if(a&&!a.ba&&a.capture==n){var o=a.listener,s=a.ha||a.src;a.ea&&cf(e.i,a),i=!1!==o.call(s,r)&&i}}return i&&!r.defaultPrevented}wl(xf,El),xf.prototype[Zl]=!0,xf.prototype.removeEventListener=function(e,t,n,r){mf(this,e,t,n,r)},xf.prototype.M=function(){if(xf.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)nf(n[r]);delete t.g[e],t.h--}}this.I=null},xf.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},xf.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Cf=fl.JSON.stringify;function If(){var e=Pf,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Sf,Tf=function(){function e(){l(this,e),this.h=this.g=null}return h(e,[{key:"add",value:function(e,t){var n=Df.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Df=new(function(){function e(t,n){l(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return h(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Ff}),(function(e){return e.reset()})),Ff=function(){function e(){l(this,e),this.next=this.g=this.h=null}return h(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Nf(e){fl.setTimeout((function(){throw e}),0)}function Rf(e,t){Sf||function(){var e=fl.Promise.resolve(void 0);Sf=function(){e.then(Bf)}}(),Of||(Sf(),Of=!0),Pf.add(e,t)}var Of=!1,Pf=new Tf;function Bf(){for(var e;e=If();){try{e.h.call(e.g)}catch(n){Nf(n)}var t=Df;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Of=!1}function Lf(e,t){xf.call(this),this.h=e||1,this.g=t||fl,this.j=kl(this.kb,this),this.l=Date.now()}function Mf(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Uf(e,t,n){if("function"===typeof e)n&&(e=kl(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=kl(e.handleEvent,e)}return 2147483647<Number(t)?-1:fl.setTimeout(e,t||0)}function jf(e){e.g=Uf((function(){e.g=null,e.i&&(e.i=!1,jf(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}wl(Lf,xf),(ol=Lf.prototype).ca=!1,ol.R=null,ol.kb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Af(this,"tick"),this.ca&&(Mf(this),this.start()))}},ol.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ol.M=function(){Lf.X.M.call(this),Mf(this),delete this.g};var Vf=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return h(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:jf(this)}},{key:"M",value:function(){Gn(v(n.prototype),"M",this).call(this),this.g&&(fl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(El);function qf(e){El.call(this),this.h=e,this.g={}}wl(qf,El);var zf=[];function Hf(e,t,n,r){Array.isArray(n)||(n&&(zf[0]=n.toString()),n=zf);for(var i=0;i<n.length;i++){var u=df(t,n[i],r||e.handleEvent,!1,e.h||e);if(!u)break;e.g[u.key]=u}}function Gf(e){rf(e.g,(function(e,t){this.g.hasOwnProperty(t)&&yf(e)}),e),e.g={}}function Kf(){this.g=!0}function Wf(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var a=1;a<i.length;a++)i[a]=""}}}return Cf(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}qf.prototype.M=function(){qf.X.M.call(this),Gf(this)},qf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Kf.prototype.Aa=function(){this.g=!1},Kf.prototype.info=function(){};var Qf={},Yf=null;function $f(){return Yf=Yf||new xf}function Xf(e){Il.call(this,Qf.Oa,e)}function Jf(e){var t=$f();Af(t,new Xf(t,e))}function Zf(e,t){Il.call(this,Qf.STAT_EVENT,e),this.stat=t}function eh(e){var t=$f();Af(t,new Zf(t,e))}function th(e,t){Il.call(this,Qf.Pa,e),this.size=t}function nh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return fl.setTimeout((function(){e()}),t)}Qf.Oa="serverreachability",wl(Xf,Il),Qf.STAT_EVENT="statevent",wl(Zf,Il),Qf.Pa="timingevent",wl(th,Il);var rh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},ih={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function uh(){}function ah(e){return e.h||(e.h=e.i())}function oh(){}uh.prototype.h=null;var sh,ch={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function lh(){Il.call(this,"d")}function fh(){Il.call(this,"c")}function hh(){}function dh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new qf(this),this.O=vh,e=Ul?125:void 0,this.T=new Lf(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ph}function ph(){this.i=null,this.g="",this.h=!1}wl(lh,Il),wl(fh,Il),wl(hh,uh),hh.prototype.g=function(){return new XMLHttpRequest},hh.prototype.i=function(){return{}},sh=new hh;var vh=45e3,mh={},yh={};function gh(e,t,n){e.K=1,e.v=Lh(Nh(t)),e.s=n,e.P=!0,kh(e,null)}function kh(e,t){e.F=Date.now(),xh(e),e.A=Nh(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),$h(n.i,"t",r),e.C=0,n=e.l.H,e.h=new ph,e.g=Xd(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Vf(kl(e.Ka,e,e.g),e.N)),Hf(e.S,e.g,"readystatechange",e.hb),t=e.H?uf(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Jf(1),function(e,t,n,r,i,u){e.info((function(){if(e.g)if(u)for(var a="",o=u.split("&"),s=0;s<o.length;s++){var c=o[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function bh(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function wh(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Eh(e,n))==yh){4==t&&(e.o=4,eh(14),i=!1),Wf(e.j,e.m,null,"[Incomplete Response]");break}if(r==mh){e.o=4,eh(15),Wf(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Wf(e.j,e.m,r,null),Sh(e,r)}bh(e)&&r!=yh&&r!=mh&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,eh(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),zd(t),t.K=!0,eh(11))):(Wf(e.j,e.m,n,"[Invalid Chunked Response]"),Ih(e),Ch(e))}function Eh(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?yh:(n=Number(t.substring(n,r)),isNaN(n)?mh:(r+=1)+n>t.length?yh:(t=t.substr(r,n),e.C=r+n,t))}function xh(e){e.V=Date.now()+e.O,Ah(e,e.O)}function Ah(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=nh(kl(e.fb,e),t)}function _h(e){e.B&&(fl.clearTimeout(e.B),e.B=null)}function Ch(e){0==e.l.G||e.I||Kd(e.l,e)}function Ih(e){_h(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Mf(e.T),Gf(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Sh(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||id(n.h,e)))if(!e.J&&id(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Gd(n),Pd(n)}qd(n),eh(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=nh(kl(n.bb,n),6e3));if(1>=rd(n.h)&&n.ja){try{n.ja()}catch(u){}n.ja=void 0}}else Qd(n,11)}else if((e.J||n.g==e)&&Gd(n),!Tl(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.I=u[1],n.ka=u[2];var a=u[3];null!=a&&(n.ma=a,n.j.info("VER="+n.ma));var o=u[4];null!=o&&(n.Ca=o,n.j.info("SVER="+n.Ca));var s=u[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(ud(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Bh(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=$d(r,r.H?r.ka:null,r.V),d.J){ad(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(_h(p),xh(p)),r.g=d}else Vd(r);0<n.i.length&&Ld(n)}else"stop"!=u[0]&&"close"!=u[0]||Qd(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Qd(n,7):Od(n):"noop"!=u[0]&&n.l&&n.l.wa(u),n.A=0)}Jf(4)}catch(u){}}function Th(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(dl(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(dl(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(dl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,u=0;u<i;u++)t.call(void 0,r[u],n&&n[u],e)}(ol=dh.prototype).setTimeout=function(e){this.O=e},ol.hb=function(e){e=e.target;var t=this.L;t&&3==Sd(e)?t.l():this.Ka(e)},ol.Ka=function(e){try{if(e==this.g)e:{var t=Sd(this.g),n=this.g.Ea(),r=this.g.aa();if(!(3>t)&&(3!=t||Ul||this.g&&(this.h.h||this.g.fa()||Td(this.g)))){this.I||4!=t||7==n||Jf(8==n||0>=r?3:2),_h(this);var i=this.g.aa();this.Y=i;t:if(bh(this)){var u=Td(this.g);e="";var a=u.length,o=4==Sd(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ih(this),Ch(this);var s="";break t}this.h.i=new fl.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(u[n],{stream:o&&n==a-1});u.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==i,function(e,t,n,r,i,u,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+u+" "+a}))}(this.j,this.u,this.A,this.m,this.U,t,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tl(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,eh(12),Ih(this),Ch(this);break e}Wf(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Sh(this,i)}this.P?(wh(this,t,s),Ul&&this.i&&3==t&&(Hf(this.S,this.T,"tick",this.gb),this.T.start())):(Wf(this.j,this.m,s,null),Sh(this,s)),4==t&&Ih(this),this.i&&!this.I&&(4==t?Kd(this.l,this):(this.i=!1,xh(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,eh(12)):(this.o=0,eh(13)),Ih(this),Ch(this)}}}catch(t){}},ol.gb=function(){if(this.g){var e=Sd(this.g),t=this.g.fa();this.C<t.length&&(_h(this),wh(this,e,t),this.i&&4!=e&&xh(this))}},ol.cancel=function(){this.I=!0,Ih(this)},ol.fb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Jf(3),eh(17)),Ih(this),this.o=2,Ch(this)):Ah(this,this.V-e)};var Dh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fh(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Fh){this.h=void 0!==t?t:e.h,Rh(this,e.j),this.s=e.s,this.g=e.g,Oh(this,e.m),this.l=e.l,t=e.i;var n=new Kh;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ph(this,n),this.o=e.o}else e&&(n=String(e).match(Dh))?(this.h=!!t,Rh(this,n[1]||"",!0),this.s=Mh(n[2]||""),this.g=Mh(n[3]||"",!0),Oh(this,n[4]),this.l=Mh(n[5]||"",!0),Ph(this,n[6]||"",!0),this.o=Mh(n[7]||"")):(this.h=!!t,this.i=new Kh(null,this.h))}function Nh(e){return new Fh(e)}function Rh(e,t,n){e.j=n?Mh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Oh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ph(e,t,n){t instanceof Kh?(e.i=t,function(e,t){t&&!e.j&&(Wh(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Qh(this,t),$h(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Uh(t,Hh)),e.i=new Kh(t,e.h))}function Bh(e,t,n){e.i.set(t,n)}function Lh(e){return Bh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Mh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Uh(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,jh),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function jh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Fh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Uh(t,Vh,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Uh(t,Vh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Uh(n,"/"==n.charAt(0)?zh:qh,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Uh(n,Gh)),e.join("")};var Vh=/[#\/\?@]/g,qh=/[#\?:]/g,zh=/[#\?]/g,Hh=/[#\?@]/g,Gh=/#/g;function Kh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Wh(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var u=e[n].substring(0,r);i=e[n].substring(r+1)}else u=e[n];t(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Qh(e,t){Wh(e),t=Xh(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Yh(e,t){return Wh(e),t=Xh(e,t),e.g.has(t)}function $h(e,t,n){Qh(e,t),0<n.length&&(e.i=null,e.g.set(Xh(e,t),_l(n)),e.h+=n.length)}function Xh(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ol=Kh.prototype).add=function(e,t){Wh(this),this.i=null,e=Xh(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ol.forEach=function(e,t){Wh(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},ol.oa=function(){Wh(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],u=0;u<i.length;u++)n.push(t[r]);return n},ol.W=function(e){Wh(this);var t=[];if("string"===typeof e)Yh(this,e)&&(t=t.concat(this.g.get(Xh(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},ol.set=function(e,t){return Wh(this),this.i=null,Yh(this,e=Xh(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ol.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},ol.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),u=this.W(r);for(r=0;r<u.length;r++){var a=i;""!==u[r]&&(a+="="+encodeURIComponent(String(u[r]))),e.push(a)}}return this.i=e.join("&")};var Jh=h((function e(t,n){l(this,e),this.h=t,this.g=n}));function Zh(e){this.l=e||td,fl.PerformanceNavigationTiming?e=0<(e=fl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(fl.g&&fl.g.Ga&&fl.g.Ga()&&fl.g.Ga().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ed,td=10;function nd(e){return!!e.h||!!e.g&&e.g.size>=e.j}function rd(e){return e.h?1:e.g?e.g.size:0}function id(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ud(e,t){e.g?e.g.add(t):e.h=t}function ad(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function od(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Pe(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(u){r.e(u)}finally{r.f()}return n}return _l(e.i)}function sd(){}function cd(){this.g=new sd}function ld(e,t,n){var r=n||"";try{Th(e,(function(e,n){var i=e;pl(e)&&(i=Cf(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function fd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(u){}}function hd(e){this.l=e.$b||null,this.j=e.ib||!1}function dd(e,t){xf.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=pd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Zh.prototype.cancel=function(){if(this.i=od(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Pe(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},sd.prototype.stringify=function(e){return fl.JSON.stringify(e,void 0)},sd.prototype.parse=function(e){return fl.JSON.parse(e,void 0)},wl(hd,uh),hd.prototype.g=function(){return new dd(this.l,this.j)},hd.prototype.i=(ed={},function(){return ed}),wl(dd,xf);var pd=0;function vd(e){e.j.read().then(e.Sa.bind(e)).catch(e.ga.bind(e))}function md(e){e.readyState=4,e.l=null,e.j=null,e.A=null,yd(e)}function yd(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ol=dd.prototype).open=function(e,t){if(this.readyState!=pd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,yd(this)},ol.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||fl).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ga.bind(this))},ol.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,md(this)),this.readyState=pd},ol.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,yd(this)),this.g&&(this.readyState=3,yd(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if("undefined"!==typeof fl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;vd(this)}else e.text().then(this.Ua.bind(this),this.ga.bind(this))},ol.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?md(this):yd(this),3==this.readyState&&vd(this)}},ol.Ua=function(e){this.g&&(this.response=this.responseText=e,md(this))},ol.Ta=function(e){this.g&&(this.response=e,md(this))},ol.ga=function(){this.g&&md(this)},ol.setRequestHeader=function(e,t){this.v.append(e,t)},ol.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ol.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(dd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var gd=fl.JSON.parse;function kd(e){xf.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=bd,this.K=this.L=!1}wl(kd,xf);var bd="",wd=/^https?$/i,Ed=["POST","PUT"];function xd(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Ad(e),Cd(e)}function Ad(e){e.D||(e.D=!0,Af(e,"complete"),Af(e,"error"))}function _d(e){if(e.h&&"undefined"!=typeof ll&&(!e.C[1]||4!=Sd(e)||2!=e.aa()))if(e.v&&4==Sd(e))Uf(e.Ha,0,e);else if(Af(e,"readystatechange"),4==Sd(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var u=String(e.H).match(Dh)[1]||null;if(!u&&fl.self&&fl.self.location){var a=fl.self.location.protocol;u=a.substr(0,a.length-1)}i=!wd.test(u?u.toLowerCase():"")}t=i}if(t)Af(e,"complete"),Af(e,"success");else{e.m=6;try{var o=2<Sd(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.aa()+"]",Ad(e)}}finally{Cd(e)}}}function Cd(e,t){if(e.g){Id(e);var n=e.g,r=e.C[0]?hl:null;e.g=null,e.C=null,t||Af(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Id(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(fl.clearTimeout(e.A),e.A=null)}function Sd(e){return e.g?e.g.readyState:0}function Td(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case bd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(pp){return null}}function Dd(e){var t="";return rf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Fd(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dd(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Bh(e,t,n))}function Nd(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Rd(e){this.Ca=0,this.i=[],this.j=new Kf,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Nd("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Nd("baseRetryDelayMs",5e3,e),this.ab=Nd("retryDelaySeedMs",1e4,e),this.Za=Nd("forwardChannelMaxRetries",2,e),this.ta=Nd("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Yb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Zh(e&&e.concurrentRequestLimit),this.Fa=new cd,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=e&&e.Wb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Od(e){if(Bd(e),3==e.G){var t=e.U++,n=Nh(e.F);Bh(n,"SID",e.I),Bh(n,"RID",t),Bh(n,"TYPE","terminate"),Ud(e,n),(t=new dh(e,e.j,t,void 0)).K=2,t.v=Lh(Nh(n)),n=!1,fl.navigator&&fl.navigator.sendBeacon&&(n=fl.navigator.sendBeacon(t.v.toString(),"")),!n&&fl.Image&&((new Image).src=t.v,n=!0),n||(t.g=Xd(t.l,null),t.g.da(t.v)),t.F=Date.now(),xh(t)}Yd(e)}function Pd(e){e.g&&(zd(e),e.g.cancel(),e.g=null)}function Bd(e){Pd(e),e.u&&(fl.clearTimeout(e.u),e.u=null),Gd(e),e.h.cancel(),e.m&&("number"===typeof e.m&&fl.clearTimeout(e.m),e.m=null)}function Ld(e){nd(e.h)||e.m||(e.m=!0,Rf(e.Ja,e),e.C=0)}function Md(e,t){var n;n=t?t.m:e.U++;var r=Nh(e.F);Bh(r,"SID",e.I),Bh(r,"RID",n),Bh(r,"AID",e.T),Ud(e,r),e.o&&e.s&&Fd(r,e.o,e.s),n=new dh(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=jd(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),ud(e.h,n),gh(n,r,t)}function Ud(e,t){e.ia&&rf(e.ia,(function(e,n){Bh(t,n,e)})),e.l&&Th({},(function(e,n){Bh(t,n,e)}))}function jd(e,t,n){n=Math.min(e.i.length,n);var r=e.l?kl(e.l.Qa,e.l,e):null;e:for(var i=e.i,u=-1;;){var a=["count="+n];-1==u?0<n?(u=i[0].h,a.push("ofs="+u)):u=0:a.push("ofs="+u);for(var o=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=u))u=Math.max(0,i[s].h-100),o=!1;else try{ld(l,a,"req"+c+"_")}catch(Ap){r&&r(l)}}if(o){r=a.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Vd(e){e.g||e.u||(e.Z=1,Rf(e.Ia,e),e.A=0)}function qd(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=nh(kl(e.Ia,e),Wd(e,e.A)),e.A++,!0)}function zd(e){null!=e.B&&(fl.clearTimeout(e.B),e.B=null)}function Hd(e){e.g=new dh(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Nh(e.sa);Bh(t,"RID","rpc"),Bh(t,"SID",e.I),Bh(t,"CI",e.L?"0":"1"),Bh(t,"AID",e.T),Bh(t,"TYPE","xmlhttp"),Ud(e,t),e.o&&e.s&&Fd(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=Lh(Nh(t)),n.s=null,n.P=!0,kh(n,e)}function Gd(e){null!=e.v&&(fl.clearTimeout(e.v),e.v=null)}function Kd(e,t){var n=null;if(e.g==t){Gd(e),zd(e),e.g=null;var r=2}else{if(!id(e.h,t))return;n=t.D,ad(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Af(r=$f(),new th(r,n,t,i)),Ld(e)}else Vd(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(rd(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Ya?0:e.Za))&&(e.m=nh(kl(e.Ja,e,t),Wd(e,e.C)),e.C++,!0))}(e,t)||2==r&&qd(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Qd(e,5);break;case 4:Qd(e,10);break;case 3:Qd(e,6);break;default:Qd(e,2)}}function Wd(e,t){var n=e.Wa+Math.floor(Math.random()*e.ab);return e.l||(n*=2),n*t}function Qd(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=kl(e.jb,e);n||(n=new Fh("//www.google.com/images/cleardot.gif"),fl.location&&"http"==fl.location.protocol||Rh(n,"https"),Lh(n)),function(e,t){var n=new Kf;if(fl.Image){var r=new Image;r.onload=bl(fd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=bl(fd,n,r,"TestLoadImage: error",!1,t),r.onabort=bl(fd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=bl(fd,n,r,"TestLoadImage: timeout",!1,t),fl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else eh(2);e.G=0,e.l&&e.l.va(t),Yd(e),Bd(e)}function Yd(e){if(e.G=0,e.la=[],e.l){var t=od(e.h);0==t.length&&0==e.i.length||(Cl(e.la,t),Cl(e.la,e.i),e.h.i.length=0,_l(e.i),e.i.length=0),e.l.ua()}}function $d(e,t,n){var r=n instanceof Fh?Nh(n):new Fh(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Oh(r,r.m);else{var i=fl.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var u=new Fh(null,void 0);r&&Rh(u,r),t&&(u.g=t),i&&Oh(u,i),n&&(u.l=n),r=u}return n=e.D,t=e.za,n&&t&&Bh(r,n,t),Bh(r,"VER",e.ma),Ud(e,r),r}function Xd(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new kd(new hd({ib:!0})):new kd(e.ra)).L=e.H,t}function Jd(){}function Zd(){if(Ll&&!(10<=Number($l)))throw Error("Environmental error: no available transport.")}function ep(e,t){xf.call(this),this.g=new Rd(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Xb)&&!Tl(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Tl(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new rp(this)}function tp(e){lh.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function np(){fh.call(this),this.status=1}function rp(e){this.g=e}(ol=kd.prototype).da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():sh.g(),this.C=this.u?ah(this.u):ah(sh),this.g.onreadystatechange=kl(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void xd(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var u,a=Pe(r.keys());try{for(a.s();!(u=a.n()).done;){var o=u.value;n.set(o,r.get(o))}}catch(d){a.e(d)}finally{a.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=fl.FormData&&e instanceof fl.FormData,!(0<=Al(Ed,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=Pe(n);try{for(c.s();!(s=c.n()).done;){var l=x(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Id(this),0<this.B&&((this.K=function(e){return Ll&&Ql()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kl(this.qa,this)):this.A=Uf(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){xd(this,o)}},ol.qa=function(){"undefined"!=typeof ll&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Af(this,"timeout"),this.abort(8))},ol.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Af(this,"complete"),Af(this,"abort"),Cd(this))},ol.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Cd(this,!0)),kd.X.M.call(this)},ol.Ha=function(){this.s||(this.F||this.v||this.l?_d(this):this.eb())},ol.eb=function(){_d(this)},ol.aa=function(){try{return 2<Sd(this)?this.g.status:-1}catch(ed){return-1}},ol.fa=function(){try{return this.g?this.g.responseText:""}catch(ed){return""}},ol.Ra=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),gd(t)}},ol.Ea=function(){return this.m},ol.Na=function(){return"string"===typeof this.j?this.j:String(this.j)},(ol=Rd.prototype).ma=8,ol.G=1,ol.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new dh(this,this.j,e,void 0),n=this.s;if(this.S&&(n?of(n=uf(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var u=this.i[i];if(void 0===(u="__data__"in u.g&&"string"===typeof(u=u.g.__data__)?u.length:void 0))break;if(4096<(r+=u)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=jd(this,t,r),Bh(i=Nh(this.F),"RID",e),Bh(i,"CVER",22),this.D&&Bh(i,"X-HTTP-Session-Id",this.D),Ud(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Dd(n)))+"&"+r:this.o&&Fd(i,this.o,n)),ud(this.h,t),this.Xa&&Bh(i,"TYPE","init"),this.O?(Bh(i,"$req",r),Bh(i,"SID","null"),t.Z=!0,gh(t,i,null)):gh(t,i,r),this.G=2}}else 3==this.G&&(e?Md(this,e):0==this.i.length||nd(this.h)||Md(this))},ol.Ia=function(){if(this.u=null,Hd(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=nh(kl(this.cb,this),e)}},ol.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,eh(10),Pd(this),Hd(this))},ol.bb=function(){null!=this.v&&(this.v=null,Pd(this),qd(this),eh(19))},ol.jb=function(e){e?(this.j.info("Successfully pinged google.com"),eh(2)):(this.j.info("Failed to ping google.com"),eh(1))},(ol=Jd.prototype).xa=function(){},ol.wa=function(){},ol.va=function(){},ol.ua=function(){},ol.Qa=function(){},Zd.prototype.g=function(e,t){return new ep(e,t)},wl(ep,xf),ep.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;eh(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=$d(e,null,e.V),Ld(e)},ep.prototype.close=function(){Od(this.g)},ep.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Cf(e),e=n);t.i.push(new Jh(t.$a++,e)),3==t.G&&Ld(t)},ep.prototype.M=function(){this.g.l=null,delete this.j,Od(this.g),delete this.g,ep.X.M.call(this)},wl(tp,lh),wl(np,fh),wl(rp,Jd),rp.prototype.xa=function(){Af(this.g,"a")},rp.prototype.wa=function(e){Af(this.g,new tp(e))},rp.prototype.va=function(e){Af(this.g,new np(e))},rp.prototype.ua=function(){Af(this.g,"b")},Zd.prototype.createWebChannel=Zd.prototype.g,ep.prototype.send=ep.prototype.u,ep.prototype.open=ep.prototype.m,ep.prototype.close=ep.prototype.close,rh.NO_ERROR=0,rh.TIMEOUT=8,rh.HTTP_ERROR=6,ih.COMPLETE="complete",oh.EventType=ch,ch.OPEN="a",ch.CLOSE="b",ch.ERROR="c",ch.MESSAGE="d",xf.prototype.listen=xf.prototype.N,kd.prototype.listenOnce=kd.prototype.O,kd.prototype.getLastError=kd.prototype.Na,kd.prototype.getLastErrorCode=kd.prototype.Ea,kd.prototype.getStatus=kd.prototype.aa,kd.prototype.getResponseJson=kd.prototype.Ra,kd.prototype.getResponseText=kd.prototype.fa,kd.prototype.send=kd.prototype.da;var ip=cl.createWebChannelTransport=function(){return new Zd},up=cl.getStatEventTarget=function(){return $f()},ap=cl.ErrorCode=rh,op=cl.EventType=ih,sp=cl.Event=Qf,cp=cl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},lp=cl.FetchXmlHttpFactory=hd,fp=cl.WebChannel=oh,hp=cl.XhrIo=kd,dp="@firebase/firestore",pp=function(){function e(t){l(this,e),this.uid=t}return h(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();pp.UNAUTHENTICATED=new pp(null),pp.GOOGLE_CREDENTIALS=new pp("google-credentials-uid"),pp.FIRST_PARTY=new pp("first-party-uid"),pp.MOCK_USER=new pp("mock-user");var vp="9.10.0",mp=new Dt("@firebase/firestore");function yp(){return mp.logLevel}function gp(e){if(mp.logLevel<=xt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(wp);mp.debug.apply(mp,["Firestore (".concat(vp,"): ").concat(e)].concat(c(i)))}}function kp(e){if(mp.logLevel<=xt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(wp);mp.error.apply(mp,["Firestore (".concat(vp,"): ").concat(e)].concat(c(i)))}}function bp(e){if(mp.logLevel<=xt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(wp);mp.warn.apply(mp,["Firestore (".concat(vp,"): ").concat(e)].concat(c(i)))}}function wp(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ep(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(vp,") INTERNAL ASSERTION FAILED: ")+e;throw kp(t),new Error(t)}function xp(e,t){e||Ep()}function Ap(e,t){return e}var _p={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Cp=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return h(n)}(ut),Ip=h((function e(){var t=this;l(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Sp=h((function e(t,n){l(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Tp=function(){function e(){l(this,e)}return h(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(pp.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Dp=function(){function e(t){l(this,e),this.token=t,this.changeListener=null}return h(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Fp=function(){function e(t){l(this,e),this.t=t,this.currentUser=pp.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return h(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},u=new Ip;this.o=function(){n.i++,n.currentUser=n.u(),u.resolve(),u=new Ip,e.enqueueRetryable((function(){return i(n.currentUser)}))};var a=function(){var t=u;e.enqueueRetryable(Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},o=function(e){gp("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),a()};this.t.onInit((function(e){return o(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?o(e):(gp("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ip)}}),0),a()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(gp("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(xp("string"==typeof n.accessToken),new Sp(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return xp(null===e||"string"==typeof e),new pp(e)}}]),e}(),Np=function(){function e(t,n,r,i){l(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=pp.FIRST_PARTY,this.p=new Map}return h(e,[{key:"I",value:function(){return this.g?this.g():(xp(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Rp=function(){function e(t,n,r,i){l(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return h(e,[{key:"getToken",value:function(){return Promise.resolve(new Np(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(pp.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Op=h((function e(t){l(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Pp=function(){function e(t){l(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return h(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&gp("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,gp("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){gp("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):gp("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(xp("string"==typeof t.token),e.A=t.token,new Op(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Bp(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Lp=function(){function e(){l(this,e)}return h(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Bp(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Mp(e,t){return e<t?-1:e>t?1:0}function Up(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function jp(e){return e+"\0"}var Vp=function(){function e(t,n){if(l(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Cp(_p.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Cp(_p.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Cp(_p.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Cp(_p.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return h(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Mp(this.nanoseconds,e.nanoseconds):Mp(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),qp=function(){function e(t){l(this,e),this.timestamp=t}return h(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Vp(0,0))}},{key:"max",value:function(){return new e(new Vp(253402300799,999999999))}}]),e}(),zp=function(){function e(t,n,r){l(this,e),void 0===n?n=0:n>t.length&&Ep(),void 0===r?r=t.length-n:r>t.length-n&&Ep(),this.segments=t,this.offset=n,this.len=r}return h(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),u=t.get(r);if(i<u)return-1;if(i>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Hp=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var u=0,a=r;u<a.length;u++){var o=a[u];if(o.indexOf("//")>=0)throw new Cp(_p.INVALID_ARGUMENT,"Invalid segment (".concat(o,"). Paths must not contain // in them."));e.push.apply(e,c(o.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(zp),Gp=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kp=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Gp.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,u=function(){if(0===r.length)throw new Cp(_p.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},a=!1;i<e.length;){var o=e[i];if("\\"===o){if(i+1===e.length)throw new Cp(_p.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Cp(_p.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===o?(a=!a,i++):"."!==o||a?(r+=o,i++):(u(),i++)}if(u(),a)throw new Cp(_p.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(zp),Wp=function(){function e(t){l(this,e),this.path=t}return h(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Hp.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Hp.fromString(t))}},{key:"fromName",value:function(t){return new e(Hp.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Hp.emptyPath())}},{key:"comparator",value:function(e,t){return Hp.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Hp(t.slice()))}}]),e}(),Qp=h((function e(t,n,r,i){l(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Yp(e){return e.fields.find((function(e){return 2===e.kind}))}function $p(e){return e.fields.filter((function(e){return 2!==e.kind}))}Qp.UNKNOWN_ID=-1;var Xp=h((function e(t,n){l(this,e),this.fieldPath=t,this.kind=n}));var Jp=function(){function e(t,n){l(this,e),this.sequenceNumber=t,this.offset=n}return h(e,null,[{key:"empty",value:function(){return new e(0,tv.min())}}]),e}();function Zp(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=qp.fromTimestamp(1e9===r?new Vp(n+1,0):new Vp(n,r));return new tv(i,Wp.empty(),t)}function ev(e){return new tv(e.readTime,e.key,-1)}var tv=function(){function e(t,n,r){l(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return h(e,null,[{key:"min",value:function(){return new e(qp.min(),Wp.empty(),-1)}},{key:"max",value:function(){return new e(qp.max(),Wp.empty(),-1)}}]),e}();function nv(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Wp.comparator(e.documentKey,t.documentKey))?n:Mp(e.largestBatchId,t.largestBatchId)}var rv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",iv=function(){function e(){l(this,e),this.onCommittedListeners=[]}return h(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function uv(e){return av.apply(this,arguments)}function av(){return av=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===_p.FAILED_PRECONDITION&&t.message===rv){e.next=2;break}throw t;case 2:gp("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),av.apply(this,arguments)}var ov=function(){function e(t){var n=this;l(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return h(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Ep(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,u=!1;t.forEach((function(t){++r,t.next((function(){++i,u&&i===r&&e()}),(function(e){return n(e)}))})),u=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Pe(t);try{var u=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)u()}catch(a){i.e(a)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,u=new Array(i),a=0,o=function(o){var s=o;n(t[s]).next((function(t){u[s]=t,++a===i&&e(u)}),(function(e){return r(e)}))},s=0;s<i;s++)o(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),sv=function(){function e(t,n){var r=this;l(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.P=new Ip,this.transaction.oncomplete=function(){r.P.resolve()},this.transaction.onabort=function(){n.error?r.P.reject(new fv(t,n.error)):r.P.resolve()},this.transaction.onerror=function(e){var n=mv(e.target.error);r.P.reject(new fv(t,n))}}return h(e,[{key:"v",get:function(){return this.P.promise}},{key:"abort",value:function(e){e&&this.P.reject(e),this.aborted||(gp("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"V",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new dv(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new fv(n,t)}}}]),e}(),cv=function(){function e(t,n,r){l(this,e),this.name=t,this.version=n,this.S=r,12.2===e.D(Ze())&&kp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return h(e,[{key:"F",value:function(){var e=Le(Fe().mark((function e(t){var n=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return gp("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new fv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Cp(_p.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Cp(_p.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new fv(t,n))},i.onupgradeneeded=function(e){gp("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.S.$(t,i.transaction,e.oldVersion,n.version).next((function(){gp("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.B&&(this.db.onversionchange=function(e){return n.B(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"L",value:function(e){this.B=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Le(Fe().mark((function e(t,n,r,i){var u,a,o,s,c,l=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u="readonly"===n,a=0;case 2:return++a,e.prev=3,e.delegateYield(Fe().mark((function e(){var n,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.F(t);case 2:return l.db=e.sent,n=sv.open(l.db,t,u?"readonly":"readwrite",r),a=i(n).next((function(e){return n.V(),e})).catch((function(e){return n.abort(e),ov.reject(e)})).toPromise(),a.catch((function(){})),e.next=7,n.v;case 7:return e.t0=a,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(o=e.t0)){e.next=8;break}return e.abrupt("return",o.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&a<3,gp("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return gp("SimpleDb","Removing database:",e),pv(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"C",value:function(){if(!it())return!1;if(e.N())return!0;var t=Ze(),n=e.D(t),r=0<n&&n<10,i=e.k(t),u=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||u)}},{key:"N",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/react-gh-pages",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.M)}},{key:"O",value:function(e,t){return e.store(t)}},{key:"D",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"k",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),lv=function(){function e(t){l(this,e),this.U=t,this.q=!1,this.K=null}return h(e,[{key:"isDone",get:function(){return this.q}},{key:"G",get:function(){return this.K}},{key:"cursor",set:function(e){this.U=e}},{key:"done",value:function(){this.q=!0}},{key:"j",value:function(e){this.K=e}},{key:"delete",value:function(){return pv(this.U.delete())}}]),e}(),fv=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,_p.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return h(n)}(Cp);function hv(e){return"IndexedDbTransactionError"===e.name}var dv=function(){function e(t){l(this,e),this.store=t}return h(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(gp("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(gp("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),pv(n)}},{key:"add",value:function(e){return gp("SimpleDb","ADD",this.store.name,e,e),pv(this.store.add(e))}},{key:"get",value:function(e){var t=this;return pv(this.store.get(e)).next((function(n){return void 0===n&&(n=null),gp("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return gp("SimpleDb","DELETE",this.store.name,e),pv(this.store.delete(e))}},{key:"count",value:function(){return gp("SimpleDb","COUNT",this.store.name),pv(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.H(r,(function(e,t){i.push(t)})).next((function(){return i}))}var u=this.store.getAll(n.range);return new ov((function(e,t){u.onerror=function(e){t(e.target.error)},u.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ov((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Y",value:function(e,t){gp("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.X=!1;var r=this.cursor(n);return this.H(r,(function(e,t,n){return n.delete()}))}},{key:"Z",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.H(r,t)}},{key:"tt",value:function(e){var t=this.cursor({});return new ov((function(n,r){t.onerror=function(e){var t=mv(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"H",value:function(e,t){var n=[];return new ov((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var u=new lv(i),a=t(i.primaryKey,i.value,u);if(a instanceof ov){var o=a.catch((function(e){return u.done(),ov.reject(e)}));n.push(o)}u.isDone?r():null===u.G?i.continue():i.continue(u.G)}else r()}})).next((function(){return ov.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function pv(e){return new ov((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=mv(e.target.error);n(t)}}))}var vv=!1;function mv(e){var t=cv.D(Ze());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Cp("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return vv||(vv=!0,setTimeout((function(){throw r}),0)),r}}return e}var yv=function(){function e(t,n){l(this,e),this.asyncQueue=t,this.et=n,this.task=null}return h(e,[{key:"start",value:function(){this.nt(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"nt",value:function(e){var t=this;gp("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=gp,e.t1="Documents written: ",e.next=6,t.et.st();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!hv(e.t4)){e.next=17;break}gp("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,uv(e.t4);case 19:return e.next=21,t.nt(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),gv=function(){function e(t,n){l(this,e),this.localStore=t,this.persistence=n}return h(e,[{key:"st",value:function(){var e=Le(Fe().mark((function e(){var t,n=this,r=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.it(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"it",value:function(e,t){var n=this,r=new Set,i=t,u=!0;return ov.doWhile((function(){return!0===u&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return gp("IndexBackiller","Processing collection: ".concat(t)),n.rt(e,t,i).next((function(e){i-=e,r.add(t)}));u=!1}))})).next((function(){return t-i}))}},{key:"rt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var u=n.changes;return r.localStore.indexManager.updateIndexEntries(e,u).next((function(){return r.ot(i,n)})).next((function(n){return gp("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return u.size}))}))}))}},{key:"ot",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=ev(t);nv(r,n)>0&&(n=r)})),new tv(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),kv=function(){function e(t,n){var r=this;l(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return h(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function bv(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wv(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ev(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}kv.at=-1;var xv=function(){function e(t,n){l(this,e),this.comparator=t,this.root=n||_v.EMPTY}return h(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,_v.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,_v.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Av(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Av(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Av(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Av(this.root,e,this.comparator,!0)}}]),e}(),Av=function(){function e(t,n,r,i){l(this,e),this.isReverse=i,this.nodeStack=[];for(var u=1;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&i&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(0===u){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return h(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),_v=function(){function e(t,n,r,i,u){l(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=u?u:e.EMPTY,this.size=this.left.size+1+this.right.size}return h(e,[{key:"copy",value:function(t,n,r,i,u){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=u?u:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Ep();if(this.right.isRed())throw Ep();var e=this.left.check();if(e!==this.right.check())throw Ep();return e+(this.isRed()?0:1)}}]),e}();_v.EMPTY=null,_v.RED=!0,_v.BLACK=!1,_v.EMPTY=new(function(){function e(){l(this,e),this.size=0}return h(e,[{key:"key",get:function(){throw Ep()}},{key:"value",get:function(){throw Ep()}},{key:"color",get:function(){throw Ep()}},{key:"left",get:function(){throw Ep()}},{key:"right",get:function(){throw Ep()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new _v(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Cv=function(){function e(t){l(this,e),this.comparator=t,this.data=new xv(this.comparator)}return h(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Iv(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Iv(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Iv=function(){function e(t){l(this,e),this.iter=t}return h(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Sv(e){return e.hasNext()?e.getNext():void 0}var Tv=function(){function e(t){l(this,e),this.fields=t,t.sort(Kp.comparator)}return h(e,[{key:"unionWith",value:function(t){var n,r=new Cv(Kp.comparator),i=Pe(this.fields);try{for(i.s();!(n=i.n()).done;){var u=n.value;r=r.add(u)}}catch(c){i.e(c)}finally{i.f()}var a,o=Pe(t);try{for(o.s();!(a=o.n()).done;){var s=a.value;r=r.add(s)}}catch(c){o.e(c)}finally{o.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=Pe(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Up(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var Dv=function(e){function t(e){l(this,t),this.binaryString=e}return h(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Mp(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Dv.EMPTY_BYTE_STRING=new Dv("");var Fv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nv(e){if(xp(!!e),"string"==typeof e){var t=0,n=Fv.exec(e);if(xp(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Rv(e.seconds),nanos:Rv(e.nanos)}}function Rv(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ov(e){return"string"==typeof e?Dv.fromBase64String(e):Dv.fromUint8Array(e)}function Pv(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Bv(e){var t=e.mapValue.fields.__previous_value__;return Pv(t)?Bv(t):t}function Lv(e){var t=Nv(e.mapValue.fields.__local_write_time__.timestampValue);return new Vp(t.seconds,t.nanos)}var Mv=h((function e(t,n,r,i,u,a,o,s){l(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.useFetchStreams=s})),Uv=function(){function e(t,n){l(this,e),this.projectId=t,this.database=n||"(default)"}return h(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function jv(e){return null==e}function Vv(e){return 0===e&&1/e==-1/0}function qv(e){return"number"==typeof e&&Number.isInteger(e)&&!Vv(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var zv={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Hv={nullValue:"NULL_VALUE"};function Gv(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Pv(e)?4:um(e)?9007199254740991:10:Ep()}function Kv(e,t){if(e===t)return!0;var n=Gv(e);if(n!==Gv(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lv(e).isEqual(Lv(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Nv(e.timestampValue),r=Nv(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ov(e.bytesValue).isEqual(Ov(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Rv(e.geoPointValue.latitude)===Rv(t.geoPointValue.latitude)&&Rv(e.geoPointValue.longitude)===Rv(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Rv(e.integerValue)===Rv(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Rv(e.doubleValue),r=Rv(t.doubleValue);return n===r?Vv(n)===Vv(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Up(e.arrayValue.values||[],t.arrayValue.values||[],Kv);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(bv(n)!==bv(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Kv(n[i],r[i])))return!1;return!0}(e,t);default:return Ep()}}function Wv(e,t){return void 0!==(e.values||[]).find((function(e){return Kv(e,t)}))}function Qv(e,t){if(e===t)return 0;var n=Gv(e),r=Gv(t);if(n!==r)return Mp(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mp(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Rv(e.integerValue||e.doubleValue),r=Rv(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Yv(e.timestampValue,t.timestampValue);case 4:return Yv(Lv(e),Lv(t));case 5:return Mp(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Ov(e),r=Ov(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var u=Mp(n[i],r[i]);if(0!==u)return u}return Mp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Mp(Rv(e.latitude),Rv(t.latitude));return 0!==n?n:Mp(Rv(e.longitude),Rv(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var u=Qv(n[i],r[i]);if(u)return u}return Mp(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===zv.mapValue&&t===zv.mapValue)return 0;if(e===zv.mapValue)return 1;if(t===zv.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},u=Object.keys(i);r.sort(),u.sort();for(var a=0;a<r.length&&a<u.length;++a){var o=Mp(r[a],u[a]);if(0!==o)return o;var s=Qv(n[r[a]],i[u[a]]);if(0!==s)return s}return Mp(r.length,u.length)}(e.mapValue,t.mapValue);default:throw Ep()}}function Yv(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Mp(e,t);var n=Nv(e),r=Nv(t),i=Mp(n.seconds,r.seconds);return 0!==i?i:Mp(n.nanos,r.nanos)}function $v(e){return Xv(e)}function Xv(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Nv(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ov(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Wp.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Pe(e.values||[]);try{for(i.s();!(t=i.n()).done;){var u=t.value;r?r=!1:n+=",",n+=Xv(u)}}catch(a){i.e(a)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Pe(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var u=t.value;r?r=!1:n+=",",n+="".concat(u,":").concat(Xv(e.fields[u]))}}catch(a){i.e(a)}finally{i.f()}return n+"}"}(e.mapValue):Ep();var t,n}function Jv(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Zv(e){return!!e&&"integerValue"in e}function em(e){return!!e&&"arrayValue"in e}function tm(e){return!!e&&"nullValue"in e}function nm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function rm(e){return!!e&&"mapValue"in e}function im(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return wv(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=im(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=im(e.arrayValue.values[r]);return n}return Object.assign({},e)}function um(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function am(e){return"nullValue"in e?Hv:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Jv(Uv.empty(),Wp.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Ep()}function om(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Jv(Uv.empty(),Wp.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?zv:Ep()}function sm(e,t){var n=Qv(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function cm(e,t){var n=Qv(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var lm=function(){function e(t){l(this,e),this.value=t}return h(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!rm(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=im(t)}},{key:"setAll",value:function(e){var t=this,n=Kp.emptyPath(),r={},i=[];e.forEach((function(e,u){if(!n.isImmediateParentOf(u)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=u.popLast()}e?r[u.lastSegment()]=im(e):i.push(u.lastSegment())}));var u=this.getFieldsMap(n);this.applyChanges(u,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());rm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Kv(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];rm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){wv(t,(function(t,n){return e[t]=n}));var r,i=Pe(n);try{for(i.s();!(r=i.n()).done;){var u=r.value;delete e[u]}}catch(a){i.e(a)}finally{i.f()}}},{key:"clone",value:function(){return new e(im(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function fm(e){var t=[];return wv(e.fields,(function(e,n){var r=new Kp([e]);if(rm(n)){var i=fm(n.mapValue).fields;if(0===i.length)t.push(r);else{var u,a=Pe(i);try{for(a.s();!(u=a.n()).done;){var o=u.value;t.push(r.child(o))}}catch(s){a.e(s)}finally{a.f()}}}else t.push(r)})),new Tv(t)}var hm=function(){function e(t,n,r,i,u,a){l(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=u,this.documentState=a}return h(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=lm.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=lm.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=qp.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,qp.min(),qp.min(),lm.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,qp.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,qp.min(),lm.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,qp.min(),lm.empty(),2)}}]),e}(),dm=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;l(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=a,this.endAt=o,this.ht=null}));function pm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new dm(e,t,n,r,i,u,a)}function vm(e){var t=Ap(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+$v(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),jv(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return $v(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return $v(e)})).join(",")),t.ht=n}return t.ht}function mm(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Nm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],u=t.filters[r],i.op!==u.op||!i.field.isEqual(u.field)||!Kv(i.value,u.value))return!1;var i,u;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Om(e.startAt,t.startAt)&&Om(e.endAt,t.endAt)}function ym(e){return Wp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function gm(e,t){return e.filters.filter((function(e){return e instanceof wm&&e.field.isEqual(t)}))}function km(e,t,n){var r,i=Hv,u=!0,a=Pe(gm(e,t));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Hv,c=!0;switch(o.op){case"<":case"<=":s=am(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,c=!1;break;case"!=":case"not-in":s=Hv}sm({value:i,inclusive:u},{value:s,inclusive:c})<0&&(i=s,u=c)}}catch(h){a.e(h)}finally{a.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];sm({value:i,inclusive:u},{value:f,inclusive:n.inclusive})<0&&(i=f,u=n.inclusive);break}return{value:i,inclusive:u}}function bm(e,t,n){var r,i=zv,u=!0,a=Pe(gm(e,t));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=zv,c=!0;switch(o.op){case">=":case">":s=om(o.value),c=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,c=!1;break;case"!=":case"not-in":s=zv}cm({value:i,inclusive:u},{value:s,inclusive:c})>0&&(i=s,u=c)}}catch(h){a.e(h)}finally{a.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];cm({value:i,inclusive:u},{value:f,inclusive:n.inclusive})>0&&(i=f,u=n.inclusive);break}return{value:i,inclusive:u}}var wm=function(e){p(n,e);var t=b(n);function n(e,r,i){var u;return l(this,n),(u=t.call(this)).field=e,u.op=r,u.value=i,u}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Qv(t,this.value)):null!==t&&Gv(this.value)===Gv(t)&&this.ft(Qv(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ep()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new Em(e,t,r):"array-contains"===t?new Cm(e,r):"in"===t?new Im(e,r):"not-in"===t?new Sm(e,r):"array-contains-any"===t?new Tm(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new xm(e,n):new Am(e,n)}}]),n}(function(){return h((function e(){l(this,e)}))}()),Em=function(e){p(n,e);var t=b(n);function n(e,r,i){var u;return l(this,n),(u=t.call(this,e,r,i)).key=Wp.fromName(i.referenceValue),u}return h(n,[{key:"matches",value:function(e){var t=Wp.comparator(e.key,this.key);return this.ft(t)}}]),n}(wm),xm=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"in",r)).keys=_m("in",r),i}return h(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(wm),Am=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"not-in",r)).keys=_m("not-in",r),i}return h(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(wm);function _m(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Wp.fromName(e.referenceValue)}))}var Cm=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains",r)}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return em(t)&&Wv(t.arrayValue,this.value)}}]),n}(wm),Im=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"in",r)}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Wv(this.value.arrayValue,t)}}]),n}(wm),Sm=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"not-in",r)}return h(n,[{key:"matches",value:function(e){if(Wv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Wv(this.value.arrayValue,t)}}]),n}(wm),Tm=function(e){p(n,e);var t=b(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains-any",r)}return h(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!em(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Wv(t.value.arrayValue,e)}))}}]),n}(wm),Dm=h((function e(t,n){l(this,e),this.position=t,this.inclusive=n})),Fm=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";l(this,e),this.field=t,this.dir=n}));function Nm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Rm(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var u=t[i],a=e.position[i];if(r=u.field.isKeyField()?Wp.comparator(Wp.fromName(a.referenceValue),n.key):Qv(a,n.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function Om(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Kv(e.position[n],t.position[n]))return!1;return!0}var Pm=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;l(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=a,this.startAt=o,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function Bm(e,t,n,r,i,u,a,o){return new Pm(e,t,n,r,i,u,a,o)}function Lm(e){return new Pm(e)}function Mm(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Um(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function jm(e){var t,n=Pe(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Vm(e){return null!==e.collectionGroup}function qm(e){var t=Ap(e);if(null===t._t){t._t=[];var n=jm(t),r=Um(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new Fm(n)),t._t.push(new Fm(Kp.keyField(),"asc"));else{var i,u=!1,a=Pe(t.explicitOrderBy);try{for(a.s();!(i=a.n()).done;){var o=i.value;t._t.push(o),o.field.isKeyField()&&(u=!0)}}catch(c){a.e(c)}finally{a.f()}if(!u){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new Fm(Kp.keyField(),s))}}}return t._t}function zm(e){var t=Ap(e);if(!t.wt)if("F"===t.limitType)t.wt=pm(t.path,t.collectionGroup,qm(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Pe(qm(t));try{for(i.s();!(n=i.n()).done;){var u=n.value,a="desc"===u.dir?"asc":"desc";r.push(new Fm(u.field,a))}}catch(c){i.e(c)}finally{i.f()}var o=t.endAt?new Dm(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Dm(t.startAt.position,t.startAt.inclusive):null;t.wt=pm(t.path,t.collectionGroup,r,t.filters,t.limit,o,s)}return t.wt}function Hm(e,t,n){return new Pm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Gm(e,t){return mm(zm(e),zm(t))&&e.limitType===t.limitType}function Km(e){return"".concat(vm(zm(e)),"|lt:").concat(e.limitType)}function Wm(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat($v(t.value));var t})).join(", "),"]")),jv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return $v(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return $v(e)})).join(",")),"Target(".concat(t,")")}(zm(e)),"; limitType=").concat(e.limitType,")")}function Qm(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Wp.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Pe(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(u){r.e(u)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Pe(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Rm(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,qm(e),t))&&!(e.endAt&&!function(e,t,n){var r=Rm(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,qm(e),t))}(e,t)}function Ym(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function $m(e){return function(t,n){var r,i=!1,u=Pe(qm(e));try{for(u.s();!(r=u.n()).done;){var a=r.value,o=Xm(a,t,n);if(0!==o)return o;i=i||a.field.isKeyField()}}catch(s){u.e(s)}finally{u.f()}return 0}}function Xm(e,t,n){var r=e.field.isKeyField()?Wp.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Qv(r,i):Ep()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ep()}}function Jm(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vv(t)?"-0":t}}function Zm(e){return{integerValue:""+e}}function ey(e,t){return qv(t)?Zm(t):Jm(e,t)}var ty=h((function e(){l(this,e),this._=void 0}));function ny(e,t,n){return e instanceof uy?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ay?oy(e,t):e instanceof sy?cy(e,t):function(e,t){var n=iy(e,t),r=fy(n)+fy(e.yt);return Zv(n)&&Zv(e.yt)?Zm(r):Jm(e.It,r)}(e,t)}function ry(e,t,n){return e instanceof ay?oy(e,t):e instanceof sy?cy(e,t):n}function iy(e,t){return e instanceof ly?Zv(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var uy=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n)}(ty),ay=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return h(n)}(ty);function oy(e,t){var n,r=hy(t),i=Pe(e.elements);try{var u=function(){var e=n.value;r.some((function(t){return Kv(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)u()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var sy=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return h(n)}(ty);function cy(e,t){var n,r=hy(t),i=Pe(e.elements);try{var u=function(){var e=n.value;r=r.filter((function(t){return!Kv(t,e)}))};for(i.s();!(n=i.n()).done;)u()}catch(a){i.e(a)}finally{i.f()}return{arrayValue:{values:r}}}var ly=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).It=e,i.yt=r,i}return h(n)}(ty);function fy(e){return Rv(e.integerValue||e.doubleValue)}function hy(e){return em(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var dy=h((function e(t,n){l(this,e),this.field=t,this.transform=n}));var py=h((function e(t,n){l(this,e),this.version=t,this.transformResults=n})),vy=function(){function e(t,n){l(this,e),this.updateTime=t,this.exists=n}return h(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function my(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var yy=h((function e(){l(this,e)}));function gy(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Dy(e.key,vy.none()):new xy(e.key,e.data,vy.none());var n,r=e.data,i=lm.empty(),u=new Cv(Kp.comparator),a=Pe(t.fields);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(!u.has(o)){var s=r.field(o);null===s&&o.length>1&&(o=o.popLast(),s=r.field(o)),null===s?i.delete(o):i.set(o,s),u=u.add(o)}}}catch(c){a.e(c)}finally{a.f()}return new Ay(e.key,i,new Tv(u.toArray()),vy.none())}function ky(e,t,n){e instanceof xy?function(e,t,n){var r=e.value.clone(),i=Cy(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ay?function(e,t,n){if(my(e.precondition,t)){var r=Cy(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(_y(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function by(e,t,n,r){return e instanceof xy?function(e,t,n,r){if(!my(e.precondition,t))return n;var i=e.value.clone(),u=Iy(e.fieldTransforms,r,t);return i.setAll(u),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ay?function(e,t,n,r){if(!my(e.precondition,t))return n;var i=Iy(e.fieldTransforms,r,t),u=t.data;return u.setAll(_y(e)),u.setAll(i),t.convertToFoundDocument(t.version,u).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return my(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function wy(e,t){var n,r=null,i=Pe(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var u=n.value,a=t.data.field(u.field),o=iy(u.transform,a||null);null!=o&&(null===r&&(r=lm.empty()),r.set(u.field,o))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Ey(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Up(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ay&&t instanceof ay||e instanceof sy&&t instanceof sy?Up(e.elements,t.elements,Kv):e instanceof ly&&t instanceof ly?Kv(e.yt,t.yt):e instanceof uy&&t instanceof uy}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var xy=function(e){p(n,e);var t=b(n);function n(e,r,i){var u,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return l(this,n),(u=t.call(this)).key=e,u.value=r,u.precondition=i,u.fieldTransforms=a,u.type=0,u}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(yy),Ay=function(e){p(n,e);var t=b(n);function n(e,r,i,u){var a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return l(this,n),(a=t.call(this)).key=e,a.data=r,a.fieldMask=i,a.precondition=u,a.fieldTransforms=o,a.type=1,a}return h(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(yy);function _y(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Cy(e,t,n){var r=new Map;xp(e.length===n.length);for(var i=0;i<n.length;i++){var u=e[i],a=u.transform,o=t.data.field(u.field);r.set(u.field,ry(a,o,n[i]))}return r}function Iy(e,t,n){var r,i=new Map,u=Pe(e);try{for(u.s();!(r=u.n()).done;){var a=r.value,o=a.transform,s=n.data.field(a.field);i.set(a.field,ny(o,s,t))}}catch(c){u.e(c)}finally{u.f()}return i}var Sy,Ty,Dy=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(yy),Fy=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(yy),Ny=h((function e(t){l(this,e),this.count=t}));function Ry(e){switch(e){default:return Ep();case _p.CANCELLED:case _p.UNKNOWN:case _p.DEADLINE_EXCEEDED:case _p.RESOURCE_EXHAUSTED:case _p.INTERNAL:case _p.UNAVAILABLE:case _p.UNAUTHENTICATED:return!1;case _p.INVALID_ARGUMENT:case _p.NOT_FOUND:case _p.ALREADY_EXISTS:case _p.PERMISSION_DENIED:case _p.FAILED_PRECONDITION:case _p.ABORTED:case _p.OUT_OF_RANGE:case _p.UNIMPLEMENTED:case _p.DATA_LOSS:return!0}}function Oy(e){if(void 0===e)return kp("GRPC error has no .code"),_p.UNKNOWN;switch(e){case Sy.OK:return _p.OK;case Sy.CANCELLED:return _p.CANCELLED;case Sy.UNKNOWN:return _p.UNKNOWN;case Sy.DEADLINE_EXCEEDED:return _p.DEADLINE_EXCEEDED;case Sy.RESOURCE_EXHAUSTED:return _p.RESOURCE_EXHAUSTED;case Sy.INTERNAL:return _p.INTERNAL;case Sy.UNAVAILABLE:return _p.UNAVAILABLE;case Sy.UNAUTHENTICATED:return _p.UNAUTHENTICATED;case Sy.INVALID_ARGUMENT:return _p.INVALID_ARGUMENT;case Sy.NOT_FOUND:return _p.NOT_FOUND;case Sy.ALREADY_EXISTS:return _p.ALREADY_EXISTS;case Sy.PERMISSION_DENIED:return _p.PERMISSION_DENIED;case Sy.FAILED_PRECONDITION:return _p.FAILED_PRECONDITION;case Sy.ABORTED:return _p.ABORTED;case Sy.OUT_OF_RANGE:return _p.OUT_OF_RANGE;case Sy.UNIMPLEMENTED:return _p.UNIMPLEMENTED;case Sy.DATA_LOSS:return _p.DATA_LOSS;default:return Ep()}}(Ty=Sy||(Sy={}))[Ty.OK=0]="OK",Ty[Ty.CANCELLED=1]="CANCELLED",Ty[Ty.UNKNOWN=2]="UNKNOWN",Ty[Ty.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ty[Ty.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ty[Ty.NOT_FOUND=5]="NOT_FOUND",Ty[Ty.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ty[Ty.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ty[Ty.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ty[Ty.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ty[Ty.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ty[Ty.ABORTED=10]="ABORTED",Ty[Ty.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ty[Ty.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ty[Ty.INTERNAL=13]="INTERNAL",Ty[Ty.UNAVAILABLE=14]="UNAVAILABLE",Ty[Ty.DATA_LOSS=15]="DATA_LOSS";var Py=function(){function e(t,n){l(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return h(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Pe(n);try{for(i.s();!(r=i.n()).done;){var u=x(r.value,2),a=u[0],o=u[1];if(this.equalsFn(a,e))return o}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){wv(this.inner,(function(t,n){var r,i=Pe(n);try{for(i.s();!(r=i.n()).done;){var u=x(r.value,2),a=u[0],o=u[1];e(a,o)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Ev(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),By=new xv(Wp.comparator);function Ly(){return By}var My=new xv(Wp.comparator);function Uy(){for(var e=My,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,u=n;i<u.length;i++){var a=u[i];e=e.insert(a.key,a)}return e}function jy(e){var t=My;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Vy(){return zy()}function qy(){return zy()}function zy(){return new Py((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Hy=new xv(Wp.comparator),Gy=new Cv(Wp.comparator);function Ky(){for(var e=Gy,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,u=n;i<u.length;i++){var a=u[i];e=e.add(a)}return e}var Wy=new Cv(Mp);function Qy(){return Wy}var Yy=function(){function e(t,n,r,i,u){l(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}return h(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,$y.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(qp.min(),r,Qy(),Ly(),Ky())}}]),e}(),$y=function(){function e(t,n,r,i,u){l(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}return h(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Dv.EMPTY_BYTE_STRING,n,Ky(),Ky(),Ky())}}]),e}(),Xy=h((function e(t,n,r,i){l(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),Jy=h((function e(t,n){l(this,e),this.targetId=t,this.At=n})),Zy=h((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dv.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;l(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),eg=function(){function e(){l(this,e),this.Rt=0,this.bt=rg(),this.Pt=Dv.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return h(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=Ky(),t=Ky(),n=Ky();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ep()}})),new $y(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=rg()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Mt",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Ot",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),tg=function(){function e(t){l(this,e),this.Bt=t,this.Lt=new Map,this.Ut=Ly(),this.qt=ng(),this.Kt=new Cv(Mp)}return h(e,[{key:"Gt",value:function(e){var t,n=Pe(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(o){n.e(o)}finally{n.f()}var i,u=Pe(e.removedTargetIds);try{for(u.s();!(i=u.n()).done;){var a=i.value;this.jt(a,e.key,e.Et)}}catch(o){u.e(o)}finally{u.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:Ep()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(ym(i))if(0===n){var u=new Wp(i.path);this.jt(t,u,hm.newNoDocument(u,qp.min()))}else xp(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var u=t.Xt(i);if(u){if(r.current&&ym(u.target)){var a=new Wp(u.target.path);null!==t.Ut.get(a)||t.ee(i,a)||t.jt(i,a,hm.newNoDocument(a,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=Ky();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Yy(e,n,this.Kt,this.Ut,r);return this.Ut=Ly(),this.qt=ng(),this.Kt=new Cv(Mp),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.zt(e).Ot()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new eg,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new Cv(Mp),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||gp("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new eg),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function ng(){return new xv(Wp.comparator)}function rg(){return new xv(Wp.comparator)}var ig={asc:"ASCENDING",desc:"DESCENDING"},ug={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ag=h((function e(t,n){l(this,e),this.databaseId=t,this.gt=n}));function og(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function sg(e,t){return e.gt?t.toBase64():t.toUint8Array()}function cg(e,t){return og(e,t.toTimestamp())}function lg(e){return xp(!!e),qp.fromTimestamp(function(e){var t=Nv(e);return new Vp(t.seconds,t.nanos)}(e))}function fg(e,t){return function(e){return new Hp(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function hg(e){var t=Hp.fromString(e);return xp(Pg(t)),t}function dg(e,t){return fg(e.databaseId,t.path)}function pg(e,t){var n=hg(t);if(n.get(1)!==e.databaseId.projectId)throw new Cp(_p.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Cp(_p.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Wp(gg(n))}function vg(e,t){return fg(e.databaseId,t)}function mg(e){var t=hg(e);return 4===t.length?Hp.emptyPath():gg(t)}function yg(e){return new Hp(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function gg(e){return xp(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function kg(e,t,n){return{name:dg(e,t),fields:n.value.mapValue.fields}}function bg(e,t,n){var r=pg(e,t.name),i=lg(t.updateTime),u=new lm({mapValue:{fields:t.fields}}),a=hm.newFoundDocument(r,i,u);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function wg(e,t){return"found"in t?function(e,t){xp(!!t.found),t.found.name,t.found.updateTime;var n=pg(e,t.found.name),r=lg(t.found.updateTime),i=new lm({mapValue:{fields:t.found.fields}});return hm.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){xp(!!t.missing),xp(!!t.readTime);var n=pg(e,t.missing),r=lg(t.readTime);return hm.newNoDocument(n,r)}(e,t):Ep()}function Eg(e,t){var n;if(t instanceof xy)n={update:kg(e,t.key,t.value)};else if(t instanceof Dy)n={delete:dg(e,t.key)};else if(t instanceof Ay)n={update:kg(e,t.key,t.data),updateMask:Og(t.fieldMask)};else{if(!(t instanceof Fy))return Ep();n={verify:dg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof uy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ay)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof sy)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ly)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw Ep()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:cg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ep()}(e,t.precondition)),n}function xg(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?vy.updateTime(lg(e.updateTime)):void 0!==e.exists?vy.exists(e.exists):vy.none()}(t.currentDocument):vy.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)xp("REQUEST_TIME"===t.setToServerValue),n=new uy;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ay(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new sy(i)}else"increment"in t?n=new ly(e,t.increment):Ep();var u=Kp.fromServerFormat(t.fieldPath);return new dy(u,n)}(e,t)})):[];if(t.update){t.update.name;var i=pg(e,t.update.name),u=new lm({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new Tv(t.map((function(e){return Kp.fromServerFormat(e)})))}(t.updateMask);return new Ay(i,u,a,n,r)}return new xy(i,u,n,r)}if(t.delete){var o=pg(e,t.delete);return new Dy(o,n)}if(t.verify){var s=pg(e,t.verify);return new Fy(s,n)}return Ep()}function Ag(e,t){return{documents:[vg(e,t.path)]}}function _g(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=vg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=vg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(nm(e.value))return{unaryFilter:{field:Dg(e.field),op:"IS_NAN"}};if(tm(e.value))return{unaryFilter:{field:Dg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(nm(e.value))return{unaryFilter:{field:Dg(e.field),op:"IS_NOT_NAN"}};if(tm(e.value))return{unaryFilter:{field:Dg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dg(e.field),op:Tg(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var u=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Dg(e.field),direction:Sg(e.dir)}}(e)}))}(t.orderBy);u&&(n.structuredQuery.orderBy=u);var a,o=function(e,t){return e.gt||jv(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Cg(e){var t=mg(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){xp(1===r);var u=n.from[0];u.allDescendants?i=u.collectionId:t=t.child(u.collectionId)}var a=[];n.where&&(a=Ig(n.where));var o=[];n.orderBy&&(o=n.orderBy.map((function(e){return function(e){return new Fm(Fg(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return jv(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Dm(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Dm(n,t)}(n.endAt)),Bm(t,i,o,a,s,"F",c,l)}function Ig(e){return e?void 0!==e.unaryFilter?[Rg(e)]:void 0!==e.fieldFilter?[Ng(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ig(e)})).reduce((function(e,t){return e.concat(t)})):Ep():[]}function Sg(e){return ig[e]}function Tg(e){return ug[e]}function Dg(e){return{fieldPath:e.canonicalString()}}function Fg(e){return Kp.fromServerFormat(e.fieldPath)}function Ng(e){return wm.create(Fg(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ep()}}(e.fieldFilter.op),e.fieldFilter.value)}function Rg(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Fg(e.unaryFilter.field);return wm.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Fg(e.unaryFilter.field);return wm.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Fg(e.unaryFilter.field);return wm.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Fg(e.unaryFilter.field);return wm.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ep()}}function Og(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Pg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Bg(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Mg(t)),t=Lg(e.get(n),t);return Mg(t)}function Lg(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var u=e.charAt(i);switch(u){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=u}}return n}function Mg(e){return e+"\x01\x01"}function Ug(e){var t=e.length;if(xp(t>=2),2===t)return xp("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Hp.emptyPath();for(var n=t-2,r=[],i="",u=0;u<t;){var a=e.indexOf("\x01",u);switch((a<0||a>n)&&Ep(),e.charAt(a+1)){case"\x01":var o=e.substring(u,a),s=void 0;0===i.length?s=o:(s=i+=o,i=""),r.push(s);break;case"\x10":i+=e.substring(u,a),i+="\0";break;case"\x11":i+=e.substring(u,a+1);break;default:Ep()}u=a+2}return new Hp(r)}var jg=["userId","batchId"];function Vg(e,t){return[e,Bg(t)]}function qg(e,t,n){return[e,Bg(t),n]}var zg={},Hg=["prefixPath","collectionGroup","readTime","documentId"],Gg=["prefixPath","collectionGroup","documentId"],Kg=["collectionGroup","readTime","prefixPath","documentId"],Wg=["canonicalId","targetId"],Qg=["targetId","path"],Yg=["path","targetId"],$g=["collectionId","parent"],Xg=["indexId","uid"],Jg=["uid","sequenceNumber"],Zg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],ek=["indexId","uid","orderedDocumentKey"],tk=["userId","collectionPath","documentId"],nk=["userId","collectionPath","largestBatchId"],rk=["userId","collectionGroup","largestBatchId"],ik=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),uk=[].concat(c(ik),["documentOverlays"]),ak=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ok=ak,sk=[].concat(ok,["indexConfiguration","indexState","indexEntries"]),ck=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).ie=e,i.currentSequenceNumber=r,i}return h(n)}(iv);function lk(e,t){var n=Ap(e);return cv.O(n.ie,t)}var fk=function(){function e(t,n,r,i){l(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return h(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ky(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=Pe(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=by(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var u,a=Pe(this.mutations);try{for(a.s();!(u=a.n()).done;){var o=u.value;o.key.isEqual(e.key)&&(t=by(o,e,t,this.localWriteTime))}}catch(s){a.e(s)}finally{a.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=qy();return this.mutations.forEach((function(i){var u=e.get(i.key),a=u.overlayedDocument,o=n.applyToLocalView(a,u.mutatedFields),s=gy(a,o=t.has(i.key)?null:o);null!==s&&r.set(i.key,s),a.isValidDocument()||a.convertToNoDocument(qp.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ky())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Up(this.mutations,e.mutations,(function(e,t){return Ey(e,t)}))&&Up(this.baseMutations,e.baseMutations,(function(e,t){return Ey(e,t)}))}}]),e}(),hk=function(){function e(t,n,r,i){l(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return h(e,null,[{key:"from",value:function(t,n,r){xp(t.mutations.length===r.length);for(var i=Hy,u=t.mutations,a=0;a<u.length;a++)i=i.insert(u[a].key,r[a].version);return new e(t,n,r,i)}}]),e}(),dk=function(){function e(t,n){l(this,e),this.largestBatchId=t,this.mutation=n}return h(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),pk=function(){function e(t,n,r,i){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:qp.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:qp.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Dv.EMPTY_BYTE_STRING;l(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o}return h(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),vk=h((function e(t){l(this,e),this.re=t}));function mk(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:yk(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:dg(e,t.key),fields:t.data.value.mapValue.fields,updateTime:og(e,t.version.toTimestamp())}}(e.re,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:gk(t.version)};else{if(!t.isUnknownDocument())return Ep();r.unknownDocument={path:n.path.toArray(),version:gk(t.version)}}return r}function yk(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function gk(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function kk(e){var t=new Vp(e.seconds,e.nanoseconds);return qp.fromTimestamp(t)}function bk(e,t){for(var n=(t.baseMutations||[]).map((function(t){return xg(e.re,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var u=t.mutations[r+1];i.updateTransforms=u.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return xg(e.re,t)})),o=Vp.fromMillis(t.localWriteTimeMs);return new fk(t.batchId,o,n,a)}function wk(e){var t,n,r=kk(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?kk(e.lastLimboFreeSnapshotVersion):qp.min();return void 0!==e.query.documents?(xp(1===(n=e.query).documents.length),t=zm(Lm(mg(n.documents[0])))):t=function(e){return zm(Cg(e))}(e.query),new pk(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Dv.fromBase64String(e.resumeToken))}function Ek(e,t){var n,r=gk(t.snapshotVersion),i=gk(t.lastLimboFreeSnapshotVersion);n=ym(t.target)?Ag(e.re,t.target):_g(e.re,t.target);var u=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:vm(t.target),readTime:r,resumeToken:u,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function xk(e){var t=Cg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Hm(t,t.limit,"L"):t}function Ak(e,t){return new dk(t.largestBatchId,xg(e.re,t.overlayMutation))}function _k(e,t){var n=t.path.lastSegment();return[e,Bg(t.path.popLast()),n]}function Ck(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:gk(r.readTime),documentKey:Bg(r.documentKey.path),largestBatchId:r.largestBatchId}}var Ik=function(){function e(){l(this,e)}return h(e,[{key:"getBundleMetadata",value:function(e,t){return Sk(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:kk(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Sk(e).put({bundleId:(n=t).id,createTime:gk(lg(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Tk(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:xk(t.bundledQuery),readTime:kk(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Tk(e).put(function(e){return{name:e.name,readTime:gk(lg(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Sk(e){return lk(e,"bundles")}function Tk(e){return lk(e,"namedQueries")}var Dk=function(){function e(t,n){l(this,e),this.It=t,this.userId=n}return h(e,[{key:"getOverlay",value:function(e,t){var n=this;return Fk(e).get(_k(this.userId,t)).next((function(e){return e?Ak(n.It,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Vy();return ov.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,u){var a=new dk(t,u);i.push(r.ue(e,a))})),ov.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Bg(e.getCollectionPath()))}));var u=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);u.push(Fk(e).Y("collectionPathOverlayIndex",i))})),ov.waitFor(u)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Vy(),u=Bg(t),a=IDBKeyRange.bound([this.userId,u,n],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Fk(e).W("collectionPathOverlayIndex",a).next((function(e){var t,n=Pe(e);try{for(n.s();!(t=n.n()).done;){var u=t.value,a=Ak(r.It,u);i.set(a.getKey(),a)}}catch(o){n.e(o)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,u=this,a=Vy(),o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Fk(e).Z({index:"collectionGroupOverlayIndex",range:o},(function(e,t,n){var o=Ak(u.It,t);a.size()<r||o.largestBatchId===i?(a.set(o.getKey(),o),i=o.largestBatchId):n.done()})).next((function(){return a}))}},{key:"ue",value:function(e,t){return Fk(e).put(function(e,t,n){var r=x(_k(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Eg(e.re,n.mutation)}}(this.It,this.userId,t))}}],[{key:"oe",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Fk(e){return lk(e,"documentOverlays")}var Nk=function(){function e(){l(this,e)}return h(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Rv(e.integerValue));else if("doubleValue"in e){var n=Rv(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Vv(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Ov(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?um(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Ep()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var u=i[r];this._e(u,t),this.ae(n[u],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=Pe(n);try{for(i.s();!(r=i.n()).done;){var u=r.value;this.ae(u,t)}}catch(a){i.e(a)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),Wp.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();function Rk(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Ok(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Rk(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Nk.Te=new Nk;var Pk=function(){function e(){l(this,e),this.buffer=new Uint8Array(1024),this.position=0}return h(e,[{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Pe(n.value),n=t.next();this.ve()}},{key:"Ve",value:function(e){var t,n=Pe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var u=r.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}}catch(a){n.e(a)}finally{n.f()}this.Re()}},{key:"Se",value:function(e){var t,n=Pe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{var u=r.codePointAt(0);this.Pe(240|u>>>18),this.Pe(128|63&u>>>12),this.Pe(128|63&u>>>6),this.Pe(128|63&u)}}}catch(a){n.e(a)}finally{n.f()}this.ve()}},{key:"De",value:function(e){var t=this.Ce(e),n=Ok(t);this.xe(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ne",value:function(e){var t=this.Ce(e),n=Ok(t);this.xe(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"ke",value:function(){this.Me(255),this.Me(255)}},{key:"Oe",value:function(){this.Fe(255),this.Fe(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"$e",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ce",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.Me(0),this.Me(255)):255===t?(this.Me(255),this.Me(0)):this.Me(t)}},{key:"Pe",value:function(e){var t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}},{key:"Re",value:function(){this.Me(0),this.Me(1)}},{key:"ve",value:function(){this.Fe(0),this.Fe(1)}},{key:"Me",value:function(e){this.xe(1),this.buffer[this.position++]=e}},{key:"Fe",value:function(e){this.xe(1),this.buffer[this.position++]=~e}},{key:"xe",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Bk=function(){function e(t){l(this,e),this.Be=t}return h(e,[{key:"me",value:function(e){this.Be.Ee(e)}},{key:"de",value:function(e){this.Be.Ve(e)}},{key:"fe",value:function(e){this.Be.De(e)}},{key:"he",value:function(){this.Be.ke()}}]),e}(),Lk=function(){function e(t){l(this,e),this.Be=t}return h(e,[{key:"me",value:function(e){this.Be.be(e)}},{key:"de",value:function(e){this.Be.Se(e)}},{key:"fe",value:function(e){this.Be.Ne(e)}},{key:"he",value:function(){this.Be.Oe()}}]),e}(),Mk=function(){function e(){l(this,e),this.Be=new Pk,this.Le=new Bk(this.Be),this.Ue=new Lk(this.Be)}return h(e,[{key:"seed",value:function(e){this.Be.seed(e)}},{key:"qe",value:function(e){return 0===e?this.Le:this.Ue}},{key:"$e",value:function(){return this.Be.$e()}},{key:"reset",value:function(){this.Be.reset()}}]),e}(),Uk=function(){function e(t,n,r,i){l(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return h(e,[{key:"Ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function jk(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Vk(e.arrayValue,t.arrayValue))?n:0!==(n=Vk(e.directionalValue,t.directionalValue))?n:Wp.comparator(e.documentKey,t.documentKey)}function Vk(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var qk=function(){function e(t){l(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];var n,r=Pe(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dt()?this.je=i:this.Qe.push(i)}}catch(u){r.e(u)}finally{r.f()}}return h(e,[{key:"We",value:function(e){var t=Yp(e);if(void 0!==t&&!this.ze(t))return!1;for(var n=$p(e),r=0,i=0;r<n.length&&this.ze(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.je){var u=n[r];if(!this.He(this.je,u)||!this.Je(this.Ge[i++],u))return!1;++r}for(;r<n.length;++r){var a=n[r];if(i>=this.Ge.length||!this.Je(this.Ge[i++],a))return!1}return!0}},{key:"ze",value:function(e){var t,n=Pe(this.Qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.He(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"He",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Je",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),zk=function(){function e(){l(this,e),this.Ye=new Hk}return h(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),ov.resolve()}},{key:"getCollectionParents",value:function(e,t){return ov.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ov.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ov.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ov.resolve(null)}},{key:"getIndexType",value:function(e,t){return ov.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return ov.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ov.resolve(null)}},{key:"getMinOffset",value:function(e,t){return ov.resolve(tv.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return ov.resolve(tv.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return ov.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ov.resolve()}}]),e}(),Hk=function(){function e(){l(this,e),this.index={}}return h(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Cv(Hp.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Cv(Hp.comparator)).toArray()}}]),e}(),Gk=new Uint8Array(0),Kk=function(){function e(t,n){l(this,e),this.user=t,this.databaseId=n,this.Xe=new Hk,this.Ze=new Py((function(e){return vm(e)}),(function(e,t){return mm(e,t)})),this.uid=t.uid||""}return h(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Xe.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Xe.add(t)}));var u={collectionId:r,parent:Bg(i)};return Wk(e).put(u)}return ov.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[jp(t),""],!1,!0);return Wk(e).W(r).next((function(e){var r,i=Pe(e);try{for(i.s();!(r=i.n()).done;){var u=r.value;if(u.collectionId!==t)break;n.push(Ug(u.parent))}}catch(a){i.e(a)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=Yk(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var u=r.add(i);if(t.indexState){var a=$k(e);return u.next((function(e){a.put(Ck(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return u.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Yk(e),r=$k(e),i=Qk(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=Qk(e),i=!0,u=new Map;return ov.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){i&&(i=!!e),u.set(t,e)}))})).next((function(){if(i){var e=Ky(),a=[];return ov.forEach(u,(function(i,u){var o;gp("IndexedDbIndexManager","Using index ".concat((o=i,"id=".concat(o.indexId,"|cg=").concat(o.collectionGroup,"|f=").concat(o.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(vm(t)));var s=function(e,t){var n=Yp(t);if(void 0===n)return null;var r,i=Pe(gm(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var u=r.value;switch(u.op){case"array-contains-any":return u.value.arrayValue.values||[];case"array-contains":return[u.value]}}}catch(a){i.e(a)}finally{i.f()}return null}(u,i),c=function(e,t){var n,r=new Map,i=Pe($p(t));try{for(i.s();!(n=i.n()).done;){var u,a=n.value,o=Pe(gm(e,a.fieldPath));try{for(o.s();!(u=o.n()).done;){var s=u.value;switch(s.op){case"==":case"in":r.set(a.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(a.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){o.e(c)}finally{o.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(u,i),l=function(e,t){var n,r=[],i=!0,u=Pe($p(t));try{for(u.s();!(n=u.n()).done;){var a=n.value,o=0===a.kind?km(e,a.fieldPath,e.startAt):bm(e,a.fieldPath,e.startAt);r.push(o.value),i&&(i=o.inclusive)}}catch(s){u.e(s)}finally{u.f()}return new Dm(r,i)}(u,i),f=function(e,t){var n,r=[],i=!0,u=Pe($p(t));try{for(u.s();!(n=u.n()).done;){var a=n.value,o=0===a.kind?bm(e,a.fieldPath,e.endAt):km(e,a.fieldPath,e.endAt);r.push(o.value),i&&(i=o.inclusive)}}catch(s){u.e(s)}finally{u.f()}return new Dm(r,i)}(u,i),h=n.nn(i,u,l),d=n.nn(i,u,f),p=n.sn(i,u,c),v=n.rn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return ov.forEach(v,(function(n){return r.J(n,t.limit).next((function(t){t.forEach((function(t){var n=Wp.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),a.push(n))}))}))}))})).next((function(){return a}))}return ov.resolve(null)}))}},{key:"tn",value:function(e){var t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}},{key:"rn",value:function(e,t,n,r,i,u,a){for(var o=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),l=s/(null!=t?t.length:1),f=[],h=function(s){var h=t?o.on(t[s/l]):Gk,d=o.un(e,h,n[s%l],r),p=o.cn(e,h,i[s%l],u),v=a.map((function(t){return o.un(e,h,t,!0)}));f.push.apply(f,c(o.createRange(d,p,v)))},d=0;d<s;++d)h(d);return f}},{key:"un",value:function(e,t,n,r){var i=new Uk(e,Wp.empty(),t,n);return r?i:i.Ke()}},{key:"cn",value:function(e,t,n,r){var i=new Uk(e,Wp.empty(),t,n);return r?i.Ke():i}},{key:"en",value:function(e,t){var n=new qk(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=Pe(e);try{for(i.s();!(t=i.n()).done;){var u=t.value;n.We(u)&&(!r||u.fields.length>r.fields.length)&&(r=u)}}catch(a){i.e(a)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return ov.forEach(this.tn(t),(function(t){return n.en(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Cv(Kp.comparator),r=!1,i=Pe(e.filters);try{for(i.s();!(t=i.n()).done;){var u=t.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(c){i.e(c)}finally{i.f()}var a,o=Pe(e.orderBy);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){o.e(c)}finally{o.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"an",value:function(e,t){var n,r=new Mk,i=Pe($p(e));try{for(i.s();!(n=i.n()).done;){var u=n.value,a=t.data.field(u.fieldPath);if(null==a)return null;var o=r.qe(u.kind);Nk.Te.ce(a,o)}}catch(s){i.e(s)}finally{i.f()}return r.$e()}},{key:"on",value:function(e){var t=new Mk;return Nk.Te.ce(e,t.qe(0)),t.$e()}},{key:"hn",value:function(e,t){var n=new Mk;return Nk.Te.ce(Jv(this.databaseId,t),n.qe(function(e){var t=$p(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.$e()}},{key:"sn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Mk);var i,u=0,a=Pe($p(e));try{for(a.s();!(i=a.n()).done;){var o,s=i.value,c=n[u++],l=Pe(r);try{for(l.s();!(o=l.n()).done;){var f=o.value;if(this.ln(t,s.fieldPath)&&em(c))r=this.fn(r,s,c);else{var h=f.qe(s.kind);Nk.Te.ce(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){a.e(d)}finally{a.f()}return this.dn(r)}},{key:"nn",value:function(e,t,n){return this.sn(e,t,n.position)}},{key:"dn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].$e();return t}},{key:"fn",value:function(e,t,n){var r,i=c(e),u=[],a=Pe(n.arrayValue.values||[]);try{for(a.s();!(r=a.n()).done;){var o,s=r.value,l=Pe(i);try{for(l.s();!(o=l.n()).done;){var f=o.value,h=new Mk;h.seed(f.$e()),Nk.Te.ce(s,h.qe(t.kind)),u.push(h)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){a.e(d)}finally{a.f()}return u}},{key:"ln",value:function(e,t){return!!e.filters.find((function(e){return e instanceof wm&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Yk(e),i=$k(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next((function(e){var t=[];return ov.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Jp(t.sequenceNumber,new tv(kk(t.readTime),new Wp(Ug(t.documentKey)),t.largestBatchId)):Jp.empty(),r=e.fields.map((function(e){var t=x(e,2),n=t[0],r=t[1];return new Xp(Kp.fromServerFormat(n),r)}));return new Qp(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Mp(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Yk(e),u=$k(e);return this._n(e).next((function(e){return i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ov.forEach(t,(function(t){return u.put(Ck(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ov.forEach(t,(function(t,i){var u=r.get(t.collectionGroup);return(u?ov.resolve(u):n.getFieldIndexes(e,t.collectionGroup)).next((function(u){return r.set(t.collectionGroup,u),ov.forEach(u,(function(r){return n.wn(e,t,r).next((function(t){var u=n.mn(i,r);return t.isEqual(u)?ov.resolve():n.gn(e,i,r,t,u)}))}))}))}))}},{key:"yn",value:function(e,t,n,r){return Qk(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"pn",value:function(e,t,n,r){return Qk(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(n,t.key),t.key.path.toArray()])}},{key:"wn",value:function(e,t,n){var r=Qk(e),i=new Cv(jk);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.hn(n,t)])},(function(e,r){i=i.add(new Uk(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"mn",value:function(e,t){var n=new Cv(jk),r=this.an(t,e);if(null==r)return n;var i=Yp(t);if(null!=i){var u=e.data.field(i.fieldPath);if(em(u)){var a,o=Pe(u.arrayValue.values||[]);try{for(o.s();!(a=o.n()).done;){var s=a.value;n=n.add(new Uk(t.indexId,e.key,this.on(s),r))}}catch(c){o.e(c)}finally{o.f()}}}else n=n.add(new Uk(t.indexId,e.key,Gk,r));return n}},{key:"gn",value:function(e,t,n,r,i){var u=this;gp("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var u=e.getIterator(),a=t.getIterator(),o=Sv(u),s=Sv(a);o||s;){var c=!1,l=!1;if(o&&s){var f=n(o,s);f<0?l=!0:f>0&&(c=!0)}else null!=o?l=!0:c=!0;c?(r(s),s=Sv(a)):l?(i(o),o=Sv(u)):(o=Sv(u),s=Sv(a))}}(r,i,jk,(function(r){a.push(u.yn(e,t,n,r))}),(function(r){a.push(u.pn(e,t,n,r))})),ov.waitFor(a)}},{key:"_n",value:function(e){var t=1;return $k(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return jk(e,t)})).filter((function(e,t,n){return!t||0!==jk(e,n[t-1])}));var r=[];r.push(e);var i,u=Pe(n);try{for(u.s();!(i=u.n()).done;){var a=i.value,o=jk(a,e),s=jk(a,t);if(0===o)r[0]=e.Ke();else if(o>0&&s<0)r.push(a),r.push(a.Ke());else if(s>0)break}}catch(f){u.e(f)}finally{u.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Gk,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Gk,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Xk)}},{key:"getMinOffset",value:function(e,t){var n=this;return ov.mapArray(this.tn(t),(function(t){return n.en(e,t).next((function(e){return e||Ep()}))})).next(Xk)}}]),e}();function Wk(e){return lk(e,"collectionParents")}function Qk(e){return lk(e,"indexEntries")}function Yk(e){return lk(e,"indexConfiguration")}function $k(e){return lk(e,"indexState")}function Xk(e){xp(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;nv(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new tv(t.readTime,t.documentKey,n)}var Jk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Zk=function(){function e(t,n,r){l(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return h(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function eb(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),u=[],a=IDBKeyRange.only(n.batchId),o=0,s=r.Z({range:a},(function(e,t,n){return o++,n.delete()}));u.push(s.next((function(){xp(1===o)})));var c,l=[],f=Pe(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=qg(t,h.key.path,n.batchId);u.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return ov.waitFor(u).next((function(){return l}))}function tb(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Ep();t=e.noDocument}return JSON.stringify(t).length}Zk.DEFAULT_COLLECTION_PERCENTILE=10,Zk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zk.DEFAULT=new Zk(41943040,Zk.DEFAULT_COLLECTION_PERCENTILE,Zk.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zk.DISABLED=new Zk(-1,0,0);var nb=function(){function e(t,n,r,i){l(this,e),this.userId=t,this.It=n,this.indexManager=r,this.referenceDelegate=i,this.In={}}return h(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ib(e).Z({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,u=ub(e),a=ib(e);return a.add({}).next((function(o){xp("number"==typeof o);var s,c=new fk(o,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Eg(e.re,t)})),i=n.mutations.map((function(t){return Eg(e.re,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.It,i.userId,c),f=[],h=new Cv((function(e,t){return Mp(e.canonicalString(),t.canonicalString())})),d=Pe(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=qg(i.userId,p.key.path,o);h=h.add(p.key.path.popLast()),f.push(a.put(l)),f.push(u.put(v,zg))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.In[o]=c.keys()})),ov.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return ib(e).get(t).next((function(e){return e?(xp(e.userId===n.userId),bk(n.It,e)):null}))}},{key:"Tn",value:function(e,t){var n=this;return this.In[t]?ov.resolve(this.In[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.In[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),u=null;return ib(e).Z({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(xp(t.batchId>=r),u=bk(n.It,t)),i.done()})).next((function(){return u}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ib(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ib(e).W("userMutationsIndex",n).next((function(e){return e.map((function(e){return bk(t.It,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Vg(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return ub(e).Z({range:i},(function(r,i,a){var o=x(r,3),s=o[0],c=o[1],l=o[2],f=Ug(c);if(s===n.userId&&t.path.isEqual(f))return ib(e).get(l).next((function(e){if(!e)throw Ep();xp(e.userId===n.userId),u.push(bk(n.It,e))}));a.done()})).next((function(){return u}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Cv(Mp),i=[];return t.forEach((function(t){var u=Vg(n.userId,t.path),a=IDBKeyRange.lowerBound(u),o=ub(e).Z({range:a},(function(e,i,u){var a=x(e,3),o=a[0],s=a[1],c=a[2],l=Ug(s);o===n.userId&&t.path.isEqual(l)?r=r.add(c):u.done()}));i.push(o)})),ov.waitFor(i).next((function(){return n.En(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,u=Vg(this.userId,r),a=IDBKeyRange.lowerBound(u),o=new Cv(Mp);return ub(e).Z({range:a},(function(e,t,u){var a=x(e,3),s=a[0],c=a[1],l=a[2],f=Ug(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(o=o.add(l)):u.done()})).next((function(){return n.En(e,o)}))}},{key:"En",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(ib(e).get(t).next((function(e){if(null===e)throw Ep();xp(e.userId===n.userId),r.push(bk(n.It,e))})))})),ov.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return eb(e.ie,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.An(t.batchId)})),ov.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"An",value:function(e){delete this.In[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ov.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return ub(e).Z({range:r},(function(e,n,r){if(e[0]===t.userId){var u=Ug(e[1]);i.push(u)}else r.done()})).next((function(){xp(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return rb(e,this.userId,t)}},{key:"Rn",value:function(e){var t=this;return ab(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"oe",value:function(t,n,r,i){return xp(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function rb(e,t,n){var r=Vg(t,n.path),i=r[1],u=IDBKeyRange.lowerBound(r),a=!1;return ub(e).Z({range:u,X:!0},(function(e,n,r){var u=x(e,3),o=u[0],s=u[1];u[2];o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function ib(e){return lk(e,"mutations")}function ub(e){return lk(e,"documentMutations")}function ab(e){return lk(e,"mutationQueues")}var ob=function(){function e(t){l(this,e),this.bn=t}return h(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}(),sb=function(){function e(t,n){l(this,e),this.referenceDelegate=t,this.It=n}return h(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Vn(e).next((function(n){var r=new ob(n.highestTargetId);return n.highestTargetId=r.next(),t.Sn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Vn(e).next((function(e){return qp.fromTimestamp(new Vp(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Vn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Vn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Sn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Dn(e,t).next((function(){return n.Vn(e).next((function(r){return r.targetCount+=1,n.Cn(t,r),n.Sn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Dn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return cb(e).delete(t.targetId)})).next((function(){return n.Vn(e)})).next((function(t){return xp(t.targetCount>0),t.targetCount-=1,n.Sn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,u=[];return cb(e).Z((function(a,o){var s=wk(o);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,u.push(r.removeTargetData(e,s)))})).next((function(){return ov.waitFor(u)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return cb(e).Z((function(e,n){var r=wk(n);t(r)}))}},{key:"Vn",value:function(e){return lb(e).get("targetGlobalKey").next((function(e){return xp(null!==e),e}))}},{key:"Sn",value:function(e,t){return lb(e).put("targetGlobalKey",t)}},{key:"Dn",value:function(e,t){return cb(e).put(Ek(this.It,t))}},{key:"Cn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Vn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=vm(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return cb(e).Z({range:r,index:"queryTargetsIndex"},(function(e,n,r){var u=wk(n);mm(t,u.target)&&(i=u,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],u=fb(e);return t.forEach((function(t){var a=Bg(t.path);i.push(u.put({targetId:n,path:a})),i.push(r.referenceDelegate.addReference(e,n,t))})),ov.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=fb(e);return ov.forEach(t,(function(t){var u=Bg(t.path);return ov.waitFor([i.delete([n,u]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=fb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=fb(e),i=Ky();return r.Z({range:n,X:!0},(function(e,t,n){var r=Ug(e[1]),u=new Wp(r);i=i.add(u)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Bg(t.path),r=IDBKeyRange.bound([n],[jp(n)],!1,!0),i=0;return fb(e).Z({index:"documentTargetsIndex",X:!0,range:r},(function(e,t,n){var r=x(e,2),u=r[0];r[1];0!==u&&(i++,n.done())})).next((function(){return i>0}))}},{key:"se",value:function(e,t){return cb(e).get(t).next((function(e){return e?wk(e):null}))}}]),e}();function cb(e){return lk(e,"targets")}function lb(e){return lk(e,"targetGlobal")}function fb(e){return lk(e,"targetDocuments")}function hb(e,t){var n=x(e,2),r=n[0],i=n[1],u=x(t,2),a=u[0],o=u[1],s=Mp(r,a);return 0===s?Mp(i,o):s}var db=function(){function e(t){l(this,e),this.xn=t,this.buffer=new Cv(hb),this.Nn=0}return h(e,[{key:"kn",value:function(){return++this.Nn}},{key:"Mn",value:function(e){var t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();hb(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),pb=function(){function e(t,n,r){l(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.On=null}return h(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}},{key:"stop",value:function(){this.On&&(this.On.cancel(),this.On=null)}},{key:"started",get:function(){return null!==this.On}},{key:"Fn",value:function(e){var t=this;gp("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.On=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!hv(e.t0)){e.next=12;break}gp("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,uv(e.t0);case 14:return e.next=16,t.Fn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),vb=function(){function e(t,n){l(this,e),this.$n=t,this.params=n}return h(e,[{key:"calculateTargetCount",value:function(e,t){return this.$n.Bn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ov.resolve(kv.at);var r=new db(t);return this.$n.forEachTarget(e,(function(e){return r.Mn(e.sequenceNumber)})).next((function(){return n.$n.Ln(e,(function(e){return r.Mn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.$n.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.$n.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(gp("LruGarbageCollector","Garbage collection skipped; disabled"),ov.resolve(Jk)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(gp("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Jk):n.Un(e,t)}))}},{key:"getCacheSize",value:function(e){return this.$n.getCacheSize(e)}},{key:"Un",value:function(e,t){var n,r,i,u,a,o,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(gp("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,u=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,o=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),yp()<=xt.DEBUG&&gp("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(u-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-u)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-o)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),ov.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),mb=function(){function e(t,n){l(this,e),this.db=t,this.garbageCollector=function(e,t){return new vb(e,t)}(this,n)}return h(e,[{key:"Bn",value:function(e){var t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"qn",value:function(e){var t=0;return this.Ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Ln",value:function(e,t){return this.Kn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return yb(e,n)}},{key:"removeReference",value:function(e,t,n){return yb(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return yb(e,t)}},{key:"Gn",value:function(e,t){return function(e,t){var n=!1;return ab(e).tt((function(r){return rb(e,r,t).next((function(e){return e&&(n=!0),ov.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],u=0;return this.Kn(e,(function(a,o){if(o<=t){var s=n.Gn(e,a).next((function(t){if(!t)return u++,r.getEntry(e,a).next((function(){return r.removeEntry(a,qp.min()),fb(e).delete([0,Bg(a.path)])}))}));i.push(s)}})).next((function(){return ov.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return u}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return yb(e,t)}},{key:"Kn",value:function(e,t){var n,r=fb(e),i=kv.at;return r.Z({index:"documentTargetsIndex"},(function(e,r){var u=x(e,2),a=u[0],o=(u[1],r.path),s=r.sequenceNumber;0===a?(i!==kv.at&&t(new Wp(Ug(n)),i),i=s,n=o):i=kv.at})).next((function(){i!==kv.at&&t(new Wp(Ug(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function yb(e,t){return fb(e).put(function(e,t){return{targetId:0,path:Bg(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var gb=function(){function e(){l(this,e),this.changes=new Py((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return h(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,hm.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ov.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),kb=function(){function e(t){l(this,e),this.It=t}return h(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return xb(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return xb(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],yk(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=hm.newInvalidDocument(t);return xb(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ab(t))},(function(e,i){r=n.jn(t,i)})).next((function(){return r}))}},{key:"Wn",value:function(e,t){var n=this,r={size:0,document:hm.newInvalidDocument(t)};return xb(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Ab(t))},(function(e,i){r={document:n.jn(t,i),size:tb(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Ly();return this.zn(e,t,(function(e,t){var i=n.jn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Hn",value:function(e,t){var n=this,r=Ly(),i=new xv(Wp.comparator);return this.zn(e,t,(function(e,t){var u=n.jn(e,t);r=r.insert(e,u),i=i.insert(e,tb(t))})).next((function(){return{documents:r,Jn:i}}))}},{key:"zn",value:function(e,t,n){if(t.isEmpty())return ov.resolve();var r=new Cv(Cb);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Ab(r.first()),Ab(r.last())),u=r.getIterator(),a=u.getNext();return xb(e).Z({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Wp.fromSegments([].concat(c(t.prefixPath),[t.collectionGroup,t.documentId]));a&&Cb(a,i)<0;)n(a,null),a=u.getNext();a&&a.isEqual(i)&&(n(a,t),a=u.hasNext()?u.getNext():null),a?r.j(Ab(a)):r.done()})).next((function(){for(;a;)n(a,null),a=u.hasNext()?u.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),yk(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xb(e).W(IDBKeyRange.bound(i,u,!0)).next((function(e){var t,n=Ly(),i=Pe(e);try{for(i.s();!(t=i.n()).done;){var u=t.value,a=r.jn(Wp.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);n=n.insert(a.key,a)}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,u=Ly(),a=_b(t,n),o=_b(t,tv.max());return xb(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,o,!0)},(function(e,t,n){var a=i.jn(Wp.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(u=u.insert(a.key,a)).size===r&&n.done()})).next((function(){return u}))}},{key:"newChangeBuffer",value:function(e){return new wb(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Eb(e).get("remoteDocumentGlobalKey").next((function(e){return xp(!!e),e}))}},{key:"Qn",value:function(e,t){return Eb(e).put("remoteDocumentGlobalKey",t)}},{key:"jn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=bg(e.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Wp.fromSegments(t.noDocument.path),i=kk(t.noDocument.readTime);n=hm.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ep();var u=Wp.fromSegments(t.unknownDocument.path),a=kk(t.unknownDocument.version);n=hm.newUnknownDocument(u,a)}return t.readTime&&n.setReadTime(function(e){var t=new Vp(e[0],e[1]);return qp.fromTimestamp(t)}(t.readTime)),n}(this.It,t);if(!n.isNoDocument()||!n.version.isEqual(qp.min()))return n}return hm.newInvalidDocument(e)}}]),e}();function bb(e){return new kb(e)}var wb=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).Yn=e,i.trackRemovals=r,i.Xn=new Py((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return h(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Cv((function(e,t){return Mp(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(u,a){var o=t.Xn.get(u);if(n.push(t.Yn.removeEntry(e,u,o.readTime)),a.isValidDocument()){var s=mk(t.Yn.It,a);i=i.add(u.path.popLast());var c=tb(s);r+=c-o.size,n.push(t.Yn.addEntry(e,u,s))}else if(r-=o.size,t.trackRemovals){var l=mk(t.Yn.It,a.convertToNoDocument(qp.min()));n.push(t.Yn.addEntry(e,u,l))}})),i.forEach((function(r){n.push(t.Yn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Yn.updateMetadata(e,r)),ov.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Yn.Wn(e,t).next((function(e){return n.Xn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Yn.Hn(e,t).next((function(e){var t=e.documents;return e.Jn.forEach((function(e,r){n.Xn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(gb);function Eb(e){return lk(e,"remoteDocumentGlobal")}function xb(e){return lk(e,"remoteDocumentsV14")}function Ab(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function _b(e,t){var n=t.documentKey.path.toArray();return[e,yk(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Cb(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,u=0;u<n.length-2&&u<r.length-2;++u)if(i=Mp(n[u],r[u]))return i;return(i=Mp(n.length,r.length))||((i=Mp(n[n.length-2],r[r.length-2]))||Mp(n[n.length-1],r[r.length-1]))}var Ib=h((function e(t,n){l(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Sb=function(){function e(t,n,r,i){l(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return h(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&by(r.mutation,e,Tv.empty(),Vp.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Ky()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ky(),i=Vy();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Uy();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Vy();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Ky())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Ly(),u=zy(),a=zy();return t.forEach((function(e,t){var a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Ay)?i=i.insert(t.key,t):void 0!==a&&(u.set(t.key,a.mutation.getFieldMask()),by(a.mutation,t,a.mutation.getFieldMask(),Vp.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return u.set(e,t)})),t.forEach((function(e,t){var n;return a.set(e,new Ib(t,null!==(n=u.get(e))&&void 0!==n?n:null))})),a}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=zy(),i=new xv((function(e,t){return e-t})),u=Ky();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,u=Pe(e);try{var a=function(){var e=n.value;e.keys().forEach((function(n){var u=t.get(n);if(null!==u){var a=r.get(n)||Tv.empty();a=e.applyToLocalView(u,a),r.set(n,a);var o=(i.get(e.batchId)||Ky()).add(n);i=i.insert(e.batchId,o)}}))};for(u.s();!(n=u.n()).done;)a()}catch(o){u.e(o)}finally{u.f()}})).next((function(){for(var a=[],o=i.getReverseIterator(),s=function(){var i=o.getNext(),s=i.key,c=i.value,l=qy();c.forEach((function(e){if(!u.has(e)){var n=gy(t.get(e),r.get(e));null!==n&&l.set(e,n),u=u.add(e)}})),a.push(n.documentOverlayCache.saveOverlays(e,s,l))};o.hasNext();)s();return ov.waitFor(a)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Wp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Vm(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(u){var a=r-u.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-u.size):ov.resolve(Vy()),o=-1,s=u;return a.next((function(t){return ov.forEach(t,(function(t,n){return o<n.largestBatchId&&(o=n.largestBatchId),u.get(t)?ov.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,u)})).next((function(){return i.computeViews(e,s,t,Ky())})).next((function(e){return{batchId:o,changes:jy(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Wp(t)).next((function(e){var t=Uy();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,u=Uy();return this.indexManager.getCollectionParents(e,i).next((function(a){return ov.forEach(a,(function(a){var o=function(e,t){return new Pm(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.getDocumentsMatchingCollectionQuery(e,o,n).next((function(e){e.forEach((function(e,t){u=u.insert(e,t)}))}))})).next((function(){return u}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(u){return r=u,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,hm.newInvalidDocument(n)))}));var n=Uy();return r.forEach((function(r,i){var u=e.get(r);void 0!==u&&by(u.mutation,i,Tv.empty(),Vp.now()),Qm(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):ov.resolve(hm.newInvalidDocument(t))}}]),e}(),Tb=function(){function e(t){l(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return h(e,[{key:"getBundleMetadata",value:function(e,t){return ov.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:lg(n.createTime)}),ov.resolve()}},{key:"getNamedQuery",value:function(e,t){return ov.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:xk(e.bundledQuery),readTime:lg(e.readTime)}}(t)),ov.resolve()}}]),e}(),Db=function(){function e(){l(this,e),this.overlays=new xv(Wp.comparator),this.es=new Map}return h(e,[{key:"getOverlay",value:function(e,t){return ov.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Vy();return ov.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),ov.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),ov.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Vy(),i=t.length+1,u=new Wp(t.child("")),a=this.overlays.getIteratorFrom(u);a.hasNext();){var o=a.getNext().value,s=o.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&o.largestBatchId>n&&r.set(o.getKey(),o)}return ov.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new xv((function(e,t){return e-t})),u=this.overlays.getIterator();u.hasNext();){var a=u.getNext().value;if(a.getKey().getCollectionGroup()===t&&a.largestBatchId>n){var o=i.get(a.largestBatchId);null===o&&(o=Vy(),i=i.insert(a.largestBatchId,o)),o.set(a.getKey(),a)}}for(var s=Vy(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return ov.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new dk(t,n));var u=this.es.get(t);void 0===u&&(u=Ky(),this.es.set(t,u)),this.es.set(t,u.add(n.key))}}]),e}(),Fb=function(){function e(){l(this,e),this.ns=new Cv(Nb.ss),this.rs=new Cv(Nb.os)}return h(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Nb(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Nb(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Wp(new Hp([])),r=new Nb(n,e),i=new Nb(n,e+1),u=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),u.push(e.key)})),u}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Wp(new Hp([])),n=new Nb(t,e),r=new Nb(t,e+1),i=Ky();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Nb(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Nb=function(){function e(t,n){l(this,e),this.key=t,this._s=n}return h(e,null,[{key:"ss",value:function(e,t){return Wp.comparator(e.key,t.key)||Mp(e._s,t._s)}},{key:"os",value:function(e,t){return Mp(e._s,t._s)||Wp.comparator(e.key,t.key)}}]),e}(),Rb=function(){function e(t,n){l(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Cv(Nb.ss)}return h(e,[{key:"checkEmpty",value:function(e){return ov.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var u=new fk(i,t,n,r);this.mutationQueue.push(u);var a,o=Pe(r);try{for(o.s();!(a=o.n()).done;){var s=a.value;this.gs=this.gs.add(new Nb(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){o.e(c)}finally{o.f()}return ov.resolve(u)}},{key:"lookupMutationBatch",value:function(e,t){return ov.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return ov.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ov.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return ov.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Nb(t,0),i=new Nb(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);u.push(t)})),ov.resolve(u)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Cv(Mp);return t.forEach((function(e){var t=new Nb(e,0),i=new Nb(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),ov.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Wp.isDocumentKey(i)||(i=i.child(""));var u=new Nb(new Wp(i),0),a=new Cv(Mp);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e._s)),!0)}),u),ov.resolve(this.Is(a))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;xp(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return ov.forEach(t.mutations,(function(i){var u=new Nb(i.key,t.batchId);return r=r.delete(u),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Nb(t,0),r=this.gs.firstAfterOrEqual(n);return ov.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,ov.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Ob=function(){function e(t){l(this,e),this.Es=t,this.docs=new xv(Wp.comparator),this.size=0}return h(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,u=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:u}),this.size+=u-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ov.resolve(n?n.document.mutableCopy():hm.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Ly();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():hm.newInvalidDocument(e))})),ov.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Ly(),i=new Wp(t.child("")),u=this.docs.getIteratorFrom(i);u.hasNext();){var a=u.getNext(),o=a.key,s=a.value.document;if(!t.isPrefixOf(o.path))break;o.path.length>t.length+1||nv(ev(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return ov.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Ep()}},{key:"As",value:function(e,t){return ov.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Pb(this)}},{key:"getSize",value:function(e){return ov.resolve(this.size)}}]),e}(),Pb=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).Yn=e,r}return h(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),ov.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(gb),Bb=function(){function e(t){l(this,e),this.persistence=t,this.Rs=new Py((function(e){return vm(e)}),mm),this.lastRemoteSnapshotVersion=qp.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Fb,this.targetCount=0,this.vs=ob.Pn()}return h(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),ov.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ov.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ov.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),ov.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),ov.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new ob(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,ov.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),ov.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,ov.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,u=[];return this.Rs.forEach((function(a,o){o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r.Rs.delete(a),u.push(r.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),ov.waitFor(u).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ov.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return ov.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),ov.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ov.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),ov.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return ov.resolve(n)}},{key:"containsKey",value:function(e,t){return ov.resolve(this.Ps.containsKey(t))}}]),e}(),Lb=function(){function e(t,n){var r=this;l(this,e),this.Vs={},this.overlays={},this.Ss=new kv(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Bb(this),this.indexManager=new zk,this.remoteDocumentCache=new Ob((function(e){return r.referenceDelegate.xs(e)})),this.It=new vk(n),this.Ns=new Tb(this.It)}return h(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Db,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new Rb(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;gp("MemoryPersistence","Starting transaction:",e);var i=new Mb(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Ms(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return ov.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Mb=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return h(n)}(iv),Ub=function(){function e(t){l(this,e),this.persistence=t,this.Fs=new Fb,this.$s=null}return h(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Ep()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),ov.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),ov.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),ov.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Ms",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ov.forEach(this.Ls,(function(r){var i=Wp.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,qp.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return ov.or([function(){return ov.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}(),jb=function(){function e(t){l(this,e),this.It=t}return h(e,[{key:"$",value:function(e,t,n,r){var i=this,u=new sv("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jg,{unique:!0}),e.createObjectStore("documentMutations")}(e),Vb(e),function(e){e.createObjectStore("remoteDocuments")}(e));var a=ov.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Vb(e)),a=a.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:qp.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(u)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store("mutations").W().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",jg,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ov.waitFor(i)}))}(e,u)}))),a=a.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.qs(u)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ks(u)}))),n<7&&r>=7&&(a=a.next((function(){return i.Gs(u)}))),n<8&&r>=8&&(a=a.next((function(){return i.Qs(e,u)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.js(u)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(a=a.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:tk});t.createIndex("collectionPathOverlayIndex",nk,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",rk,{unique:!1})}(e)}))),n<13&&r>=13&&(a=a.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Hg});t.createIndex("documentKeyIndex",Gg),t.createIndex("collectionGroupIndex",Kg)}(e)})).next((function(){return i.Ws(e,u)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(a=a.next((function(){return i.zs(e,u)}))),n<15&&r>=15&&(a=a.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Xg}).createIndex("sequenceNumberIndex",Jg,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Zg}).createIndex("documentKeyIndex",ek,{unique:!1})}(e)}))),a}},{key:"Ks",value:function(e){var t=0;return e.store("remoteDocuments").Z((function(e,n){t+=tb(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"qs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.W().next((function(n){return ov.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",i).next((function(r){return ov.forEach(r,(function(r){xp(r.userId===n.userId);var i=bk(t.It,r);return eb(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Gs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Z((function(n,i){var u=new Hp(n),a=function(e){return[0,Bg(e)]}(u);r.push(t.get(a).next((function(n){return n?ov.resolve():function(n){return t.put({targetId:0,path:Bg(n),sequenceNumber:e.highestListenSequenceNumber})}(u)})))})).next((function(){return ov.waitFor(r)}))}))}},{key:"Qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:$g});var n=t.store("collectionParents"),r=new Hk,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Bg(i)})}};return t.store("remoteDocuments").Z({X:!0},(function(e,t){var n=new Hp(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Z({X:!0},(function(e,t){var n=x(e,3),r=(n[0],n[1]),u=(n[2],Ug(r));return i(u.popLast())}))}))}},{key:"js",value:function(e){var t=this,n=e.store("targets");return n.Z((function(e,r){var i=wk(r),u=Ek(t.It,i);return n.put(u)}))}},{key:"Ws",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Z((function(e,n){var i,u=t.store("remoteDocumentsV14"),a=(i=n,i.document?new Wp(Hp.fromString(i.document.name).popFirst(5)):i.noDocument?Wp.fromSegments(i.noDocument.path):i.unknownDocument?Wp.fromSegments(i.unknownDocument.path):Ep()).path.toArray(),o={prefixPath:a.slice(0,a.length-2),collectionGroup:a[a.length-2],documentId:a[a.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(u.put(o))})).next((function(){return ov.waitFor(r)}))}},{key:"zs",value:function(e,t){var n=this,r=t.store("mutations"),i=bb(this.It),u=new Lb(Ub.Bs,this.It.re);return r.W().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Ky();bk(n.It,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),ov.forEach(r,(function(e,r){var a=new pp(r),o=Dk.oe(n.It,a),s=u.getIndexManager(a),c=nb.oe(a,n.It,s,u.referenceDelegate);return new Sb(i,c,o,s).recalculateAndSaveOverlaysForDocumentKeys(new ck(t,kv.at),e).next()}))}))}}]),e}();function Vb(e){e.createObjectStore("targetDocuments",{keyPath:Qg}).createIndex("documentTargetsIndex",Yg,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Wg,{unique:!0}),e.createObjectStore("targetGlobal")}var qb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",zb=function(){function e(t,n,r,i,u,a,o,s,c,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(l(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Hs=u,this.window=a,this.document=o,this.Js=c,this.Ys=f,this.Xs=h,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=function(e){return Promise.resolve()},!e.C())throw new Cp(_p.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mb(this,i),this.ii=n+"main",this.It=new vk(s),this.ri=new cv(this.ii,this.Xs,new jb(this.It)),this.Cs=new sb(this.referenceDelegate,this.It),this.remoteDocumentCache=bb(this.It),this.Ns=new Ik,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===f&&kp("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return h(e,[{key:"start",value:function(){var e=this;return this.ui().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Cp(_p.FAILED_PRECONDITION,qb);return e.ci(),e.ai(),e.hi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Cs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ss=new kv(t,e.Js)})).then((function(){e.Ds=!0})).catch((function(t){return e.ri&&e.ri.close(),Promise.reject(t)}))}},{key:"li",value:function(e){var t=this;return this.si=function(){var n=Le(Fe().mark((function n(r){return Fe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ri.L(function(){var t=Le(Fe().mark((function t(n){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget(Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ui();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ui",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Gb(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.fi(t).next((function(t){t||(e.isPrimary=!1,e.Hs.enqueueRetryable((function(){return e.si(!1)})))}))})).next((function(){return e.di(t)})).next((function(n){return e.isPrimary&&!n?e._i(t).next((function(){return!1})):!!n&&e.wi(t).next((function(){return!0}))}))})).catch((function(t){if(hv(t))return gp("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return gp("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Hs.enqueueRetryable((function(){return e.si(t)})),e.isPrimary=t}))}},{key:"fi",value:function(e){var t=this;return Hb(e).get("owner").next((function(e){return ov.resolve(t.mi(e))}))}},{key:"gi",value:function(e){return Gb(e).delete(this.clientId)}},{key:"yi",value:function(){var e=Le(Fe().mark((function e(){var t,n,r,i,u=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.pi(this.ni,18e5)){e.next=6;break}return this.ni=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=lk(e,"clientMetadata");return t.W().next((function(e){var n=u.Ii(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ov.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.oi){n=Pe(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.oi.removeItem(this.Ti(i.clientId))}catch(a){n.e(a)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"hi",value:function(){var e=this;this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ui().then((function(){return e.yi()})).then((function(){return e.hi()}))}))}},{key:"mi",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"di",value:function(e){var t=this;return this.Ys?ov.resolve(!0):Hb(e).get("owner").next((function(n){if(null!==n&&t.pi(n.leaseTimestampMs,5e3)&&!t.Ei(n.ownerId)){if(t.mi(n)&&t.networkEnabled)return!0;if(!t.mi(n)){if(!n.allowTabSynchronization)throw new Cp(_p.FAILED_PRECONDITION,qb);return!1}}return!(!t.networkEnabled||!t.inForeground)||Gb(e).W().next((function(e){return void 0===t.Ii(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&gp("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Le(Fe().mark((function e(){var t=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ds=!1,this.Ai(),this.ei&&(this.ei.cancel(),this.ei=null),this.Ri(),this.bi(),e.next=7,this.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new ck(e,kv.at);return t._i(n).next((function(){return t.gi(n)}))}));case 7:this.ri.close(),this.Pi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ii",value:function(e,t){var n=this;return e.filter((function(e){return n.pi(e.updateTimeMs,t)&&!n.Ei(e.clientId)}))}},{key:"vi",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Gb(t).W().next((function(t){return e.Ii(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Ds}},{key:"getMutationQueue",value:function(e,t){return nb.oe(e,this.It,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new Kk(e,this.It.re.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Dk.oe(this.It,e)}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;gp("IndexedDbPersistence","Starting transaction:",e);var i,u,a="readonly"===t?"readonly":"readwrite",o=15===(i=this.Xs)?sk:14===i?ok:13===i?ak:12===i?uk:11===i?ik:void Ep();return this.ri.runTransaction(e,a,o,(function(i){return u=new ck(i,r.Ss?r.Ss.next():kv.at),"readwrite-primary"===t?r.fi(u).next((function(e){return!!e||r.di(u)})).next((function(t){if(!t)throw kp("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Hs.enqueueRetryable((function(){return r.si(!1)})),new Cp(_p.FAILED_PRECONDITION,rv);return n(u)})).next((function(e){return r.wi(u).next((function(){return e}))})):r.Vi(u).next((function(){return n(u)}))})).then((function(e){return u.raiseOnCommittedEvent(),e}))}},{key:"Vi",value:function(e){var t=this;return Hb(e).get("owner").next((function(e){if(null!==e&&t.pi(e.leaseTimestampMs,5e3)&&!t.Ei(e.ownerId)&&!t.mi(e)&&!(t.Ys||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Cp(_p.FAILED_PRECONDITION,qb)}))}},{key:"wi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hb(e).put("owner",t)}},{key:"_i",value:function(e){var t=this,n=Hb(e);return n.get("owner").next((function(e){return t.mi(e)?(gp("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ov.resolve()}))}},{key:"pi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(kp("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ci",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=function(){e.Hs.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ui()}))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ri",value:function(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}},{key:"ai",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=function(){t.Ai(),!et()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Hs.enterRestrictedMode(!0),t.Hs.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Zs))}},{key:"bi",value:function(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}},{key:"Ei",value:function(e){var t;try{var n=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return gp("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return kp("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ai",value:function(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(wl){kp("Failed to set zombie client id.",wl)}}},{key:"Pi",value:function(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch(wl){}}},{key:"Ti",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"C",value:function(){return cv.C()}}]),e}();function Hb(e){return lk(e,"owner")}function Gb(e){return lk(e,"clientMetadata")}function Kb(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Wb=function(){function e(t,n,r,i){l(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return h(e,null,[{key:"Ci",value:function(t,n){var r,i=Ky(),u=Ky(),a=Pe(n.docChanges);try{for(a.s();!(r=a.n()).done;){var o=r.value;switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:u=u.add(o.doc.key)}}}catch(s){a.e(s)}finally{a.f()}return new e(t,n.fromCache,i,u)}}]),e}(),Qb=function(){function e(){l(this,e),this.xi=!1}return h(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(u){return u||i.Mi(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(Mm(t))return ov.resolve(null);var r=zm(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Hm(t,null,"F"),r=zm(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var u=Ky.apply(void 0,c(i));return n.Ni.getDocuments(e,u).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var a=n.Fi(t,i);return n.$i(t,a,u,r.readTime)?n.ki(e,Hm(t,null,"F")):n.Bi(e,a,t,r)}))}))})))}))}},{key:"Mi",value:function(e,t,n,r){var i=this;return Mm(t)||r.isEqual(qp.min())?this.Oi(e,t):this.Ni.getDocuments(e,n).next((function(u){var a=i.Fi(t,u);return i.$i(t,a,n,r)?i.Oi(e,t):(yp()<=xt.DEBUG&&gp("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Wm(t)),i.Bi(e,a,t,Zp(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new Cv($m(e));return t.forEach((function(t,r){Qm(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return yp()<=xt.DEBUG&&gp("QueryEngine","Using full collection scan to execute query:",Wm(t)),this.Ni.getDocumentsMatchingQuery(e,t,tv.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Yb=function(){function e(t,n,r,i){l(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new xv(Mp),this.qi=new Py((function(e){return vm(e)}),mm),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return h(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sb(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function $b(e,t,n,r){return new Yb(e,t,n,r)}function Xb(e,t){return Jb.apply(this,arguments)}function Jb(){return Jb=Le(Fe().mark((function e(t,n){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ap(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,u=[],a=[],o=Ky(),s=Pe(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;u.push(c.batchId);var l,f=Pe(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;o=o.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Pe(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;a.push(v.batchId);var m,y=Pe(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;o=o.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,o).next((function(e){return{ji:e,removedBatchIds:u,addedBatchIds:a}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Jb.apply(this,arguments)}function Zb(e,t){var n=Ap(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,u=i.keys(),a=ov.resolve();return u.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var u=n.docVersions.get(e);xp(null!==u),t.version.compareTo(u)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Ky(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function ew(e){var t=Ap(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function tw(e,t){var n=Ap(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var u=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var a=[];t.targetChanges.forEach((function(u,o){var s=i.get(o);if(s){a.push(n.Cs.removeMatchingKeys(e,u.removedDocuments,o).next((function(){return n.Cs.addMatchingKeys(e,u.addedDocuments,o)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(o)?c=c.withResumeToken(Dv.EMPTY_BYTE_STRING,qp.min()).withLastLimboFreeSnapshotVersion(qp.min()):u.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(u.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,u)&&a.push(n.Cs.updateTargetData(e,c))}}));var o=Ly(),s=Ky();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(nw(e,u,t.documentUpdates).next((function(e){o=e.Wi,s=e.zi}))),!r.isEqual(qp.min())){var c=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(c)}return ov.waitFor(a).next((function(){return u.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,o,s)})).next((function(){return o}))})).then((function(e){return n.Ui=i,e}))}function nw(e,t,n){var r=Ky(),i=Ky();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Ly();return n.forEach((function(n,u){var a=e.get(n);u.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),u.isNoDocument()&&u.version.isEqual(qp.min())?(t.removeEntry(n,u.readTime),r=r.insert(n,u)):!a.isValidDocument()||u.version.compareTo(a.version)>0||0===u.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(u),r=r.insert(n,u)):gp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",u.version)})),{Wi:r,zi:i}}))}function rw(e,t){var n=Ap(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function iw(e,t){var n=Ap(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,ov.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new pk(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function uw(e,t,n){return aw.apply(this,arguments)}function aw(){return aw=Le(Fe().mark((function e(t,n,r){var i,u,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ap(t),u=i.Ui.get(n),a=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",a,(function(e){return i.persistence.referenceDelegate.removeTarget(e,u)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),hv(e.t1)){e.next=12;break}throw e.t1;case 12:gp("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(u.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),aw.apply(this,arguments)}function ow(e,t,n){var r=Ap(e),i=qp.min(),u=Ky();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ap(e),i=r.qi.get(n);return void 0!==i?ov.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,zm(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){u=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:qp.min(),n?u:Ky())})).next((function(e){return lw(r,Ym(t),e),{documents:e,Hi:u}}))}))}function sw(e,t){var n=Ap(e),r=Ap(n.Cs),i=n.Ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.se(e,t).next((function(e){return e?e.target:null}))}))}function cw(e,t){var n=Ap(e),r=n.Ki.get(t)||qp.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Gi.getAllFromCollectionGroup(e,t,Zp(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return lw(n,t,e),e}))}function lw(e,t,n){var r=qp.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}function fw(e,t,n,r){return hw.apply(this,arguments)}function hw(){return hw=Le(Fe().mark((function e(t,n,r,i){var u,a,o,s,c,l,f,h,d,p;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u=Ap(t),a=Ky(),o=Ly(),s=Pe(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Ji(l.metadata.name),l.document&&(a=a.add(f)),(h=n.Yi(l)).setReadTime(n.Xi(l.metadata.readTime)),o=o.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=u.Gi.newChangeBuffer({trackRemovals:!0}),e.next=7,iw(u,function(e){return zm(Lm(Hp.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",u.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return nw(e,d,o).next((function(t){return d.apply(e),t})).next((function(t){return u.Cs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return u.Cs.addMatchingKeys(e,a,p.targetId)})).next((function(){return u.localDocuments.getLocalViewOfDocuments(e,t.Wi,t.zi)})).next((function(){return t.Wi}))}))})));case 9:case"end":return e.stop()}}),e)}))),hw.apply(this,arguments)}function dw(e,t){return pw.apply(this,arguments)}function pw(){return pw=Le(Fe().mark((function e(t,n){var r,i,u,a=arguments;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:Ky(),e.next=3,iw(t,zm(xk(n.bundledQuery)));case 3:return i=e.sent,u=Ap(t),e.abrupt("return",u.persistence.runTransaction("Save named query","readwrite",(function(e){var t=lg(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return u.Ns.saveNamedQuery(e,n);var a=i.withResumeToken(Dv.EMPTY_BYTE_STRING,t);return u.Ui=u.Ui.insert(a.targetId,a),u.Cs.updateTargetData(e,a).next((function(){return u.Cs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return u.Cs.addMatchingKeys(e,r,i.targetId)})).next((function(){return u.Ns.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),pw.apply(this,arguments)}function vw(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function mw(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function yw(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var gw=function(){function e(t,n,r,i){l(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return h(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n,r){var i,u=JSON.parse(r),a="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return a&&u.error&&((a="string"==typeof u.error.message&&"string"==typeof u.error.code)&&(i=new Cp(u.error.code,u.error.message))),a?new e(t,n,u.state,i):(kp("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),kw=function(){function e(t,n,r){l(this,e),this.targetId=t,this.state=n,this.error=r}return h(e,[{key:"tr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Zi",value:function(t,n){var r,i=JSON.parse(n),u="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&((u="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Cp(i.error.code,i.error.message))),u?new e(t,i.state,r):(kp("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),bw=function(){function e(t,n){l(this,e),this.clientId=t,this.activeTargetIds=n}return h(e,null,[{key:"Zi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,u=Qy(),a=0;i&&a<r.activeTargetIds.length;++a)i=qv(r.activeTargetIds[a]),u=u.add(r.activeTargetIds[a]);return i?new e(t,u):(kp("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),ww=function(){function e(t,n){l(this,e),this.clientId=t,this.onlineState=n}return h(e,null,[{key:"Zi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(kp("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Ew=function(){function e(){l(this,e),this.activeTargetIds=Qy()}return h(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),xw=function(){function e(t,n,r,i,u){l(this,e),this.window=t,this.Hs=n,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new xv(Mp),this.started=!1,this.cr=[];var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.ar=vw(this.persistenceKey,this.sr),this.hr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ur=this.ur.insert(this.sr,new Ew),this.lr=new RegExp("^firestore_clients_".concat(a,"_([^_]*)$")),this.dr=new RegExp("^firestore_mutations_".concat(a,"_(\\d+)(?:_(.*))?$")),this._r=new RegExp("^firestore_targets_".concat(a,"_(\\d+)$")),this.wr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.mr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}return h(e,[{key:"start",value:function(){var e=Le(Fe().mark((function e(){var t,n,r,i,u,a,o,s,c,l,f,h=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.vi();case 2:t=e.sent,n=Pe(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.sr){e.next=10;break}return e.abrupt("continue",12);case 10:(u=this.getItem(vw(this.persistenceKey,i)))&&(a=bw.Zi(i,u))&&(this.ur=this.ur.insert(a.clientId,a));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.gr(),(o=this.storage.getItem(this.wr))&&(s=this.yr(o))&&this.pr(s),c=Pe(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.rr(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.hr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Ir(this.ur)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ur.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Tr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Tr(e,t,n),this.Er(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(yw(this.persistenceKey,e));if(n){var r=kw.Zi(e,n);r&&(t=r.state)}}return this.Ar.er(e),this.gr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ar.nr(e),this.gr()}},{key:"isLocalQueryTarget",value:function(e){return this.Ar.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(yw(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Rr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Er(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.br(e)}},{key:"notifyBundleLoaded",value:function(e){this.Pr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return gp("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){gp("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){gp("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"rr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(gp("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ar)return void kp("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable(Le(Fe().mark((function e(){var r,i,u,a,o,s,c;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.lr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Vr(r,null));case 6:if(!(i=t.Sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Vr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.dr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(u=t.Dr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Cr(u));case 16:e.next=41;break;case 18:if(!t._r.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(a=t.Nr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.kr(a));case 23:e.next=41;break;case 25:if(n.key!==t.wr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(o=t.yr(n.newValue))){e.next=30;break}return e.abrupt("return",t.pr(o));case 30:e.next=41;break;case 32:if(n.key!==t.hr){e.next=37;break}s=function(e){var t=kv.at;if(null!=e)try{var n=JSON.parse(e);xp("number"==typeof n),t=n}catch(e){kp("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==kv.at&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.mr){e.next=41;break}return c=t.Mr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Or(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ar",get:function(){return this.ur.get(this.sr)}},{key:"gr",value:function(){this.setItem(this.ar,this.Ar.tr())}},{key:"Tr",value:function(e,t,n){var r=new gw(this.currentUser,e,t,n),i=mw(this.persistenceKey,this.currentUser,e);this.setItem(i,r.tr())}},{key:"Er",value:function(e){var t=mw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"br",value:function(e){var t={clientId:this.sr,onlineState:e};this.storage.setItem(this.wr,JSON.stringify(t))}},{key:"Rr",value:function(e,t,n){var r=yw(this.persistenceKey,e),i=new kw(e,t,n);this.setItem(r,i.tr())}},{key:"Pr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}},{key:"vr",value:function(e){var t=this.lr.exec(e);return t?t[1]:null}},{key:"Sr",value:function(e,t){var n=this.vr(e);return bw.Zi(n,t)}},{key:"Dr",value:function(e,t){var n=this.dr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return gw.Zi(new pp(i),r,t)}},{key:"Nr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]);return kw.Zi(r,t)}},{key:"yr",value:function(e){return ww.Zi(e)}},{key:"Mr",value:function(e){return JSON.parse(e)}},{key:"Cr",value:function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Fr(t.batchId,t.state,t.error));case 2:gp("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"kr",value:function(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}},{key:"Vr",value:function(e,t){var n=this,r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),u=this.Ir(r),a=[],o=[];return u.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){u.has(e)||o.push(e)})),this.syncEngine.Br(a,o).then((function(){n.ur=r}))}},{key:"pr",value:function(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Ir",value:function(e){var t=Qy();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"C",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Aw=function(){function e(){l(this,e),this.Lr=new Ew,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return h(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new Ew,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),_w=function(){function e(){l(this,e)}return h(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Cw=function(){function e(){var t=this;l(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return h(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){gp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Pe(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){gp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Pe(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Iw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Sw=function(){function e(t){l(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return h(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),Tw=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return h(n,[{key:"lo",value:function(e,t,n,r){return new Promise((function(i,u){var a=new hp;a.listenOnce(op.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case ap.NO_ERROR:var t=a.getResponseJson();gp("Connection","XHR received:",JSON.stringify(t)),i(t);break;case ap.TIMEOUT:gp("Connection",'RPC "'+e+'" timed out'),u(new Cp(_p.DEADLINE_EXCEEDED,"Request time out"));break;case ap.HTTP_ERROR:var n=a.getStatus();if(gp("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var o=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(_p).indexOf(t)>=0?t:_p.UNKNOWN}(r.status);u(new Cp(o,r.message))}else u(new Cp(_p.UNKNOWN,"Server responded with status "+a.getStatus()))}else u(new Cp(_p.UNAVAILABLE,"Connection failed."));break;default:Ep()}}finally{gp("Connection",'RPC "'+e+'" completed.')}}));var o=JSON.stringify(r);a.send(t,"POST",o,n,15)}))}},{key:"_o",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=ip(),u=up(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new lp({})),this.ho(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;var o=r.join("");gp("Connection","Creating WebChannel: "+o,a);var s=i.createWebChannel(o,a),c=!1,l=!1,f=new Sw({Hr:function(e){l?gp("Connection","Not sending because WebChannel is closed:",e):(c||(gp("Connection","Opening WebChannel transport."),s.open(),c=!0),gp("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,fp.EventType.OPEN,(function(){l||gp("Connection","WebChannel transport opened.")})),h(s,fp.EventType.CLOSE,(function(){l||(l=!0,gp("Connection","WebChannel transport closed"),f.io())})),h(s,fp.EventType.ERROR,(function(e){l||(l=!0,bp("Connection","WebChannel transport errored:",e),f.io(new Cp(_p.UNAVAILABLE,"The operation could not be completed")))})),h(s,fp.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];xp(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){gp("Connection","WebChannel received error:",i);var u=i.status,a=function(e){var t=Sy[e];if(void 0!==t)return Oy(t)}(u),o=i.message;void 0===a&&(a=_p.INTERNAL,o="Unknown error status: "+u+" with message "+i.message),l=!0,f.io(new Cp(a,o)),s.close()}else gp("Connection","WebChannel received:",n),f.ro(n)}})),h(u,sp.STAT_EVENT,(function(e){e.stat===cp.PROXY?gp("Connection","Detected buffering proxy"):e.stat===cp.NOPROXY&&gp("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){l(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return h(e,[{key:"co",value:function(e,t,n,r,i){var u=this.ao(e,t);gp("RestConnection","Sending: ",u,n);var a={};return this.ho(a,r,i),this.lo(e,u,a,n).then((function(e){return gp("RestConnection","Received: ",e),e}),(function(t){throw bp("RestConnection","".concat(e," failed with error: "),t,"url: ",u,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,u){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+vp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=Iw[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function Dw(){return"undefined"!=typeof window?window:null}function Fw(){return"undefined"!=typeof document?document:null}function Nw(e){return new ag(e,!0)}var Rw=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;l(this,e),this.Hs=t,this.timerId=n,this.wo=r,this.mo=i,this.yo=u,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return h(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&gp("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}},{key:"bo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),Ow=function(){function e(t,n,r,i,u,a,o,s){l(this,e),this.Hs=t,this.Po=r,this.vo=i,this.Vo=u,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Rw(t,n)}return h(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Mo()}},{key:"stop",value:function(){var e=Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===_p.RESOURCE_EXHAUSTED?(kp(n.toString()),kp("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===_p.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=x(t,2),i=r[0],u=r[1];e.So===n&&e.Go(i,u)}),(function(n){t((function(){var t=new Cp(_p.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Mo",value:function(){var e=this;this.state=5,this.xo.Ao(Le(Fe().mark((function t(){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return gp("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(gp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Pw=function(e){p(n,e);var t=b(n);function n(e,r,i,u,a,o){var s;return l(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,u,o)).It=a,s}return h(n,[{key:"jo",value:function(e,t){return this.Vo._o("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ep()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],u=function(e,t){return e.gt?(xp(void 0===t||"string"==typeof t),Dv.fromBase64String(t||"")):(xp(void 0===t||t instanceof Uint8Array),Dv.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){var t=void 0===e.code?_p.UNKNOWN:Oy(e.code);return new Cp(t,e.message||"")}(a);n=new Zy(r,i,u,o||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=pg(e,s.document.name),l=lg(s.document.updateTime),f=new lm({mapValue:{fields:s.document.fields}}),h=hm.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Xy(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=pg(e,v.document),y=v.readTime?lg(v.readTime):qp.min(),g=hm.newNoDocument(m,y),k=v.removedTargetIds||[];n=new Xy([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=pg(e,b.document),E=b.removedTargetIds||[];n=new Xy([],E,w,null)}else{if(!("filter"in t))return Ep();t.filter;var x=t.filter;x.targetId;var A=x.count||0,_=new Ny(A),C=x.targetId;n=new Jy(C,_)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return qp.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?qp.min():t.readTime?lg(t.readTime):qp.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=yg(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=ym(r)?{documents:Ag(e,r)}:{query:_g(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=sg(e,t.resumeToken):t.snapshotVersion.compareTo(qp.min())>0&&(n.readTime=og(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ep()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=yg(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(Ow),Bw=function(e){p(n,e);var t=b(n);function n(e,r,i,u,a,o){var s;return l(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,u,o)).It=a,s.Jo=!1,s}return h(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Gn(v(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.Vo._o("Write",e,t)}},{key:"onMessage",value:function(e){if(xp(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(xp(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?lg(e.updateTime):lg(t);return n.isEqual(qp.min())&&(n=lg(t)),new py(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=lg(e.commitTime);return this.listener.Zo(n,t)}return xp(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=yg(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Eg(t.It,e)}))};this.Bo(n)}}]),n}(Ow),Lw=function(e){p(n,e);var t=b(n);function n(e,r,i,u){var a;return l(this,n),(a=t.call(this)).authCredentials=e,a.appCheckCredentials=r,a.Vo=i,a.It=u,a.nu=!1,a}return h(n,[{key:"su",value:function(){if(this.nu)throw new Cp(_p.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var u=x(i,2),a=u[0],o=u[1];return r.Vo.co(e,t,n,a,o)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_p.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Cp(_p.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(u){var a=x(u,2),o=a[0],s=a[1];return i.Vo.fo(e,t,n,o,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===_p.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Cp(_p.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return h((function e(){l(this,e)}))}()),Mw=function(){function e(t,n){l(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return h(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(kp(t),this.ou=!1):gp("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),Uw=h((function e(t,n,r,i,u){var a=this;l(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.qr((function(e){r.enqueueAndForget(Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=$w(a),!e.t0){e.next=5;break}return gp("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Le(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ap(t))._u.add(4),e.next=4,qw(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,jw(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(a);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new Mw(r,i)}));function jw(e){return Vw.apply(this,arguments)}function Vw(){return Vw=Le(Fe().mark((function e(t){var n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$w(t)){e.next=18;break}n=Pe(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Vw.apply(this,arguments)}function qw(e){return zw.apply(this,arguments)}function zw(){return zw=Le(Fe().mark((function e(t){var n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Pe(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),zw.apply(this,arguments)}function Hw(e,t){var n=Ap(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),Yw(n)?Qw(n):_E(n).ko()&&Kw(n,t))}function Gw(e,t){var n=Ap(e),r=_E(n);n.du.delete(t),r.ko()&&Ww(n,t),0===n.du.size&&(r.ko()?r.Fo():$w(n)&&n.gu.set("Unknown"))}function Kw(e,t){e.yu.Ot(t.targetId),_E(e).zo(t)}function Ww(e,t){e.yu.Ot(t),_E(e).Ho(t)}function Qw(e){e.yu=new tg({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),_E(e).start(),e.gu.uu()}function Yw(e){return $w(e)&&!_E(e).No()&&e.du.size>0}function $w(e){return 0===Ap(e)._u.size}function Xw(e){e.yu=void 0}function Jw(e){return Zw.apply(this,arguments)}function Zw(){return Zw=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){Kw(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Zw.apply(this,arguments)}function eE(e,t){return tE.apply(this,arguments)}function tE(){return tE=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xw(t),Yw(t)?(t.gu.hu(n),Qw(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),tE.apply(this,arguments)}function nE(e,t,n){return rE.apply(this,arguments)}function rE(){return rE=Le(Fe().mark((function e(t,n,r){var i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Zy&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Le(Fe().mark((function e(t,n){var r,i,u,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Pe(n.targetIds),e.prev=2,i.s();case 4:if((u=i.n()).done){e.next=14;break}if(a=u.value,e.t0=t.du.has(a),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(a,r);case 10:t.du.delete(a),t.yu.removeTarget(a);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),gp("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,iE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Xy?t.yu.Gt(n):n instanceof Jy?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(qp.min())){e.next=29;break}return e.prev=14,e.next=17,ew(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(Dv.EMPTY_BYTE_STRING,n.snapshotVersion)),Ww(e,t);var r=new pk(n.target,t,1,n.sequenceNumber);Kw(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),gp("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,iE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),rE.apply(this,arguments)}function iE(e,t,n){return uE.apply(this,arguments)}function uE(){return uE=Le(Fe().mark((function e(t,n,r){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hv(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,qw(t);case 5:t.gu.set("Offline"),r||(r=function(){return ew(t.localStore)}),t.asyncQueue.enqueueRetryable(Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gp("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,jw(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),uE.apply(this,arguments)}function aE(e,t){return t().catch((function(n){return iE(e,n,t)}))}function oE(e){return sE.apply(this,arguments)}function sE(){return sE=Le(Fe().mark((function e(t){var n,r,i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ap(t),r=CE(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!cE(n)){e.next=19;break}return e.prev=3,e.next=6,rw(n.localStore,i);case 6:if(null!==(u=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=u.batchId,lE(n,u),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,iE(n,e.t0);case 17:e.next=2;break;case 19:fE(n)&&hE(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),sE.apply(this,arguments)}function cE(e){return $w(e)&&e.fu.length<10}function lE(e,t){e.fu.push(t);var n=CE(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function fE(e){return $w(e)&&!CE(e).No()&&e.fu.length>0}function hE(e){CE(e).start()}function dE(e){return pE.apply(this,arguments)}function pE(){return pE=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:CE(t).eu();case 1:case"end":return e.stop()}}),e)}))),pE.apply(this,arguments)}function vE(e){return mE.apply(this,arguments)}function mE(){return mE=Le(Fe().mark((function e(t){var n,r,i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=CE(t),r=Pe(t.fu);try{for(r.s();!(i=r.n()).done;)u=i.value,n.Xo(u.mutations)}catch(a){r.e(a)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),mE.apply(this,arguments)}function yE(e,t,n){return gE.apply(this,arguments)}function gE(){return gE=Le(Fe().mark((function e(t,n,r){var i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),u=hk.from(i,n,r),e.next=3,aE(t,(function(){return t.remoteSyncer.applySuccessfulWrite(u)}));case 3:return e.next=5,oE(t);case 5:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}function kE(e,t){return bE.apply(this,arguments)}function bE(){return bE=Le(Fe().mark((function e(t,n){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&CE(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Le(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ry(i=n.code)||i===_p.ABORTED){e.next=7;break}return r=t.fu.shift(),CE(t).Oo(),e.next=5,aE(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,oE(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:fE(t)&&hE(t);case 5:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}function wE(e,t){return EE.apply(this,arguments)}function EE(){return EE=Le(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ap(t)).asyncQueue.verifyOperationInProgress(),gp("RemoteStore","RemoteStore received new credentials"),i=$w(r),r._u.add(3),e.next=6,qw(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,jw(r);case 12:case"end":return e.stop()}}),e)}))),EE.apply(this,arguments)}function xE(e,t){return AE.apply(this,arguments)}function AE(){return AE=Le(Fe().mark((function e(t,n){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ap(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,jw(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,qw(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),AE.apply(this,arguments)}function _E(e){return e.pu||(e.pu=function(e,t,n){var r=Ap(e);return r.su(),new Pw(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:Jw.bind(null,e),Zr:eE.bind(null,e),Wo:nE.bind(null,e)}),e.wu.push(function(){var t=Le(Fe().mark((function t(n){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Oo(),Yw(e)?Qw(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:Xw(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function CE(e){return e.Iu||(e.Iu=function(e,t,n){var r=Ap(e);return r.su(),new Bw(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:dE.bind(null,e),Zr:kE.bind(null,e),tu:vE.bind(null,e),Zo:yE.bind(null,e)}),e.wu.push(function(){var t=Le(Fe().mark((function t(n){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Oo(),t.next=4,oE(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(gp("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var IE=function(){function e(t,n,r,i,u){l(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new Ip,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return h(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Cp(_p.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,u){var a=new e(t,n,Date.now()+r,i,u);return a.start(r),a}}]),e}();function SE(e,t){if(kp("AsyncQueue","".concat(t,": ").concat(e)),hv(e))return new Cp(_p.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var TE=function(){function e(t){l(this,e),this.comparator=t?function(e,n){return t(e,n)||Wp.comparator(e.key,n.key)}:function(e,t){return Wp.comparator(e.key,t.key)},this.keyedMap=Uy(),this.sortedSet=new xv(this.comparator)}return h(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),DE=function(){function e(){l(this,e),this.Tu=new xv(Wp.comparator)}return h(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Ep():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),FE=function(){function e(t,n,r,i,u,a,o,s){l(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s}return h(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var u=[];return n.forEach((function(e){u.push({type:0,doc:e})})),new e(t,n,TE.emptySet(n),u,r,i,!0,!1)}}]),e}(),NE=h((function e(){l(this,e),this.Au=void 0,this.listeners=[]})),RE=h((function e(){l(this,e),this.queries=new Py((function(e){return Km(e)}),Gm),this.onlineState="Unknown",this.Ru=new Set}));function OE(e,t){return PE.apply(this,arguments)}function PE(){return PE=Le(Fe().mark((function e(t,n){var r,i,u,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ap(t),i=n.query,u=!1,(a=r.queries.get(i))||(u=!0,a=new NE),!u){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:a.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),o=SE(e.t0,"Initialization of query '".concat(Wm(n.query),"' failed")),e.abrupt("return",void n.onError(o));case 13:r.queries.set(i,a),a.listeners.push(n),n.bu(r.onlineState),a.Au&&n.Pu(a.Au)&&jE(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),PE.apply(this,arguments)}function BE(e,t){return LE.apply(this,arguments)}function LE(){return LE=Le(Fe().mark((function e(t,n){var r,i,u,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ap(t),i=n.query,u=!1,(a=r.queries.get(i))&&(o=a.listeners.indexOf(n))>=0&&(a.listeners.splice(o,1),u=0===a.listeners.length),!u){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),LE.apply(this,arguments)}function ME(e,t){var n,r=Ap(e),i=!1,u=Pe(t);try{for(u.s();!(n=u.n()).done;){var a=n.value,o=a.query,s=r.queries.get(o);if(s){var c,l=Pe(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Pu(a)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Au=a}}}catch(f){u.e(f)}finally{u.f()}i&&jE(r)}function UE(e,t,n){var r=Ap(e),i=r.queries.get(t);if(i){var u,a=Pe(i.listeners);try{for(a.s();!(u=a.n()).done;){u.value.onError(n)}}catch(o){a.e(o)}finally{a.f()}}r.queries.delete(t)}function jE(e){e.Ru.forEach((function(e){e.next()}))}var VE=function(){function e(t,n,r){l(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return h(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Pe(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(a){r.e(a)}finally{r.f()}e=new FE(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var u=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),u=!0):this.Cu(e,this.onlineState)&&(this.xu(e),u=!0),this.Su=e,u}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=FE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}]),e}(),qE=function(){function e(t,n){l(this,e),this.payload=t,this.byteLength=n}return h(e,[{key:"ku",value:function(){return"metadata"in this.payload}}]),e}(),zE=function(){function e(t){l(this,e),this.It=t}return h(e,[{key:"Ji",value:function(e){return pg(this.It,e)}},{key:"Yi",value:function(e){return e.metadata.exists?bg(this.It,e.document,!1):hm.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}},{key:"Xi",value:function(e){return lg(e)}}]),e}(),HE=function(){function e(t,n,r){l(this,e),this.Mu=t,this.localStore=n,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=GE(t)}return h(e,[{key:"Ou",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Hp.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Fu",value:function(e){var t,n=new Map,r=new zE(this.It),i=Pe(e);try{for(i.s();!(t=i.n()).done;){var u=t.value;if(u.metadata.queries){var a,o=r.Ji(u.metadata.name),s=Pe(u.metadata.queries);try{for(s.s();!(a=s.n()).done;){var c=a.value,l=(n.get(c)||Ky()).add(o);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Le(Fe().mark((function e(){var t,n,r,i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fw(this.localStore,new zE(this.It),this.documents,this.Mu.id);case 2:t=e.sent,n=this.Fu(this.documents),r=Pe(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return u=i.value,e.next=11,dw(this.localStore,u,n.get(u.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,$u:this.collectionGroups,Bu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function GE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var KE=h((function e(t){l(this,e),this.key=t})),WE=h((function e(t){l(this,e),this.key=t})),QE=function(){function e(t,n){l(this,e),this.query=t,this.Lu=n,this.Uu=null,this.current=!1,this.qu=Ky(),this.mutatedKeys=Ky(),this.Ku=$m(t),this.Gu=new TE(this.Ku)}return h(e,[{key:"Qu",get:function(){return this.Lu}},{key:"ju",value:function(e,t){var n=this,r=t?t.Wu:new DE,i=t?t.Gu:this.Gu,u=t?t.mutatedKeys:this.mutatedKeys,a=i,o=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Qm(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.zu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ku(f,s)>0||c&&n.Ku(f,c)<0)&&(o=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(o=!0)),p&&(f?(a=a.add(f),u=d?u.add(e):u.delete(e)):(a=a.delete(e),u=u.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){var l="F"===this.query.limitType?a.last():a.first();a=a.delete(l.key),u=u.delete(l.key),r.track({type:1,doc:l})}return{Gu:a,Wu:r,$i:o,mutatedKeys:u}}},{key:"zu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var u=e.Wu.Eu();u.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ep()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var a=t?this.Ju():[],o=0===this.qu.size&&this.current?1:0,s=o!==this.Uu;return this.Uu=o,0!==u.length||s?{snapshot:new FE(this.query,e.Gu,i,u,e.mutatedKeys,0===o,s,!1),Yu:a}:{Yu:a}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new DE,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}},{key:"Xu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.qu;this.qu=Ky(),this.Gu.forEach((function(t){e.Xu(t.key)&&(e.qu=e.qu.add(t.key))}));var n=[];return t.forEach((function(t){e.qu.has(t)||n.push(new WE(t))})),this.qu.forEach((function(e){t.has(e)||n.push(new KE(e))})),n}},{key:"Zu",value:function(e){this.Lu=e.Hi,this.qu=Ky();var t=this.ju(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return FE.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}]),e}(),YE=h((function e(t,n,r){l(this,e),this.query=t,this.targetId=n,this.view=r})),$E=h((function e(t){l(this,e),this.key=t,this.ec=!1})),XE=function(){function e(t,n,r,i,u,a){l(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=a,this.nc={},this.sc=new Py((function(e){return Km(e)}),Gm),this.ic=new Map,this.rc=new Set,this.oc=new xv(Wp.comparator),this.uc=new Map,this.cc=new Fb,this.ac={},this.hc=new Map,this.lc=ob.vn(),this.onlineState="Unknown",this.fc=void 0}return h(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function JE(e,t){return ZE.apply(this,arguments)}function ZE(){return ZE=Le(Fe().mark((function e(t,n){var r,i,u,a,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Gx(t),!(a=r.sc.get(n))){e.next=6;break}i=a.targetId,r.sharedClientState.addLocalQueryTarget(i),u=a.view.tc(),e.next=15;break;case 6:return e.next=8,iw(r.localStore,zm(n));case 8:return o=e.sent,r.isPrimaryClient&&Hw(r.remoteStore,o),s=r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.targetId,e.next=14,ex(r,n,i,"current"===s);case 14:u=e.sent;case 15:return e.abrupt("return",u);case 16:case"end":return e.stop()}}),e)}))),ZE.apply(this,arguments)}function ex(e,t,n,r){return tx.apply(this,arguments)}function tx(){return tx=Le(Fe().mark((function e(t,n,r,i){var u,a,o,s,c,l;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=Le(Fe().mark((function e(t,n,r,i){var u,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=n.view.ju(r),e.t0=u.$i,!e.t0){e.next=6;break}return e.next=5,ow(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ju(t,u)}));case 5:u=e.sent;case 6:return a=i&&i.targetChanges.get(n.targetId),o=n.view.applyChanges(u,t.isPrimaryClient,a),e.abrupt("return",(wx(t,n.targetId,o.Yu),o.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,ow(t.localStore,n,!0);case 3:return u=e.sent,a=new QE(n,u.Hi),o=a.ju(u.documents),s=$y.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=a.applyChanges(o,t.isPrimaryClient,s),wx(t,r,c.Yu),l=new YE(n,r,a),e.abrupt("return",(t.sc.set(n,l),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),tx.apply(this,arguments)}function nx(e,t){return rx.apply(this,arguments)}function rx(){return rx=Le(Fe().mark((function e(t,n){var r,i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ap(t),i=r.sc.get(n),!((u=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,u.filter((function(e){return!Gm(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,uw(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Gw(r.remoteStore,i.targetId),kx(r,i.targetId)})).catch(uv);case 9:e.next=14;break;case 11:return kx(r,i.targetId),e.next=14,uw(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),rx.apply(this,arguments)}function ix(e,t,n){return ux.apply(this,arguments)}function ux(){return ux=Le(Fe().mark((function e(t,n,r){var i,u,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Kx(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Ap(e),u=Vp.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Ky());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var o=Ly(),s=Ky();return i.Gi.getEntries(e,a).next((function(e){(o=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,o)})).next((function(r){n=r;var a,o=[],s=Pe(t);try{for(s.s();!(a=s.n()).done;){var c=a.value,l=wy(c,n.get(c.key).overlayedDocument);null!=l&&o.push(new Ay(c.key,l,fm(l.value.mapValue),vy.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,u,o,t)})).next((function(t){r=t;var u=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,u)}))})).then((function(){return{batchId:r.batchId,changes:jy(n)}}))}(i.localStore,n);case 4:return u=e.sent,i.sharedClientState.addPendingMutation(u.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new xv(Mp)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,u.batchId,r),e.next=9,Ax(i,u.changes);case 9:return e.next=11,oE(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),a=SE(e.t0,"Failed to persist write"),r.reject(a);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),ux.apply(this,arguments)}function ax(e,t){return ox.apply(this,arguments)}function ox(){return ox=Le(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ap(t),e.prev=1,e.next=4,tw(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(xp(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?xp(n.ec):e.removedDocuments.size>0&&(xp(n.ec),n.ec=!1))})),e.next=8,Ax(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,uv(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),ox.apply(this,arguments)}function sx(e,t,n){var r=Ap(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ap(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,u=Pe(n.listeners);try{for(u.s();!(i=u.n()).done;){i.value.bu(t)&&(r=!0)}}catch(a){u.e(a)}finally{u.f()}})),r&&jE(n)}(r.eventManager,t),i.length&&r.nc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function cx(e,t,n){return lx.apply(this,arguments)}function lx(){return lx=Le(Fe().mark((function e(t,n,r){var i,u,a,o,s,c;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Ap(t)).sharedClientState.updateQueryState(n,"rejected",r),u=i.uc.get(n),!(a=u&&u.key)){e.next=14;break}return o=(o=new xv(Wp.comparator)).insert(a,hm.newNoDocument(a,qp.min())),s=Ky().add(a),c=new Yy(qp.min(),new Map,new Cv(Mp),o,s),e.next=9,ax(i,c);case 9:i.oc=i.oc.remove(a),i.uc.delete(n),xx(i),e.next=16;break;case 14:return e.next=16,uw(i.localStore,n,!1).then((function(){return kx(i,n,r)})).catch(uv);case 16:case"end":return e.stop()}}),e)}))),lx.apply(this,arguments)}function fx(e,t){return hx.apply(this,arguments)}function hx(){return hx=Le(Fe().mark((function e(t,n){var r,i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ap(t),i=n.batch.batchId,e.prev=1,e.next=4,Zb(r.localStore,n);case 4:return u=e.sent,gx(r,i,null),yx(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Ax(r,u);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,uv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),hx.apply(this,arguments)}function dx(e,t,n){return px.apply(this,arguments)}function px(){return px=Le(Fe().mark((function e(t,n,r){var i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ap(t),e.prev=1,e.next=4,function(e,t){var n=Ap(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return xp(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return u=e.sent,gx(i,n,r),yx(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Ax(i,u);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,uv(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),px.apply(this,arguments)}function vx(e,t){return mx.apply(this,arguments)}function mx(){return mx=Le(Fe().mark((function e(t,n){var r,i,u,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $w((r=Ap(t)).remoteStore)||gp("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Ap(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(u=r.hc.get(i)||[]).push(n),r.hc.set(i,u),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),a=SE(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(a);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),mx.apply(this,arguments)}function yx(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function gx(e,t,n){var r=Ap(e),i=r.ac[r.currentUser.toKey()];if(i){var u=i.get(t);u&&(n?u.reject(n):u.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function kx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Pe(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var u=r.value;e.sc.delete(u),n&&e.nc._c(u,n)}}catch(a){i.e(a)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.ls(t).forEach((function(t){e.cc.containsKey(t)||bx(e,t)}))}function bx(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(Gw(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),xx(e))}function wx(e,t,n){var r,i=Pe(n);try{for(i.s();!(r=i.n()).done;){var u=r.value;u instanceof KE?(e.cc.addReference(u.key,t),Ex(e,u)):u instanceof WE?(gp("SyncEngine","Document no longer in limbo: "+u.key),e.cc.removeReference(u.key,t),e.cc.containsKey(u.key)||bx(e,u.key)):Ep()}}catch(a){i.e(a)}finally{i.f()}}function Ex(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(gp("SyncEngine","New document in limbo: "+n),e.rc.add(r),xx(e))}function xx(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new Wp(Hp.fromString(t)),r=e.lc.next();e.uc.set(r,new $E(n)),e.oc=e.oc.insert(n,r),Hw(e.remoteStore,new pk(zm(Lm(n.path)),r,2,kv.at))}}function Ax(e,t,n){return _x.apply(this,arguments)}function _x(){return _x=Le(Fe().mark((function e(t,n,r){var i,u,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ap(t),u=[],a=[],o=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){o.push(i.dc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),u.push(e);var n=Wb.Ci(t.targetId,e);a.push(n)}})))})),e.next=6,Promise.all(o);case 6:return i.nc.Wo(u),e.next=9,function(){var e=Le(Fe().mark((function e(t,n){var r,i,u,a,o,s,c,l;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ap(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ov.forEach(n,(function(t){return ov.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ov.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),hv(e.t0)){e.next=10;break}throw e.t0;case 10:gp("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Pe(n);try{for(i.s();!(u=i.n()).done;)a=u.value,o=a.targetId,a.fromCache||(s=r.Ui.get(o),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ui=r.Ui.insert(o,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,a);case 9:case"end":return e.stop()}}),e)}))),_x.apply(this,arguments)}function Cx(e,t){return Ix.apply(this,arguments)}function Ix(){return Ix=Le(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ap(t)).currentUser.isEqual(n)){e.next=11;break}return gp("SyncEngine","User change. New user:",n.toKey()),e.next=5,Xb(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new Cp(_p.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Ax(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),Ix.apply(this,arguments)}function Sx(e,t){var n=Ap(e),r=n.uc.get(t);if(r&&r.ec)return Ky().add(r.key);var i=Ky(),u=n.ic.get(t);if(!u)return i;var a,o=Pe(u);try{for(o.s();!(a=o.n()).done;){var s=a.value,c=n.sc.get(s);i=i.unionWith(c.view.Qu)}}catch(l){o.e(l)}finally{o.f()}return i}function Tx(e,t){return Dx.apply(this,arguments)}function Dx(){return Dx=Le(Fe().mark((function e(t,n){var r,i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ap(t),e.next=3,ow(r.localStore,n.query,!0);case 3:return i=e.sent,u=n.view.Zu(i),e.abrupt("return",(r.isPrimaryClient&&wx(r,n.targetId,u.Yu),u));case 6:case"end":return e.stop()}}),e)}))),Dx.apply(this,arguments)}function Fx(e,t){return Nx.apply(this,arguments)}function Nx(){return Nx=Le(Fe().mark((function e(t,n){var r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ap(t),e.abrupt("return",cw(r.localStore,n).then((function(e){return Ax(r,e)})));case 2:case"end":return e.stop()}}),e)}))),Nx.apply(this,arguments)}function Rx(e,t,n,r){return Ox.apply(this,arguments)}function Ox(){return Ox=Le(Fe().mark((function e(t,n,r,i){var u,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=Ap(t),e.next=3,function(e,t){var n=Ap(e),r=Ap(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Tn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):ov.resolve(null)}))}))}(u.localStore,n);case 3:if(null===(a=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,oE(u.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(gx(u,n,i||null),yx(u,n),function(e,t){Ap(Ap(e).mutationQueue).An(t)}(u.localStore,n)):Ep();case 11:return e.next=13,Ax(u,a);case 13:e.next=16;break;case 15:gp("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),Ox.apply(this,arguments)}function Px(e,t){return Bx.apply(this,arguments)}function Bx(){return Bx=Le(Fe().mark((function e(t,n){var r,i,u,a,o,s,c,l;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Gx(r=Ap(t)),Kx(r),!0!==n||!0===r.fc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Lx(r,i.toArray());case 5:return u=e.sent,r.fc=!0,e.next=9,xE(r.remoteStore,!0);case 9:a=Pe(u);try{for(a.s();!(o=a.n()).done;)s=o.value,Hw(r.remoteStore,s)}catch(f){a.e(f)}finally{a.f()}e.next=25;break;case 13:if(!1!==n||!1===r.fc){e.next=25;break}return c=[],l=Promise.resolve(),r.ic.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return kx(r,t),uw(r.localStore,t,!0)})),Gw(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,Lx(r,c);case 21:return function(e){var t=Ap(e);t.uc.forEach((function(e,n){Gw(t.remoteStore,n)})),t.cc.fs(),t.uc=new Map,t.oc=new xv(Wp.comparator)}(r),r.fc=!1,e.next=25,xE(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),Bx.apply(this,arguments)}function Lx(e,t,n){return Mx.apply(this,arguments)}function Mx(){return Mx=Le(Fe().mark((function e(t,n,r){var i,u,a,o,s,c,l,f,h,d,p,v,m,y;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Ap(t),u=[],a=[],o=Pe(n),e.prev=2,o.s();case 4:if((s=o.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ic.get(c))||0===f.length){e.next=34;break}return e.next=11,iw(i.localStore,zm(f[0]));case 11:l=e.sent,h=Pe(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.sc.get(p),e.next=20,Tx(i,v);case 20:(m=e.sent).snapshot&&a.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,sw(i.localStore,c);case 36:return y=e.sent,e.next=39,iw(i.localStore,y);case 39:return l=e.sent,e.next=42,ex(i,Ux(y),c,!1);case 42:u.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),o.e(e.t1);case 50:return e.prev=50,o.f(),e.finish(50);case 53:return e.abrupt("return",(i.nc.Wo(a),u));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),Mx.apply(this,arguments)}function Ux(e){return Bm(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function jx(e){var t=Ap(e);return Ap(Ap(t.localStore).persistence).vi()}function Vx(e,t,n,r){return qx.apply(this,arguments)}function qx(){return qx=Le(Fe().mark((function e(t,n,r,i){var u,a,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u=Ap(t)).fc){e.next=3;break}return e.abrupt("return",void gp("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((a=u.ic.get(n))&&a.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,cw(u.localStore,Ym(a[0]));case 10:return o=e.sent,s=Yy.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,Ax(u,o,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,uw(u.localStore,n,!0);case 17:return kx(u,n,i),e.abrupt("break",20);case 19:Ep();case 20:case"end":return e.stop()}}),e)}))),qx.apply(this,arguments)}function zx(e,t,n){return Hx.apply(this,arguments)}function Hx(){return Hx=Le(Fe().mark((function e(t,n,r){var i,u,a,o,s,c,l,f,h;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Gx(t)).fc){e.next=45;break}u=Pe(n),e.prev=3,u.s();case 5:if((a=u.n()).done){e.next=21;break}if(o=a.value,!i.ic.has(o)){e.next=10;break}return gp("SyncEngine","Adding an already active target "+o),e.abrupt("continue",19);case 10:return e.next=12,sw(i.localStore,o);case 12:return s=e.sent,e.next=15,iw(i.localStore,s);case 15:return c=e.sent,e.next=18,ex(i,Ux(s),c.targetId,!1);case 18:Hw(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),u.e(e.t0);case 26:return e.prev=26,u.f(),e.finish(26);case 29:l=Pe(r),e.prev=30,h=Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ic.has(t),!e.t0){e.next=5;break}return e.next=5,uw(i.localStore,t,!1).then((function(){Gw(i.remoteStore,t),kx(i,t)})).catch(uv);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Hx.apply(this,arguments)}function Gx(e){var t=Ap(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ax.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cx.bind(null,t),t.nc.Wo=ME.bind(null,t.eventManager),t.nc._c=UE.bind(null,t.eventManager),t}function Kx(e){var t=Ap(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dx.bind(null,t),t}function Wx(e,t,n){var r=Ap(e);(function(){var e=Le(Fe().mark((function e(t,n,r){var i,u,a,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Ap(e),r=lg(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ns.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(GE(i)),u=new HE(i,t.localStore,n.It),e.next=15,n.wc();case 15:a=e.sent;case 16:if(!a){e.next=26;break}return e.next=19,u.Ou(a);case 19:return(o=e.sent)&&r._updateProgress(o),e.next=23,n.wc();case 23:a=e.sent;case 24:e.next=16;break;case 26:return e.next=28,u.complete();case 28:return s=e.sent,e.next=31,Ax(t,s.Bu,void 0);case 31:return e.next=33,function(e,t){var n=Ap(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ns.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.$u));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(bp("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Qx=function(){function e(){l(this,e),this.synchronizeTabs=!1}return h(e,[{key:"initialize",value:function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=Nw(t.databaseInfo.databaseId),this.sharedClientState=this.mc(t),this.persistence=this.gc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.yc(t),this.gcScheduler=this.Ic(t,this.localStore),this.indexBackfillerScheduler=this.Tc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e,t){return null}},{key:"Tc",value:function(e,t){return null}},{key:"yc",value:function(e){return $b(this.persistence,new Qb,e.initialUser,this.It)}},{key:"gc",value:function(e){return new Lb(Ub.Bs,this.It)}},{key:"mc",value:function(e){return new Aw}},{key:"terminate",value:function(){var e=Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Yx=function(e){p(n,e);var t=b(n);function n(e,r,i){var u;return l(this,n),(u=t.call(this)).Ec=e,u.cacheSizeBytes=r,u.forceOwnership=i,u.synchronizeTabs=!1,u}return h(n,[{key:"initialize",value:function(){var e=Le(Fe().mark((function e(t){var r=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gn(v(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ec.initialize(this,t);case 4:return e.next=6,Kx(this.Ec.syncEngine);case 6:return e.next=8,oE(this.Ec.remoteStore);case 8:return e.next=10,this.persistence.li((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"yc",value:function(e){return $b(this.persistence,new Qb,e.initialUser,this.It)}},{key:"Ic",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new pb(n,e.asyncQueue,t)}},{key:"Tc",value:function(e,t){var n=new gv(t,this.persistence);return new yv(e.asyncQueue,n)}},{key:"gc",value:function(e){var t=Kb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Zk.withCacheSize(this.cacheSizeBytes):Zk.DEFAULT;return new zb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Dw(),Fw(),this.It,this.sharedClientState,!!this.forceOwnership)}},{key:"mc",value:function(e){return new Aw}}]),n}(Qx),$x=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r,!1)).Ec=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return h(n,[{key:"initialize",value:function(){var e=Le(Fe().mark((function e(t){var r,i=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gn(v(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ec.syncEngine,e.t0=this.sharedClientState instanceof xw,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Fr:Rx.bind(null,r),$r:Vx.bind(null,r),Br:zx.bind(null,r),vi:jx.bind(null,r),Or:Fx.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.li(function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Px(i.Ec.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e){var t=Dw();if(!xw.C(t))throw new Cp(_p.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Kb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new xw(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Yx),Xx=function(){function e(){l(this,e)}return h(e,[{key:"initialize",value:function(){var e=Le(Fe().mark((function e(t,n){var r=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return sx(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Cx.bind(null,this.syncEngine),e.next=12,xE(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new RE}},{key:"createDatastore",value:function(e){var t,n=Nw(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Tw(t));return function(e,t,n,r){return new Lw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,u,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return sx(a.syncEngine,e,0)},u=Cw.C()?new Cw:new _w,new Uw(t,n,r,i,u)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,u,a){var o=new XE(e,t,n,r,i,u);return a&&(o.fc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Le(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ap(t),gp("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,qw(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Jx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Le(Fe().mark((function r(){var i;return Fe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Zx=function(){function e(t){l(this,e),this.observer=t,this.muted=!1}return h(e,[{key:"next",value:function(e){this.observer.next&&this.Ac(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ac(this.observer.error,e):kp("Uncaught Error in snapshot listener:",e)}},{key:"Rc",value:function(){this.muted=!0}},{key:"Ac",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),eA=function(){function e(t,n){var r=this;l(this,e),this.bc=t,this.It=n,this.metadata=new Ip,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then((function(e){e&&e.ku()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return h(e,[{key:"close",value:function(){return this.bc.cancel()}},{key:"getMetadata",value:function(){var e=Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wc",value:function(){var e=Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.vc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=Le(Fe().mark((function e(){var t,n,r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Vc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Pc.decode(t),r=Number(n),isNaN(r)&&this.Sc("length string (".concat(n,") is not valid number")),e.next=9,this.Dc(r);case 9:return i=e.sent,e.abrupt("return",new qE(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Vc",value:function(){var e=Le(Fe().mark((function e(){var t,n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Cc()<0)){e.next=7;break}return e.next=3,this.xc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Cc())<0&&this.Sc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(){var e=Le(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.xc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Sc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Pc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Sc",value:function(e){throw this.bc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"xc",value:function(){var e=Le(Fe().mark((function e(){var t,n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),tA=function(){function e(t){l(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return h(e,[{key:"lookup",value:function(){var e=Le(Fe().mark((function e(t){var n,r=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Cp(_p.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Le(Fe().mark((function e(t,n){var r,i,u,a,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ap(t),i=yg(r.It)+"/documents",u={documents:n.map((function(e){return dg(r.It,e)}))},e.next=5,r.fo("BatchGetDocuments",i,u,n.length);case 5:return a=e.sent,o=new Map,a.forEach((function(e){var t=wg(r.It,e);o.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=o.get(e.toString());xp(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Dy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Le(Fe().mark((function e(){var t,n=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Wp.fromPath(t);n.mutations.push(new Fy(r,n.precondition(r)))})),e.next=7,function(){var e=Le(Fe().mark((function e(t,n){var r,i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ap(t),i=yg(r.It)+"/documents",u={writes:n.map((function(e){return Eg(r.It,e)}))},e.next=3,r.co("Commit",i,u);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Ep();t=qp.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Cp(_p.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(qp.min())?vy.exists(!1):vy.updateTime(t):vy.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(qp.min()))throw new Cp(_p.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vy.updateTime(t)}return vy.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),nA=function(){function e(t,n,r,i,u){l(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=u,this.Nc=r.maxAttempts,this.xo=new Rw(this.asyncQueue,"transaction_retry")}return h(e,[{key:"run",value:function(){this.Nc-=1,this.kc()}},{key:"kc",value:function(){var e=this;this.xo.Ao(Le(Fe().mark((function t(){var n,r;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new tA(e.datastore),(r=e.Mc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Oc(t)}))}))})).catch((function(t){e.Oc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Mc",value:function(e){try{var t=this.updateFunction(e);return!jv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Oc",value:function(e){var t=this;this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget((function(){return t.kc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Fc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Ry(t)}return!1}}]),e}(),rA=function(){function e(t,n,r,i){var u=this;l(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pp.UNAUTHENTICATED,this.clientId=Lp.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gp("FirestoreClient","Received user=",t.uid),e.next=3,u.authCredentialListener(t);case 3:u.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return gp("FirestoreClient","Received new app check token=",e),u.appCheckCredentialListener(e,u.user)}))}return h(e,[{key:"getConfiguration",value:function(){var e=Le(Fe().mark((function e(){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Cp(_p.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Ip;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Le(Fe().mark((function n(){var r;return Fe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=SE(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function iA(e,t){return uA.apply(this,arguments)}function uA(){return uA=Le(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),gp("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Xb(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),uA.apply(this,arguments)}function aA(e,t){return oA.apply(this,arguments)}function oA(){return oA=Le(Fe().mark((function e(t,n){var r,i;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,sA(t);case 3:return r=e.sent,gp("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return wE(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return wE(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),oA.apply(this,arguments)}function sA(e){return cA.apply(this,arguments)}function cA(){return cA=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return gp("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,iA(t,new Qx);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),cA.apply(this,arguments)}function lA(e){return fA.apply(this,arguments)}function fA(){return fA=Le(Fe().mark((function e(t){return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return gp("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,aA(t,new Xx);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),fA.apply(this,arguments)}function hA(e){return sA(e).then((function(e){return e.persistence}))}function dA(e){return sA(e).then((function(e){return e.localStore}))}function pA(e){return lA(e).then((function(e){return e.remoteStore}))}function vA(e){return lA(e).then((function(e){return e.syncEngine}))}function mA(e){return yA.apply(this,arguments)}function yA(){return yA=Le(Fe().mark((function e(t){var n,r;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lA(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=JE.bind(null,n.syncEngine),r.onUnlisten=nx.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),yA.apply(this,arguments)}function gA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ip;return e.asyncQueue.enqueueAndForget(Le(Fe().mark((function i(){return Fe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var u=new Zx({next:function(u){t.enqueueAndForget((function(){return BE(e,a)}));var o=u.docs.has(n);!o&&u.fromCache?i.reject(new Cp(_p.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&u.fromCache&&r&&"server"===r.source?i.reject(new Cp(_p.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(u)},error:function(e){return i.reject(e)}}),a=new VE(Lm(n.path),u,{includeMetadataChanges:!0,Nu:!0});return OE(e,a)},i.next=3,mA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function kA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Ip;return e.asyncQueue.enqueueAndForget(Le(Fe().mark((function i(){return Fe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var u=new Zx({next:function(n){t.enqueueAndForget((function(){return BE(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Cp(_p.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new VE(n,u,{includeMetadataChanges:!0,Nu:!0});return OE(e,a)},i.next=3,mA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var bA=new Map;function wA(e,t,n){if(!n)throw new Cp(_p.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function EA(e,t,n,r){if(!0===t&&!0===r)throw new Cp(_p.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function xA(e){if(!Wp.isDocumentKey(e))throw new Cp(_p.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function AA(e){if(Wp.isDocumentKey(e))throw new Cp(_p.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function _A(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Ep()}function CA(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Cp(_p.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=_A(e);throw new Cp(_p.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function IA(e,t){if(t<=0)throw new Cp(_p.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var SA=function(){function e(t){var n;if(l(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Cp(_p.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Cp(_p.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,EA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return h(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),TA=function(){function e(t,n,r,i){l(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SA({}),this._settingsFrozen=!1}return h(e,[{key:"app",get:function(){if(!this._app)throw new Cp(_p.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Cp(_p.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SA(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Tp;switch(e.type){case"gapi":var t=e.client;return new Rp(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Cp(_p.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=bA.get(e);t&&(gp("ComponentProvider","Removing Datastore"),bA.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function DA(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=(e=CA(e,TA))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==t&&bp("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},u),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var a,o;if("string"==typeof i.mockUserToken)a=i.mockUserToken,o=pp.MOCK_USER;else{a=Je(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Cp(_p.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");o=new pp(s)}e._authCredentials=new Dp(new Sp(a,o))}}var FA=function(){function e(t,n,r){l(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return h(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new RA(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),NA=function(){function e(t,n,r){l(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return h(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),RA=function(e){p(n,e);var t=b(n);function n(e,r,i){var u;return l(this,n),(u=t.call(this,e,r,Lm(i)))._path=i,u.type="collection",u}return h(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new FA(this.firestore,null,new Wp(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(NA);function OA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=gt(e),wA("collection","path",t),e instanceof TA){var u=Hp.fromString.apply(Hp,[t].concat(r));return AA(u),new RA(e,null,u)}if(!(e instanceof FA||e instanceof RA))throw new Cp(_p.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child(Hp.fromString.apply(Hp,[t].concat(r)));return AA(a),new RA(e.firestore,null,a)}function PA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=gt(e),1===arguments.length&&(t=Lp.R()),wA("doc","path",t),e instanceof TA){var u=Hp.fromString.apply(Hp,[t].concat(r));return xA(u),new FA(e,null,new Wp(u))}if(!(e instanceof FA||e instanceof RA))throw new Cp(_p.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var a=e._path.child(Hp.fromString.apply(Hp,[t].concat(r)));return xA(a),new FA(e.firestore,e instanceof RA?e.converter:null,new Wp(a))}function BA(e,t){return e=gt(e),t=gt(t),(e instanceof FA||e instanceof RA)&&(t instanceof FA||t instanceof RA)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function LA(e,t){return e=gt(e),t=gt(t),e instanceof NA&&t instanceof NA&&e.firestore===t.firestore&&Gm(e._query,t._query)&&e.converter===t.converter}var MA=function(){function e(){var t=this;l(this,e),this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Rw(this,"async_queue_retry"),this.jc=function(){var e=Fw();e&&gp("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.bo()};var n=Fw();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.jc)}return h(e,[{key:"isShuttingDown",get:function(){return this.Lc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Wc(),this.zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;var t=Fw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Wc(),this.Lc)return new Promise((function(){}));var n=new Ip;return this.zc((function(){return t.Lc&&t.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Bc.push(e),t.Hc()}))}},{key:"Hc",value:function(){var e=Le(Fe().mark((function e(){var t=this;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Bc.length){e.next=14;break}return e.prev=1,e.next=4,this.Bc[0]();case 4:this.Bc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),hv(e.t0)){e.next=12;break}throw e.t0;case 12:gp("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Bc.length>0&&this.xo.Ao((function(){return t.Hc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"zc",value:function(e){var t=this,n=this.$c.then((function(){return t.Kc=!0,e().catch((function(e){t.qc=e,t.Kc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw kp("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Kc=!1,e}))}));return this.$c=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);var i=IE.createAndSchedule(this,e,t,n,(function(e){return r.Jc(e)}));return this.Uc.push(i),i}},{key:"Wc",value:function(){this.qc&&Ep()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Yc",value:function(){var e=Le(Fe().mark((function e(){var t;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$c,e.next=3,t;case 3:if(t!==this.$c){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Xc",value:function(e){var t,n=Pe(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Zc",value:function(e){var t=this;return this.Yc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Pe(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(u){r.e(u)}finally{r.f()}return t.Yc()}))}},{key:"ta",value:function(e){this.Qc.push(e)}},{key:"Jc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();function UA(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Pe(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var u=n.value;if(u in r&&"function"==typeof r[u])return!0}}catch(a){i.e(a)}finally{i.f()}return!1}(e)}var jA=function(){function e(){l(this,e),this._progressObserver={},this._taskCompletionResolver=new Ip,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return h(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),VA=function(e){p(n,e);var t=b(n);function n(e,r,i,u){var a;return l(this,n),(a=t.call(this,e,r,i,u)).type="firestore",a._queue=new MA,a._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]",a}return h(n,[{key:"_terminate",value:function(){return this._firestoreClient||zA(this),this._firestoreClient.terminate()}}]),n}(TA);function qA(e){return e._firestoreClient||zA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function zA(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Mv(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new rA(e._authCredentials,e._appCheckCredentials,e._queue,r)}function HA(e,t,n){var r=new Ip;return e.asyncQueue.enqueue(Le(Fe().mark((function i(){var u;return Fe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,iA(e,n);case 3:return i.next=5,aA(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===_p.FAILED_PRECONDITION||e.code===_p.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(u=i.t0)){i.next=13;break}throw u;case 13:bp("Error enabling offline persistence. Falling back to persistence disabled: "+u),r.reject(u);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function GA(e){return function(e){return e.asyncQueue.enqueue(Le(Fe().mark((function t(){var n,r;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hA(e);case 2:return n=t.sent,t.next=5,pA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Ap(e);return t._u.delete(0),jw(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(qA(e=CA(e,VA)))}function KA(e){return function(e){return e.asyncQueue.enqueue(Le(Fe().mark((function t(){var n,r;return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hA(e);case 2:return n=t.sent,t.next=5,pA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Le(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ap(t))._u.add(0),e.next=4,qw(n);case 4:n.gu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(qA(e=CA(e,VA)))}function WA(e,t){var n=qA(e=CA(e,VA)),r=new jA;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new eA(e,t)}(function(e,t){if(e instanceof Uint8Array)return Jx(e,t);if(e instanceof ArrayBuffer)return Jx(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Nw(t));e.asyncQueue.enqueueAndForget(Le(Fe().mark((function t(){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Wx,t.next=3,vA(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function QA(e,t){return function(e,t){return e.asyncQueue.enqueue(Le(Fe().mark((function n(){return Fe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Ap(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ns.getNamedQuery(e,t)}))},n.next=3,dA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(qA(e=CA(e,VA)),t).then((function(t){return t?new NA(e,null,t.query):null}))}function YA(e){if(e._initialized||e._terminated)throw new Cp(_p.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var $A=function(){function e(){l(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Cp(_p.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kp(n)}return h(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var XA=function(){function e(t){l(this,e),this._byteString=t}return h(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Dv.fromBase64String(t))}catch(t){throw new Cp(_p.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Dv.fromUint8Array(t))}}]),e}(),JA=h((function e(t){l(this,e),this._methodName=t})),ZA=function(){function e(t,n){if(l(this,e),!isFinite(t)||t<-90||t>90)throw new Cp(_p.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Cp(_p.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return h(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Mp(this._lat,e._lat)||Mp(this._long,e._long)}}]),e}(),e_=/^__.*__$/,t_=function(){function e(t,n,r){l(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return h(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Ay(e,this.data,this.fieldMask,t,this.fieldTransforms):new xy(e,this.data,t,this.fieldTransforms)}}]),e}(),n_=function(){function e(t,n,r){l(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return h(e,[{key:"toMutation",value:function(e,t){return new Ay(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function r_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ep()}}var i_=function(){function e(t,n,r,i,u,a){l(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===u&&this.ea(),this.fieldTransforms=u||[],this.fieldMask=a||[]}return h(e,[{key:"path",get:function(){return this.settings.path}},{key:"na",get:function(){return this.settings.na}},{key:"sa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.oa(e),r}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.ea(),r}},{key:"ca",value:function(e){return this.sa({path:void 0,ra:!0})}},{key:"aa",value:function(e){return A_(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ea",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.oa(this.path.get(e))}},{key:"oa",value:function(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(r_(this.na)&&e_.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}]),e}(),u_=function(){function e(t,n,r){l(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||Nw(t)}return h(e,[{key:"fa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new i_({na:e,methodName:t,la:n,path:Kp.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function a_(e){var t=e._freezeSettings(),n=Nw(e._databaseId);return new u_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function o_(e,t,n,r,i){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=e.fa(u.merge||u.mergeFields?2:0,t,n,i);b_("Data must be an object, but it was:",a,r);var o,s,c=g_(r,a);if(u.merge)o=new Tv(a.fieldMask),s=a.fieldTransforms;else if(u.mergeFields){var l,f=[],h=Pe(u.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=w_(t,d,n);if(!a.contains(p))throw new Cp(_p.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));__(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}o=new Tv(f),s=a.fieldTransforms.filter((function(e){return o.covers(e.field)}))}else o=null,s=a.fieldTransforms;return new t_(new lm(c),o,s)}var s_=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.na)throw 1===e.na?e.aa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.aa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(JA);function c_(e,t,n){return new i_({na:3,la:t.settings.la,methodName:e._methodName,ra:n},t.databaseId,t.It,t.ignoreUndefinedProperties)}var l_=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"_toFieldTransform",value:function(e){return new dy(e.path,new uy)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(JA),f_=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e)).da=r,i}return h(n,[{key:"_toFieldTransform",value:function(e){var t=c_(this,e,!0),n=this.da.map((function(e){return y_(e,t)})),r=new ay(n);return new dy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(JA),h_=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e)).da=r,i}return h(n,[{key:"_toFieldTransform",value:function(e){var t=c_(this,e,!0),n=this.da.map((function(e){return y_(e,t)})),r=new sy(n);return new dy(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(JA),d_=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e))._a=r,i}return h(n,[{key:"_toFieldTransform",value:function(e){var t=new ly(e.It,ey(e.It,this._a));return new dy(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(JA);function p_(e,t,n,r){var i=e.fa(1,t,n);b_("Data must be an object, but it was:",i,r);var u=[],a=lm.empty();wv(r,(function(e,r){var o=x_(t,e,n);r=gt(r);var s=i.ua(o);if(r instanceof s_)u.push(o);else{var c=y_(r,s);null!=c&&(u.push(o),a.set(o,c))}}));var o=new Tv(u);return new n_(a,o,i.fieldTransforms)}function v_(e,t,n,r,i,u){var a=e.fa(1,t,n),o=[w_(t,r,n)],s=[i];if(u.length%2!=0)throw new Cp(_p.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<u.length;c+=2)o.push(w_(t,u[c])),s.push(u[c+1]);for(var l=[],f=lm.empty(),h=o.length-1;h>=0;--h)if(!__(l,o[h])){var d=o[h],p=s[h];p=gt(p);var v=a.ua(d);if(p instanceof s_)l.push(d);else{var m=y_(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Tv(l);return new n_(f,y,a.fieldTransforms)}function m_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return y_(n,e.fa(r?4:3,t))}function y_(e,t){if(k_(e=gt(e)))return b_("Unsupported field value:",t,e),g_(e,t);if(e instanceof JA)return function(e,t){if(!r_(t.na))throw t.aa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.aa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,u=Pe(e);try{for(u.s();!(n=u.n()).done;){var a=y_(n.value,t.ca(i));null==a&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}}catch(o){u.e(o)}finally{u.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=gt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ey(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Vp.fromDate(e);return{timestampValue:og(t.It,n)}}if(e instanceof Vp){var r=new Vp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:og(t.It,r)}}if(e instanceof ZA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof XA)return{bytesValue:sg(t.It,e._byteString)};if(e instanceof FA){var i=t.databaseId,u=e.firestore._databaseId;if(!u.isEqual(i))throw t.aa("Document reference is for database ".concat(u.projectId,"/").concat(u.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:fg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.aa("Unsupported field value: ".concat(_A(e)))}(e,t)}function g_(e,t){var n={};return Ev(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wv(e,(function(e,r){var i=y_(r,t.ia(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function k_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Vp||e instanceof ZA||e instanceof XA||e instanceof FA||e instanceof JA)}function b_(e,t,n){if(!k_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=_A(n);throw"an object"===r?t.aa(e+" a custom object"):t.aa(e+" "+r)}}function w_(e,t,n){if((t=gt(t))instanceof $A)return t._internalPath;if("string"==typeof t)return x_(e,t);throw A_("Field path arguments must be of type string or ",e,!1,void 0,n)}var E_=new RegExp("[~\\*/\\[\\]]");function x_(e,t,n){if(t.search(E_)>=0)throw A_("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return A($A,c(t.split(".")))._internalPath}catch(r){throw A_("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function A_(e,t,n,r,i){var u=r&&!r.isEmpty(),a=void 0!==i,o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";var s="";return(u||a)&&(s+=" (found",u&&(s+=" in field ".concat(r)),a&&(s+=" in document ".concat(i)),s+=")"),new Cp(_p.INVALID_ARGUMENT,o+e+s)}function __(e,t){return e.some((function(e){return e.isEqual(t)}))}var C_=function(){function e(t,n,r,i,u){l(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=u}return h(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new FA(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new I_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(S_("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),I_=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(){return Gn(v(n.prototype),"data",this).call(this)}}]),n}(C_);function S_(e,t){return"string"==typeof t?x_(e,t):t instanceof $A?t._internalPath:t._delegate._internalPath}var T_=function(){function e(t,n){l(this,e),this.hasPendingWrites=t,this.fromCache=n}return h(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),D_=function(e){p(n,e);var t=b(n);function n(e,r,i,u,a,o){var s;return l(this,n),(s=t.call(this,e,r,i,u,o))._firestore=e,s._firestoreImpl=e,s.metadata=a,s}return h(n,[{key:"exists",value:function(){return Gn(v(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new F_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(S_("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(C_),F_=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Gn(v(n.prototype),"data",this).call(this,e)}}]),n}(D_),N_=function(){function e(t,n,r,i){l(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new T_(i.hasPendingWrites,i.fromCache),this.query=r}return h(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new F_(n._firestore,n._userDataWriter,r.key,r,new T_(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Cp(_p.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new F_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new T_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new F_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new T_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,u=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(u=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:R_(t.type),doc:n,oldIndex:i,newIndex:u}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function R_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ep()}}function O_(e,t){return e instanceof D_&&t instanceof D_?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof N_&&t instanceof N_&&e._firestore===t._firestore&&LA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function P_(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Cp(_p.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var B_=h((function e(){l(this,e)}));function L_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,u=n;i<u.length;i++){var a=u[i];e=a._apply(e)}return e}var M_=function(e){p(n,e);var t=b(n);function n(e,r,i){var u;return l(this,n),(u=t.call(this)).wa=e,u.ma=r,u.ga=i,u.type="where",u}return h(n,[{key:"_apply",value:function(e){var t=a_(e.firestore),n=function(e,t,n,r,i,u,a){var o;if(i.isKeyField()){if("array-contains"===u||"array-contains-any"===u)throw new Cp(_p.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(u,"' queries on documentId()."));if("in"===u||"not-in"===u){Y_(a,u);var s,c=[],l=Pe(a);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Q_(r,e,f))}}catch(d){l.e(d)}finally{l.f()}o={arrayValue:{values:c}}}else o=Q_(r,e,a)}else"in"!==u&&"not-in"!==u&&"array-contains-any"!==u||Y_(a,u),o=m_(n,"where",a,"in"===u||"not-in"===u);var h=wm.create(i,u,o);return function(e,t){if(t.dt()){var n=jm(e);if(null!==n&&!n.isEqual(t.field))throw new Cp(_p.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Um(e);null!==r&&$_(e,t.field,r)}var i=function(e,t){var n,r=Pe(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Cp(_p.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Cp(_p.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new NA(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Pm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(B_);var U_=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).wa=e,i.ya=r,i.type="orderBy",i}return h(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Cp(_p.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Cp(_p.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Fm(t,n);return function(e,t){if(null===Um(e)){var n=jm(e);null!==n&&$_(e,n,t.field)}}(e,r),r}(e._query,this.wa,this.ya);return new NA(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Pm(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(B_);var j_=function(e){p(n,e);var t=b(n);function n(e,r,i){var u;return l(this,n),(u=t.call(this)).type=e,u.pa=r,u.Ia=i,u}return h(n,[{key:"_apply",value:function(e){return new NA(e.firestore,e.converter,Hm(e._query,this.pa,this.Ia))}}]),n}(B_);var V_=function(e){p(n,e);var t=b(n);function n(e,r,i){var u;return l(this,n),(u=t.call(this)).type=e,u.Ta=r,u.Ea=i,u}return h(n,[{key:"_apply",value:function(e){var t=W_(e,this.type,this.Ta,this.Ea);return new NA(e.firestore,e.converter,function(e,t){return new Pm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(B_);function q_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new V_("startAt",t,!0)}function z_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new V_("startAfter",t,!1)}var H_=function(e){p(n,e);var t=b(n);function n(e,r,i){var u;return l(this,n),(u=t.call(this)).type=e,u.Ta=r,u.Ea=i,u}return h(n,[{key:"_apply",value:function(e){var t=W_(e,this.type,this.Ta,this.Ea);return new NA(e.firestore,e.converter,function(e,t){return new Pm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(B_);function G_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new H_("endBefore",t,!1)}function K_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new H_("endAt",t,!0)}function W_(e,t,n,r){if(n[0]=gt(n[0]),n[0]instanceof C_)return function(e,t,n,r,i){if(!r)throw new Cp(_p.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var u,a=[],o=Pe(qm(e));try{for(o.s();!(u=o.n()).done;){var s=u.value;if(s.field.isKeyField())a.push(Jv(t,r.key));else{var c=r.data.field(s.field);if(Pv(c))throw new Cp(_p.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Cp(_p.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}a.push(c)}}}catch(f){o.e(f)}finally{o.f()}return new Dm(a,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=a_(e.firestore);return function(e,t,n,r,i,u){var a=e.explicitOrderBy;if(i.length>a.length)throw new Cp(_p.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var o=[],s=0;s<i.length;s++){var c=i[s];if(a[s].field.isKeyField()){if("string"!=typeof c)throw new Cp(_p.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Vm(e)&&-1!==c.indexOf("/"))throw new Cp(_p.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Hp.fromString(c));if(!Wp.isDocumentKey(l))throw new Cp(_p.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Wp(l);o.push(Jv(t,f))}else{var h=m_(n,r,c);o.push(h)}}return new Dm(o,u)}(e._query,e.firestore._databaseId,i,t,n,r)}function Q_(e,t,n){if("string"==typeof(n=gt(n))){if(""===n)throw new Cp(_p.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vm(t)&&-1!==n.indexOf("/"))throw new Cp(_p.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Hp.fromString(n));if(!Wp.isDocumentKey(r))throw new Cp(_p.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Jv(e,new Wp(r))}if(n instanceof FA)return Jv(e,n._key);throw new Cp(_p.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(_A(n),"."))}function Y_(e,t){if(!Array.isArray(e)||0===e.length)throw new Cp(_p.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Cp(_p.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function $_(e,t,n){if(!n.isEqual(t))throw new Cp(_p.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var X_={maxAttempts:5},J_=function(){function e(){l(this,e)}return h(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Gv(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rv(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ov(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ep()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return wv(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new ZA(Rv(e.latitude),Rv(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Bv(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Lv(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Nv(e);return new Vp(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Hp.fromString(e);xp(Pg(n));var r=new Uv(n.get(1),n.get(3)),i=new Wp(n.popFirst(5));return r.isEqual(t)||kp("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Z_(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var eC=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return h(n,[{key:"convertBytes",value:function(e){return new XA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new FA(this.firestore,null,t)}}]),n}(J_),tC=function(){function e(t,n){l(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=a_(t)}return h(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=nC(e,this._firestore),i=Z_(r.converter,t,n),u=o_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(u.toMutation(r._key,vy.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=nC(e,this._firestore),u=arguments.length,a=new Array(u>3?u-3:0),o=3;o<u;o++)a[o-3]=arguments[o];return r="string"==typeof(t=gt(t))||t instanceof $A?v_(this._dataReader,"WriteBatch.update",i._key,t,n,a):p_(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,vy.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=nC(e,this._firestore);return this._mutations=this._mutations.concat(new Dy(t._key,vy.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Cp(_p.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function nC(e,t){if((e=gt(e)).firestore!==t)throw new Cp(_p.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var rC=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return h(n,[{key:"convertBytes",value:function(e){return new XA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new FA(this.firestore,null,t)}}]),n}(J_);function iC(e){e=CA(e,FA);var t=CA(e.firestore,VA),n=qA(t),r=new rC(t);return function(e,t){var n=new Ip;return e.asyncQueue.enqueueAndForget(Le(Fe().mark((function r(){return Fe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Le(Fe().mark((function e(t,n,r){var i,u;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Ap(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Cp(_p.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),u=SE(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(u);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,dA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new D_(t,r,e._key,n,new T_(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function uC(e){e=CA(e,NA);var t=CA(e.firestore,VA),n=qA(t),r=new rC(t);return function(e,t){var n=new Ip;return e.asyncQueue.enqueueAndForget(Le(Fe().mark((function r(){return Fe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Le(Fe().mark((function e(t,n,r){var i,u,a,o,s;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ow(t,n,!0);case 3:i=e.sent,u=new QE(n,i.Hi),a=u.ju(i.documents),o=u.applyChanges(a,!1),r.resolve(o.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=SE(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,dA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new N_(t,r,e,n)}))}function aC(e,t,n){e=CA(e,FA);var r=CA(e.firestore,VA),i=Z_(e.converter,t,n);return lC(r,[o_(a_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,vy.none())])}function oC(e,t,n){e=CA(e,FA);for(var r=CA(e.firestore,VA),i=a_(r),u=arguments.length,a=new Array(u>3?u-3:0),o=3;o<u;o++)a[o-3]=arguments[o];return lC(r,[("string"==typeof(t=gt(t))||t instanceof $A?v_(i,"updateDoc",e._key,t,n,a):p_(i,"updateDoc",e._key,t)).toMutation(e._key,vy.exists(!0))])}function sC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,u,a;e=gt(e);var o={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||UA(n[s])||(o=n[s],s++);var c,l,f,h={includeMetadataChanges:o.includeMetadataChanges};if(UA(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(u=d.error)||void 0===u?void 0:u.bind(d),n[s+2]=null===(a=d.complete)||void 0===a?void 0:a.bind(d)}if(e instanceof FA)l=CA(e.firestore,VA),f=Lm(e._key.path),c={next:function(t){n[s]&&n[s](fC(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=CA(e,NA);l=CA(p.firestore,VA),f=p._query;var v=new rC(l);c={next:function(e){n[s]&&n[s](new N_(l,v,p,e))},error:n[s+1],complete:n[s+2]},P_(e._query)}return function(e,t,n,r){var i=new Zx(r),u=new VE(t,i,n);return e.asyncQueue.enqueueAndForget(Le(Fe().mark((function t(){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=OE,t.next=3,mA(e);case 3:return t.t1=t.sent,t.t2=u,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Rc(),e.asyncQueue.enqueueAndForget(Le(Fe().mark((function t(){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=BE,t.next=3,mA(e);case 3:return t.t1=t.sent,t.t2=u,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(qA(l),f,h,c)}function cC(e,t){return function(e,t){var n=new Zx(t);return e.asyncQueue.enqueueAndForget(Le(Fe().mark((function t(){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ap(e).Ru.add(t),t.next()},t.next=3,mA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Rc(),e.asyncQueue.enqueueAndForget(Le(Fe().mark((function t(){return Fe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ap(e).Ru.delete(t)},t.next=3,mA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(qA(e=CA(e,VA)),UA(t)?t:{next:t})}function lC(e,t){return function(e,t){var n=new Ip;return e.asyncQueue.enqueueAndForget(Le(Fe().mark((function r(){return Fe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=ix,r.next=3,vA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(qA(e),t)}function fC(e,t,n){var r=n.docs.get(t._key),i=new rC(e);return new D_(e,i,t._key,r,new T_(n.hasPendingWrites,n.fromCache),t.converter)}var hC=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r))._firestore=e,i}return h(n,[{key:"get",value:function(e){var t=this,r=nC(e,this._firestore),i=new rC(this._firestore);return Gn(v(n.prototype),"get",this).call(this,e).then((function(e){return new D_(t._firestore,i,r._key,e._document,new T_(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){l(this,e),this._firestore=t,this._transaction=n,this._dataReader=a_(t)}return h(e,[{key:"get",value:function(e){var t=this,n=nC(e,this._firestore),r=new eC(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Ep();var i=e[0];if(i.isFoundDocument())return new C_(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new C_(t._firestore,r,n._key,null,n.converter);throw Ep()}))}},{key:"set",value:function(e,t,n){var r=nC(e,this._firestore),i=Z_(r.converter,t,n),u=o_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,u),this}},{key:"update",value:function(e,t,n){for(var r,i=nC(e,this._firestore),u=arguments.length,a=new Array(u>3?u-3:0),o=3;o<u;o++)a[o-3]=arguments[o];return r="string"==typeof(t=gt(t))||t instanceof $A?v_(this._dataReader,"Transaction.update",i._key,t,n,a):p_(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=nC(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function dC(e,t,n){e=CA(e,VA);var r=Object.assign(Object.assign({},X_),n);return function(e){if(e.maxAttempts<1)throw new Cp(_p.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new Ip;return e.asyncQueue.enqueueAndForget(Le(Fe().mark((function i(){var u;return Fe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return lA(e).then((function(e){return e.datastore}))}(e);case 2:u=i.sent,new nA(e.asyncQueue,u,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(qA(e),(function(n){return t(new hC(e,n))}),r)}function pC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new f_("arrayUnion",t)}function vC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new h_("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){vp=e}(dn),an(new kt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,u=e.getProvider("app").getImmediate(),a=new VA(new Fp(e.getProvider("auth-internal")),new Pp(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Cp(_p.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uv(e.options.projectId,t)}(u,r),u);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),kn(dp,"3.5.0",e),kn(dp,"3.5.0","esm2017")}();function mC(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Cp("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function yC(){if("undefined"===typeof Uint8Array)throw new Cp("unimplemented","Uint8Arrays are not available in this environment.")}function gC(){if("undefined"==typeof atob)throw new Cp("unimplemented","Blobs are unavailable in Firestore in this environment.")}var kC=function(){function e(t){l(this,e),this._delegate=t}return h(e,[{key:"toBase64",value:function(){return gC(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return yC(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return gC(),new e(XA.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return yC(),new e(XA.fromUint8Array(t))}}]),e}();function bC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Pe(t);try{for(i.s();!(n=i.n()).done;){var u=n.value;if(u in r&&"function"===typeof r[u])return!0}}catch(a){i.e(a)}finally{i.f()}return!1}(e,["next","error","complete"])}var wC=function(){function e(){l(this,e)}return h(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){YA(e=CA(e,VA));var n=qA(e),r=e._freezeSettings(),i=new Xx;return HA(n,i,new Yx(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){YA(e=CA(e,VA));var t=qA(e),n=e._freezeSettings(),r=new Xx;return HA(t,r,new $x(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Cp(_p.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Ip;return e._queue.enqueueAndForgetEvenWhileRestricted(Le(Fe().mark((function n(){return Fe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Le(Fe().mark((function e(t){var n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cv.C()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,cv.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(Kb(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),EC=function(){function e(t,n,r){var i=this;l(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Uv||(this._appCompat=t)}return h(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||bp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};DA(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return GA(this._delegate)}},{key:"disableNetwork",value:function(){return KA(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&EA("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Ip;return e.asyncQueue.enqueueAndForget(Le(Fe().mark((function n(){return Fe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=vx,n.next=3,vA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(qA(e=CA(e,VA)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return cC(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Cp("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new BC(this,OA(this._delegate,e))}catch(t){throw SC(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new IC(this,PA(this._delegate,e))}catch(t){throw SC(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new RC(this,function(e,t){if(e=CA(e,TA),wA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Cp(_p.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new NA(e,null,function(e){return new Pm(Hp.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw SC(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return dC(this._delegate,(function(n){return e(new AC(t,n))}))}},{key:"batch",value:function(){var e=this;return qA(this._delegate),new _C(new tC(this._delegate,(function(t){return lC(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return WA(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return QA(this._delegate,e).then((function(e){return e?new RC(t,e):null}))}}]),e}(),xC=function(e){p(n,e);var t=b(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return h(n,[{key:"convertBytes",value:function(e){return new kC(new XA(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return IC.forKey(t,this.firestore,null)}}]),n}(J_);var AC=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new xC(t)}return h(e,[{key:"get",value:function(e){var t=this,n=LC(e);return this._delegate.get(n).then((function(e){return new FC(t._firestore,new D_(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=LC(e);return n?(mC("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),u=3;u<r;u++)i[u-3]=arguments[u];var a,o=LC(e);2===arguments.length?this._delegate.update(o,t):(a=this._delegate).update.apply(a,[o,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=LC(e);return this._delegate.delete(t),this}}]),e}(),_C=function(){function e(t){l(this,e),this._delegate=t}return h(e,[{key:"set",value:function(e,t,n){var r=LC(e);return n?(mC("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),u=3;u<r;u++)i[u-3]=arguments[u];var a,o=LC(e);2===arguments.length?this._delegate.update(o,t):(a=this._delegate).update.apply(a,[o,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=LC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),CC=function(){function e(t,n,r){l(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return h(e,[{key:"fromFirestore",value:function(e,t){var n=new F_(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new NC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var u=i.get(n);return u||(u=new e(t,new xC(t),n),i.set(n,u)),u}}]),e}();CC.INSTANCES=new WeakMap;var IC=function(){function e(t,n){l(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new xC(t)}return h(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new BC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new BC(this.firestore,OA(this._delegate,e))}catch(t){throw SC(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=gt(e))instanceof FA&&BA(this._delegate,e)}},{key:"set",value:function(e,t){t=mC("DocumentReference.set",t);try{return t?aC(this._delegate,e,t):aC(this._delegate,e)}catch(n){throw SC(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?oC(this._delegate,e):oC.apply(void 0,[this._delegate,e,t].concat(r))}catch(u){throw SC(u,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return lC(CA(e.firestore,VA),[new Dy(e._key,vy.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=TC(n),u=DC(n,(function(t){return new FC(e.firestore,new D_(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return sC(this._delegate,i,u)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?iC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=CA(e,FA);var t=CA(e.firestore,VA);return gA(qA(t),e._key,{source:"server"}).then((function(n){return fC(t,e,n)}))}(this._delegate):function(e){e=CA(e,FA);var t=CA(e.firestore,VA);return gA(qA(t),e._key).then((function(n){return fC(t,e,n)}))}(this._delegate),t.then((function(e){return new FC(n.firestore,new D_(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(CC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Cp("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new FA(n._delegate,r,new Wp(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new FA(n._delegate,r,t))}}]),e}();function SC(e,t,n){return e.message=e.message.replace(t,n),e}function TC(e){var t,n=Pe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!bC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function DC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=bC(e[0])?e[0]:bC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var FC=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return h(e,[{key:"ref",get:function(){return new IC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return O_(this._delegate,e._delegate)}}]),e}(),NC=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Ep()}(void 0!==t),t}}]),n}(FC),RC=function(){function e(t,n){l(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new xC(t)}return h(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,L_(this._delegate,function(e,t,n){var r=t,i=S_("where",e);return new M_(i,r,n)}(t,n,r)))}catch(i){throw SC(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,L_(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=S_("orderBy",e);return new U_(n,t)}(t,n)))}catch(r){throw SC(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,L_(this._delegate,function(e){return IA("limit",e),new j_("limit",e,"F")}(t)))}catch(n){throw SC(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,L_(this._delegate,function(e){return IA("limitToLast",e),new j_("limitToLast",e,"L")}(t)))}catch(n){throw SC(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,L_(this._delegate,q_.apply(void 0,arguments)))}catch(t){throw SC(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,L_(this._delegate,z_.apply(void 0,arguments)))}catch(t){throw SC(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,L_(this._delegate,G_.apply(void 0,arguments)))}catch(t){throw SC(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,L_(this._delegate,K_.apply(void 0,arguments)))}catch(t){throw SC(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return LA(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?uC(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=CA(e,NA);var t=CA(e.firestore,VA),n=qA(t),r=new rC(t);return kA(n,e._query,{source:"server"}).then((function(n){return new N_(t,r,e,n)}))}(this._delegate):function(e){e=CA(e,NA);var t=CA(e.firestore,VA),n=qA(t),r=new rC(t);return P_(e._query),kA(n,e._query).then((function(n){return new N_(t,r,e,n)}))}(this._delegate),t.then((function(e){return new PC(n.firestore,new N_(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=TC(n),u=DC(n,(function(t){return new PC(e.firestore,new N_(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return sC(this._delegate,i,u)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(CC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),OC=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return h(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new NC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),PC=function(){function e(t,n){l(this,e),this._firestore=t,this._delegate=n}return h(e,[{key:"query",get:function(){return new RC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new NC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new OC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new NC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return O_(this._delegate,e._delegate)}}]),e}(),BC=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return h(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new IC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new IC(this.firestore,void 0===e?PA(this._delegate):PA(this._delegate,e))}catch(t){throw SC(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=CA(e.firestore,VA),r=PA(e),i=Z_(e.converter,t);return lC(n,[o_(a_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,vy.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new IC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return BA(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(CC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(RC);function LC(e){return CA(e,FA)}var MC=function(){function e(){l(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=A($A,n)}return h(e,[{key:"isEqual",value:function(e){return(e=gt(e))instanceof $A&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Kp.keyField().canonicalString())}}]),e}(),UC=function(){function e(t){l(this,e),this._delegate=t}return h(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new l_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new s_("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=pC.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=vC.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new d_("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),jC={Firestore:EC,GeoPoint:ZA,Timestamp:Vp,Blob:kC,Transaction:AC,WriteBatch:_C,DocumentReference:IC,DocumentSnapshot:FC,Query:RC,QueryDocumentSnapshot:NC,QuerySnapshot:PC,CollectionReference:BC,FieldPath:MC,FieldValue:UC,setLogLevel:function(e){!function(e){mp.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new kt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},jC)))}(e,(function(e,t){return new EC(e,t,new wC)})),e.registerVersion("@firebase/firestore-compat","0.1.25")}(zn);var VC="firebasestorage.googleapis.com",qC=function(e){p(n,e);var t=b(n);function n(e,r){var i;return l(this,n),(i=t.call(this,zC(e),"Firebase Storage: ".concat(r," (").concat(zC(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(g(i),n.prototype),i}return h(n,[{key:"_codeEquals",value:function(e){return zC(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(ut);function zC(e){return"storage/"+e}function HC(){return new qC("unknown","An unknown error occurred, please check the error payload for server response.")}function GC(){return new qC("canceled","User canceled the upload/download.")}function KC(){return new qC("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function WC(e){return new qC("invalid-argument",e)}function QC(){return new qC("app-deleted","The Firebase app was deleted.")}function YC(e){return new qC("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $C(e,t){return new qC("invalid-format","String does not match format '"+e+"': "+t)}function XC(e){throw new qC("internal-error","Internal error: "+e)}var JC,ZC=function(){function e(t,n){l(this,e),this.bucket=t,this.path_=n}return h(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new qC("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var u=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var o=n.replace(/[.]/g,"\\."),s=[{regex:u,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://".concat(n===VC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new qC("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),eI=function(){function e(t){l(this,e),this.promise_=Promise.reject(t)}return h(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function tI(e){return"string"===typeof e||e instanceof String}function nI(e){return rI()&&e instanceof Blob}function rI(){return"undefined"!==typeof Blob}function iI(e,t,n,r){if(r<t)throw WC("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw WC("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function uI(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function aI(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(JC||(JC={}));var oI=function(){function e(t,n,r,i,u,a,o,s,c,f,h){var d=this;l(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=u,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return h(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,u=n.connection;if(n.wasSuccessCode)try{var a=e.callback_(u,u.getResponse());!function(e){return void 0!==e}(a)?r():r(a)}catch(s){i(s)}else if(null!==u){var o=HC();o.serverResponse=u.getErrorText(),e.errorCallback_?i(e.errorCallback_(u,o)):i(o)}else{if(n.canceled)i(e.appDelete_?QC():GC());else i(new qC("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new sI(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,u=null,a=!1,o=0;function s(){return 2===o}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(d,s())}),t)}function h(){u&&clearTimeout(u)}function d(e){if(c)h();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void l.call.apply(l,[null,e].concat(n));var u;if(s()||a)return h(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===o?(o=2,u=0):u=1e3*(r+Math.random()),f(u)}}var p=!1;function v(e){p||(p=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),f(0)):e||(o=1)))}return f(0),u=setTimeout((function(){a=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new sI(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===JC.NO_ERROR,u=r.getStatus();if(n&&!e.isRetryStatusCode_(u)){var a=-1!==e.successCodes_.indexOf(u);t(!0,new sI(a,r))}else{var o=r.getErrorCode()===JC.ABORT;t(!1,new sI(!1,null,o))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),sI=h((function e(t,n,r){l(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function cI(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function lI(){for(var e=cI(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,u=0;u<n.length;u++)i.append(n[u]);return i.getBlob()}if(rI())return new Blob(n);throw new qC("unsupported-environment","This browser doesn't seem to support creating Blobs")}var fI={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},hI=h((function e(t,n){l(this,e),this.data=t,this.contentType=n||null}));function dI(e,t){switch(e){case fI.RAW:return new hI(pI(t));case fI.BASE64:case fI.BASE64URL:return new hI(vI(e,t));case fI.DATA_URL:return new hI(function(e){var t=new mI(e);return t.base64?vI(fI.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw $C(fI.DATA_URL,"Malformed data URL.")}return pI(t)}(t.rest)}(t),new mI(t).contentType)}throw HC()}function pI(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function vI(e,t){switch(e){case fI.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw $C(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case fI.BASE64URL:var i=-1!==t.indexOf("+"),u=-1!==t.indexOf("/");if(i||u)throw $C(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(c){throw $C(e,"Invalid character found")}for(var o=new Uint8Array(a.length),s=0;s<a.length;s++)o[s]=a.charCodeAt(s);return o}var mI=h((function e(t){l(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw $C(fI.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var yI=function(){function e(t,n){l(this,e);var r=0,i="";nI(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return h(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(nI(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(rI()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(lI.apply(null,i))}var u=n.map((function(e){return tI(e)?dI(fI.RAW,e).data:e.data_})),a=0;u.forEach((function(e){a+=e.byteLength}));var o=new Uint8Array(a),s=0;return u.forEach((function(e){for(var t=0;t<e.length;t++)o[s++]=e[t]})),new e(o,!0)}}]),e}();function gI(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function kI(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function bI(e,t){return t}var wI=h((function e(t,n,r,i){l(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||bI})),EI=null;function xI(){if(EI)return EI;var e=[];e.push(new wI("bucket")),e.push(new wI("generation")),e.push(new wI("metageneration")),e.push(new wI("name","fullPath",!0));var t=new wI("name");t.xform=function(e,t){return function(e){return!tI(e)||e.length<2?e:kI(e)}(t)},e.push(t);var n=new wI("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new wI("timeCreated")),e.push(new wI("updated")),e.push(new wI("md5Hash",null,!0)),e.push(new wI("cacheControl",null,!0)),e.push(new wI("contentDisposition",null,!0)),e.push(new wI("contentEncoding",null,!0)),e.push(new wI("contentLanguage",null,!0)),e.push(new wI("contentType",null,!0)),e.push(new wI("metadata","customMetadata",!0)),EI=e}function AI(e,t,n){for(var r={type:"file"},i=n.length,u=0;u<i;u++){var a=n[u];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new ZC(n,r);return t._makeStorageReference(i)}})}(r,e),r}function _I(e,t,n){var r=gI(t);return null===r?null:AI(e,r,n)}function CI(e,t){for(var n={},r=t.length,i=0;i<r;i++){var u=t[i];u.writable&&(n[u.server]=e[u.local])}return JSON.stringify(n)}function II(e,t,n){var r=gI(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,u=Pe(n.prefixes);try{for(u.s();!(i=u.n()).done;){var a=i.value.replace(/\/$/,""),o=e._makeStorageReference(new ZC(t,a));r.prefixes.push(o)}}catch(h){u.e(h)}finally{u.f()}}if(n.items){var s,c=Pe(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new ZC(t,l.name));r.items.push(f)}}catch(h){c.e(h)}finally{c.f()}}return r}(e,t,r)}var SI=h((function e(t,n,r,i){l(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function TI(e){if(!e)throw HC()}function DI(e,t){return function(n,r){var i=_I(e,r,t);return TI(null!==i),i}}function FI(e,t){return function(n,r){var i=_I(e,r,t);return TI(null!==i),function(e,t,n,r){var i=gI(t);if(null===i)return null;if(!tI(i.downloadTokens))return null;var u=i.downloadTokens;if(0===u.length)return null;var a=encodeURIComponent;return u.split(",").map((function(t){var i=e.bucket,u=e.fullPath;return uI("/b/"+a(i)+"/o/"+a(u),n,r)+aI({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function NI(e){return function(t,n){var r,i,u;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new qC("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new qC("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(u=e.bucket,r=new qC("quota-exceeded","Quota for bucket '"+u+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new qC("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function RI(e){var t=NI(e);return function(n,r){var i,u=t(n,r);return 404===n.getStatus()&&(i=e.path,u=new qC("object-not-found","Object '"+i+"' does not exist.")),u.serverResponse=r.serverResponse,u}}function OI(e,t,n){var r=uI(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,u=new SI(r,"GET",DI(e,n),i);return u.errorHandler=RI(t),u}function PI(e,t,n,r,i){var u={};t.isRoot?u.prefix="":u.prefix=t.path+"/",n&&n.length>0&&(u.delimiter=n),r&&(u.pageToken=r),i&&(u.maxResults=i);var a=uI(t.bucketOnlyServerUrl(),e.host,e._protocol),o=e.maxOperationRetryTime,s=new SI(a,"GET",function(e,t){return function(n,r){var i=II(e,t,r);return TI(null!==i),i}}(e,t.bucket),o);return s.urlParams=u,s.errorHandler=NI(t),s}function BI(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function LI(e,t,n,r,i){var u=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};var o=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;var s=BI(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+CI(s,n)+"\r\n--"+o+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+o+"--",f=yI.getBlob(c,r,l);if(null===f)throw KC();var h={name:s.fullPath},d=uI(u,e.host,e._protocol),p=e.maxUploadRetryTime,v=new SI(d,"POST",DI(e,n),p);return v.urlParams=h,v.headers=a,v.body=f.uploadData(),v.errorHandler=NI(t),v}var MI=h((function e(t,n,r,i){l(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function UI(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){TI(!1)}return TI(!!n&&-1!==(t||["active"]).indexOf(n)),n}var jI=262144;function VI(e,t,n,r,i,u,a,o){var s=new MI(0,0);if(a?(s.current=a.current,s.total=a.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new qC("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,h);if(null===p)throw KC();var v=t.maxUploadRetryTime,m=new SI(n,"POST",(function(e,n){var i,a=UI(e,["active","final"]),o=s.current+l,c=r.size();return i="final"===a?DI(t,u)(e,n):null,new MI(o,c,"final"===a,i)}),v);return m.headers=d,m.body=p.uploadData(),m.progressCallback=o||null,m.errorHandler=NI(e),m}var qI={STATE_CHANGED:"state_changed"},zI={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function HI(e){switch(e){case"running":case"pausing":case"canceling":return zI.RUNNING;case"paused":return zI.PAUSED;case"success":return zI.SUCCESS;case"canceled":return zI.CANCELED;default:return zI.ERROR}}var GI=h((function e(t,n,r){l(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var u=t;this.next=u.next,this.error=u.error,this.complete=u.complete}}));function KI(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var WI=function(){function e(){var t=this;l(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=JC.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=JC.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=JC.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return h(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw XC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw XC("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw XC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw XC("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw XC("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),QI=function(e){p(n,e);var t=b(n);function n(){return l(this,n),t.apply(this,arguments)}return h(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(WI);function YI(){return new QI}var $I=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;l(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=xI(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return h(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=x(n,2),i=r[0],u=r[1];switch(t._state){case"running":e(i,u);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var u=t.bucketOnlyServerUrl(),a=BI(t,r,i),o={name:a.fullPath},s=uI(u,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=CI(a,n),f=e.maxUploadRetryTime,h=new SI(s,"POST",(function(e){var t;UI(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){TI(!1)}return TI(tI(t)),t}),f);return h.urlParams=o,h.headers=c,h.body=l,h.errorHandler=NI(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,YI,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,u=new SI(n,"POST",(function(e){var t=UI(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(u){TI(!1)}n||TI(!1);var i=Number(n);return TI(!isNaN(i)),new MI(i,r.size(),"final"===t)}),i);return u.headers={"X-Goog-Upload-Command":"query"},u.errorHandler=NI(t),u}(e._ref.storage,e._ref._location,t,e._blob),u=e._ref.storage._makeRequest(i,YI,n,r);e._request=u,u.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=jI*this._chunkMultiplier,n=new MI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,u){var a;try{a=VI(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var o=e._ref.storage._makeRequest(a,YI,i,u);e._request=o,o.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){jI*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=OI(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,YI,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=LI(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,YI,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=GC(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=HI(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,u=new GI(t||void 0,n||void 0,r||void 0);return this._addObserver(u),function(){i._removeObserver(u)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(HI(this._state)){case zI.SUCCESS:KI(this._resolve.bind(null,this.snapshot))();break;case zI.CANCELED:case zI.ERROR:KI(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(HI(this._state)){case zI.RUNNING:case zI.PAUSED:e.next&&KI(e.next.bind(e,this.snapshot))();break;case zI.SUCCESS:e.complete&&KI(e.complete.bind(e))();break;default:e.error&&KI(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),XI=function(){function e(t,n){l(this,e),this._service=t,this._location=n instanceof ZC?n:ZC.makeFromUrl(n,t.host)}return h(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new ZC(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return kI(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new ZC(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw YC(e)}}]),e}();function JI(e,t,n){return ZI.apply(this,arguments)}function ZI(){return(ZI=Le(Fe().mark((function e(t,n,r){var i,u,a,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={pageToken:r},e.next=3,eS(t,a);case 3:if(o=e.sent,(i=n.prefixes).push.apply(i,c(o.prefixes)),(u=n.items).push.apply(u,c(o.items)),null==o.nextPageToken){e.next=9;break}return e.next=9,JI(t,n,o.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function eS(e,t){null!=t&&"number"===typeof t.maxResults&&iI("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=PI(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,YI)}function tS(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=uI(t.fullServerUrl(),e.host,e._protocol),u=CI(n,r),a=e.maxOperationRetryTime,o=new SI(i,"PATCH",DI(e,r),a);return o.headers={"Content-Type":"application/json; charset=utf-8"},o.body=u,o.errorHandler=RI(t),o}(e.storage,e._location,t,xI());return e.storage.makeRequestWithTokens(n,YI)}function nS(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=uI(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,u=new SI(r,"GET",FI(e,n),i);return u.errorHandler=RI(t),u}(e.storage,e._location,xI());return e.storage.makeRequestWithTokens(t,YI).then((function(e){if(null===e)throw new qC("no-download-url","The given file does not have any download URLs.");return e}))}function rS(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=uI(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new SI(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=RI(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,YI)}function iS(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new ZC(e._location.bucket,n);return new XI(e.storage,r)}function uS(e,t){if(e instanceof cS){var n=e;if(null==n._bucket)throw new qC("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new XI(n,n._bucket);return null!=t?uS(r,t):r}return void 0!==t?iS(e,t):e}function aS(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof cS)return new XI(e,t);throw WC("To use ref(service, url), the first argument must be a Storage instance.")}return uS(e,t)}function oS(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:ZC.makeFromBucketSpec(n,e)}function sS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Je(i,e.app.options.projectId))}var cS=function(){function e(t,n,r,i,u){l(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=u,this._bucket=null,this._host=VC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ZC.makeFromBucketSpec(i,this._host):oS(this._host,this.app.options)}return h(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=ZC.makeFromBucketSpec(this._url,e):this._bucket=oS(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){iI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){iI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=Le(Fe().mark((function e(){var t,n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Le(Fe().mark((function e(){var t,n;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new XI(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new eI(QC());var u=function(e,t,n,r,i,u){var a=aI(e.urlParams),o=e.url+a,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,u),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new oI(o,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(u),u.getPromise().then((function(){return i._requests.delete(u)}),(function(){return i._requests.delete(u)})),u}},{key:"makeRequestWithTokens",value:function(){var e=Le(Fe().mark((function e(t,n){var r,i,u,a;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=x(r,2),u=i[0],a=i[1],e.abrupt("return",this._makeRequest(t,n,u,a).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),lS="@firebase/storage",fS="0.9.9",hS="storage";function dS(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new $I(e,new yI(t),n)}(e=gt(e),t,n)}function pS(e){return function(e){e._throwIfRoot("getMetadata");var t=OI(e.storage,e._location,xI());return e.storage.makeRequestWithTokens(t,YI)}(e=gt(e))}function vS(e){return function(e){var t={prefixes:[],items:[]};return JI(e,t).then((function(){return t}))}(e=gt(e))}function mS(e,t){return aS(e=gt(e),t)}function yS(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};sS(e,t,n,r)}function gS(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return new cS(r,i,u,n,dn)}an(new kt(hS,gS,"PUBLIC").setMultipleInstances(!0)),kn(lS,fS,""),kn(lS,fS,"esm2017");var kS=function(){function e(t,n,r){l(this,e),this._delegate=t,this.task=n,this.ref=r}return h(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),bS=function(){function e(t,n){l(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return h(e,[{key:"snapshot",get:function(){return new kS(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new kS(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,u=void 0;return t&&(u="function"===typeof t?function(e){return t(new kS(e,i,i._ref))}:{next:t.next?function(e){return t.next(new kS(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,n||void 0,r||void 0)}}]),e}(),wS=function(){function e(t,n){l(this,e),this._delegate=t,this._service=n}return h(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new ES(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new ES(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),ES=function(){function e(t,n){l(this,e),this._delegate=t,this.storage=n}return h(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return iS(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new bS(dS(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fI.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=dI(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new bS(new $I(this._delegate,new yI(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return vS(this._delegate).then((function(t){return new wS(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return eS(e=gt(e),t)}(this._delegate,e||void 0).then((function(e){return new wS(e,t.storage)}))}},{key:"getMetadata",value:function(){return pS(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return tS(e=gt(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return nS(gt(this._delegate))}},{key:"delete",value:function(){return this._throwIfRoot("delete"),rS(gt(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw YC(e)}}]),e}(),xS=function(){function e(t,n){l(this,e),this.app=t,this._delegate=n}return h(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if(AS(e))throw WC("ref() expected a child path but got a URL, use refFromURL instead.");return new ES(mS(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!AS(e))throw WC("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ZC.makeFromUrl(e,this._delegate.host)}catch(t){throw WC("refFromUrl() expected a valid full URL but got an invalid one.")}return new ES(mS(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};yS(this._delegate,e,t,n)}}]),e}();function AS(e){return/^[A-Za-z]+:\/\//.test(e)}function _S(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new xS(r,i)}!function(e){var t={TaskState:zI,TaskEvent:qI,StringFormat:fI,Storage:xS,Reference:ES};e.INTERNAL.registerComponent(new kt("storage-compat",_S,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.17")}(zn);zn.initializeApp({apiKey:"AIzaSyCHl-3DcEPcL6H8xHiGdRYhhxZ5JTcvJr4",authDomain:"hawbeez-web.firebaseapp.com",databaseURL:"https://hawbeez-web-default-rtdb.firebaseio.com",projectId:"hawbeez-web",storageBucket:"hawbeez-web.appspot.com",messagingSenderId:"392308100807",appId:"1:392308100807:web:475baf120d0169c1b038e2",measurementId:"G-S1VYPR6R69"});var CS=zn.auth(),IS=zn.firestore(),SS=zn.storage(),TS=n(184),DS=function(e){var t=e.user,n=e.totalProducts;return(0,TS.jsxs)("div",{className:"navbox",children:[(0,TS.jsx)("div",{className:"leftside",children:(0,TS.jsx)("div",{className:"logo",children:(0,TS.jsx)("img",{src:ze,alt:"logo"})})}),(0,TS.jsxs)("div",{className:"rightside",children:[!t&&(0,TS.jsxs)(TS.Fragment,{children:[(0,TS.jsx)("div",{children:(0,TS.jsx)(qe,{className:"navlink",to:"signup",children:"SIGN UP"})}),(0,TS.jsx)("div",{children:(0,TS.jsx)(qe,{className:"navlink",to:"login",children:"LOGIN"})})]}),t&&(0,TS.jsxs)(TS.Fragment,{children:[(0,TS.jsx)("div",{children:(0,TS.jsx)(qe,{className:"navlink",to:"/",children:t})}),(0,TS.jsxs)("div",{className:"cart-menu-btn",children:[(0,TS.jsx)(qe,{className:"navlink",to:"cart",children:(0,TS.jsx)(He.JO,{icon:Ge.L,size:20})}),(0,TS.jsx)("span",{className:"cart-indicator",children:n})]}),(0,TS.jsx)("div",{className:"logout-btn",onClick:function(){CS.signOut().then((function(){_e("/login")}))},children:"LOGOUT"})]})]})]})},FS=function(e){var t=e.individualProduct,n=e.addToCart;return(0,TS.jsxs)("div",{className:"product-card",children:[(0,TS.jsx)("div",{className:"product-img",children:(0,TS.jsx)("img",{src:t.url,alt:"product-img"})}),(0,TS.jsx)("div",{className:"product-name",children:t.title}),(0,TS.jsx)("div",{className:"product-description",children:t.description}),(0,TS.jsxs)("div",{className:"product-price",children:["$ ",t.price]}),(0,TS.jsx)("div",{className:"btn btn-danger btn-md addcart-btn",onClick:function(){n(t)},children:"ADD TO CART"})]})},NS=function(e){var t=e.products,n=e.addToCart;return null===t||void 0===t?void 0:t.map((function(e){return(0,TS.jsx)(FS,{individualProduct:e,addToCart:n},e.ID)}))},RS=function(e){var t=function(){var e=x((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){CS.onAuthStateChanged((function(e){e&&n(e.uid)}))}),[]),t}();var n=function(){var e=x((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){CS.onAuthStateChanged((function(e){e?IS.collection("users").doc(e.uid).get().then((function(e){n(e.data().FullName)})):n(null)}))}),[]),t}(),i=x((0,r.useState)([]),2),u=i[0],a=i[1],o=function(){var e=Le(Fe().mark((function e(){var t,n,r,i,u,o;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IS.collection("Products").get();case 2:t=e.sent,n=[],r=Pe(t.docs);try{for(r.s();!(i=r.n()).done;)u=i.value,(o=u.data()).ID=u.id,n.push(Oe({},o)),n.length===t.docs.length&&a(n)}catch(s){r.e(s)}finally{r.f()}case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){o()}),[]);var s,c=x((0,r.useState)(0),2),l=c[0],f=c[1];(0,r.useEffect)((function(){CS.onAuthStateChanged((function(e){e&&IS.collection("Cart "+e.uid).onSnapshot((function(e){var t=e.docs.length;f(t)}))}))}),[]);return(0,TS.jsxs)(TS.Fragment,{children:[(0,TS.jsx)(DS,{user:n,totalProducts:l}),(0,TS.jsx)("br",{}),u.length>0&&(0,TS.jsxs)("div",{className:"container-fluid",children:[(0,TS.jsx)("h1",{className:"text-center",children:"Products"}),(0,TS.jsx)("div",{className:"products-container",children:(0,TS.jsx)(NS,{products:u,addToCart:function(n){null!==t?((s=n).qty=1,s.TotalProductPrice=s.qty*s.price,IS.collection("Cart "+t).doc(n.ID).set(s).then((function(){console.log("successfully added to cart")}))):e.history.push("/login")}})})]}),u.length<1&&(0,TS.jsx)("div",{className:"container-fluid",children:"Please wait...."})]})},OS=function(){var e=x((0,r.useState)(""),2),t=e[0],n=e[1],i=x((0,r.useState)(""),2),u=i[0],a=i[1],o=x((0,r.useState)(""),2),s=o[0],c=o[1],l=x((0,r.useState)(""),2),f=l[0],h=l[1];return(0,TS.jsxs)("div",{className:"container",children:[(0,TS.jsx)("br",{}),(0,TS.jsx)("br",{}),(0,TS.jsx)("h1",{children:"Login"}),(0,TS.jsx)("hr",{}),f&&(0,TS.jsxs)(TS.Fragment,{children:[(0,TS.jsx)("div",{className:"success-msg",children:f}),(0,TS.jsx)("br",{})]}),(0,TS.jsxs)("form",{className:"form-group",autoComplete:"off",onSubmit:function(e){e.preventDefault(),CS.signInWithEmailAndPassword(t,u).then((function(){h("Login Successfull. You will now automatically get redirected to Home page"),n(""),a(""),c(""),setTimeout((function(){h(""),_e.push("/")}),3e3)})).catch((function(e){return c(e.message)}))},children:[(0,TS.jsx)("label",{children:"Email"}),(0,TS.jsx)("input",{type:"email",className:"form-control",required:!0,onChange:function(e){return n(e.target.value)},value:t}),(0,TS.jsx)("br",{}),(0,TS.jsx)("label",{children:"Password"}),(0,TS.jsx)("input",{type:"password",className:"form-control",required:!0,onChange:function(e){return a(e.target.value)},value:u}),(0,TS.jsx)("br",{}),(0,TS.jsxs)("div",{className:"btn-box",children:[(0,TS.jsxs)("span",{children:["Don't have an account SignUp",(0,TS.jsx)(qe,{to:"signup",className:"link",children:" Here"})]}),(0,TS.jsx)("button",{type:"submit",className:"btn btn-success btn-md",children:"LOGIN"})]})]}),s&&(0,TS.jsxs)(TS.Fragment,{children:[(0,TS.jsx)("br",{}),(0,TS.jsx)("div",{className:"error-msg",children:s})]})]})},PS=function(){var e=x((0,r.useState)(""),2),t=e[0],n=e[1],i=x((0,r.useState)(""),2),u=i[0],a=i[1],o=x((0,r.useState)(""),2),s=o[0],c=o[1],l=x((0,r.useState)(""),2),f=l[0],h=l[1],d=x((0,r.useState)(""),2),p=d[0],v=d[1];return(0,TS.jsxs)("div",{className:"container",children:[(0,TS.jsx)("br",{}),(0,TS.jsx)("br",{}),(0,TS.jsx)("h1",{children:"Sign Up"}),(0,TS.jsx)("hr",{}),p&&(0,TS.jsxs)(TS.Fragment,{children:[(0,TS.jsx)("div",{className:"success-msg",children:p}),(0,TS.jsx)("br",{})]}),(0,TS.jsxs)("form",{className:"form-group",autoComplete:"off",onSubmit:function(e){e.preventDefault(),CS.createUserWithEmailAndPassword(u,s).then((function(e){console.log(e),IS.collection("users").doc(e.user.uid).set({FullName:t,Email:u,Password:s}).then((function(){v("Signup Successfull. You will now automatically get redirected to Login"),n(""),a(""),c(""),h(""),setTimeout((function(){v(""),_e("/login")}),3e3)})).catch((function(e){return h(e.message)}))})).catch((function(e){h(e.message)}))},children:[(0,TS.jsx)("label",{children:"Full Name"}),(0,TS.jsx)("input",{type:"text",className:"form-control",required:!0,onChange:function(e){return n(e.target.value)},value:t}),(0,TS.jsx)("br",{}),(0,TS.jsx)("label",{children:"Email"}),(0,TS.jsx)("input",{type:"email",className:"form-control",required:!0,onChange:function(e){return a(e.target.value)},value:u}),(0,TS.jsx)("br",{}),(0,TS.jsx)("label",{children:"Password"}),(0,TS.jsx)("input",{type:"password",className:"form-control",required:!0,onChange:function(e){return c(e.target.value)},value:s}),(0,TS.jsx)("br",{}),(0,TS.jsxs)("div",{className:"btn-box",children:[(0,TS.jsxs)("span",{children:["Already have an account Login",(0,TS.jsx)(qe,{to:"login",className:"link",children:" Here"})]}),(0,TS.jsx)("button",{type:"submit",className:"btn btn-success btn-md",children:"SIGN UP"})]})]}),f&&(0,TS.jsxs)(TS.Fragment,{children:[(0,TS.jsx)("br",{}),(0,TS.jsx)("div",{className:"error-msg",children:f})]})]})},BS=function(){return(0,TS.jsx)("div",{className:"container-fluid",children:"Error 404 Not found"})},LS=function(){var e=x((0,r.useState)(""),2),t=e[0],n=e[1],i=x((0,r.useState)(""),2),u=i[0],a=i[1],o=x((0,r.useState)(""),2),s=o[0],c=o[1],l=x((0,r.useState)(null),2),f=l[0],h=l[1],d=x((0,r.useState)(""),2),p=d[0],v=d[1],m=x((0,r.useState)(""),2),y=m[0],g=m[1],k=x((0,r.useState)(""),2),b=k[0],w=k[1],E=["image/jpg","image/jpeg","image/png","image/PNG"];return(0,TS.jsxs)("div",{className:"container",children:[(0,TS.jsx)("br",{}),(0,TS.jsx)("br",{}),(0,TS.jsx)("h1",{children:"Add Products"}),(0,TS.jsx)("hr",{}),y&&(0,TS.jsxs)(TS.Fragment,{children:[(0,TS.jsx)("div",{className:"success-msg",children:y}),(0,TS.jsx)("br",{})]}),(0,TS.jsxs)("form",{autoComplete:"off",className:"form-group",onSubmit:function(e){e.preventDefault(),SS.ref("product-images/".concat(f.name)).put(f).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;console.log(t)}),(function(e){return w(e.message)}),(function(){SS.ref("product-images").child(f.name).getDownloadURL().then((function(e){IS.collection("Products").add({title:t,description:u,price:Number(s),url:e}).then((function(){g("Product added successfully"),n(""),a(""),c(""),document.getElementById("file").value="",v(""),w(""),setTimeout((function(){g("")}),3e3)})).catch((function(e){return w(e.message)}))}))}))},children:[(0,TS.jsx)("label",{children:"Product Title"}),(0,TS.jsx)("input",{type:"text",className:"form-control",required:!0,onChange:function(e){return n(e.target.value)},value:t}),(0,TS.jsx)("br",{}),(0,TS.jsx)("label",{children:"Product Description"}),(0,TS.jsx)("input",{type:"text",className:"form-control",required:!0,onChange:function(e){return a(e.target.value)},value:u}),(0,TS.jsx)("br",{}),(0,TS.jsx)("label",{children:"Product Price"}),(0,TS.jsx)("input",{type:"number",className:"form-control",required:!0,onChange:function(e){return c(e.target.value)},value:s}),(0,TS.jsx)("br",{}),(0,TS.jsx)("label",{children:"Upload Product Image"}),(0,TS.jsx)("input",{type:"file",id:"file",className:"form-control",required:!0,onChange:function(e){var t=e.target.files[0];t?t&&E.includes(t.type)?(h(t),v("")):(h(null),v("please select a valid image file type (png or jpg)")):console.log("please select your file")}}),p&&(0,TS.jsxs)(TS.Fragment,{children:[(0,TS.jsx)("br",{}),(0,TS.jsx)("div",{className:"error-msg",children:p})]}),(0,TS.jsx)("br",{}),(0,TS.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,TS.jsx)("button",{type:"submit",className:"btn btn-success btn-md",children:"SUBMIT"})})]}),b&&(0,TS.jsxs)(TS.Fragment,{children:[(0,TS.jsx)("br",{}),(0,TS.jsx)("div",{className:"error-msg",children:b})]})]})},MS=n(2929),US=n(2299),jS=function(e){var t=e.cartProduct,n=e.cartProductIncrease,r=e.cartProductDecrease;return(0,TS.jsxs)("div",{className:"cart-card",children:[(0,TS.jsx)("div",{className:"cart-img",children:(0,TS.jsx)("img",{src:t.url,alt:"product-img"})}),(0,TS.jsx)("div",{className:"cart-name",children:t.title}),(0,TS.jsx)("div",{className:"product-text description",children:t.description}),(0,TS.jsxs)("div",{className:"cart-price",children:["$ ",t.price]}),(0,TS.jsx)("span",{className:"qty-title",children:"Quantity"}),(0,TS.jsxs)("div",{className:"quantity-box",children:[(0,TS.jsx)("div",{className:"inc",onClick:function(){n(t)},children:(0,TS.jsx)(He.JO,{icon:MS.P,size:20})}),(0,TS.jsx)("div",{children:t.qty}),(0,TS.jsx)("div",{className:"dec",onClick:function(){r(t)},children:(0,TS.jsx)(He.JO,{icon:US.h,size:20})})]}),(0,TS.jsxs)("div",{className:"cart-price-orignal",children:["$ ",t.TotalProductPrice]}),(0,TS.jsx)("div",{className:"btn btn-danger btn-md cart-btn",onClick:function(){CS.onAuthStateChanged((function(e){e&&IS.collection("Cart "+e.uid).doc(t.ID).delete().then((function(){console.log("successfully deleted")}))}))},children:"DELETE"})]})},VS=function(e){var t=e.cartProducts,n=e.cartProductIncrease,r=e.cartProductDecrease;return null===t||void 0===t?void 0:t.map((function(e){return(0,TS.jsx)(jS,{cartProduct:e,cartProductIncrease:n,cartProductDecrease:r},e.ID)}))},qS=n(3878),zS=n(4569),HS=n.n(zS);function GS(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=GS(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var KS=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=GS(e))&&(r&&(r+=" "),r+=t);return r},WS=n(4164);function QS(){return QS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QS.apply(this,arguments)}function YS(e,t){if(null==e)return{};var n,r,i={},u=Object.keys(e);for(r=0;r<u.length;r++)n=u[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function $S(e){return"number"===typeof e&&!isNaN(e)}function XS(e){return"boolean"===typeof e}function JS(e){return"string"===typeof e}function ZS(e){return"function"===typeof e}function eT(e){return JS(e)||ZS(e)?e:null}function tT(e){return 0===e||e}var nT=!("undefined"===typeof window||!window.document||!window.document.createElement);function rT(e){return(0,r.isValidElement)(e)||JS(e)||ZS(e)||$S(e)}var iT={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},uT={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function aT(e){var t=e.enter,n=e.exit,i=e.appendPosition,u=void 0!==i&&i,a=e.collapse,o=void 0===a||a,s=e.collapseDuration,c=void 0===s?300:s;return function(e){var i=e.children,a=e.position,s=e.preventExitTransition,l=e.done,f=e.nodeRef,h=e.isIn,d=u?t+"--"+a:t,p=u?n+"--"+a:n,v=(0,r.useRef)(),m=(0,r.useRef)(0);function y(e){if(e.target===f.current){var t=f.current;t.removeEventListener("animationend",y),0===m.current&&(t.className=v.current)}}function g(){var e=f.current;e.removeEventListener("animationend",g),o?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,l,c):l()}return(0,r.useLayoutEffect)((function(){!function(){var e=f.current;v.current=e.className,e.className+=" "+d,e.addEventListener("animationend",y)}()}),[]),(0,r.useEffect)((function(){h||(s?g():function(){m.current=1;var e=f.current;e.className+=" "+p,e.addEventListener("animationend",g)}())}),[h]),r.createElement(r.Fragment,null,i)}}var oT={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.list.has(e)&&this.list.get(e).forEach((function(n){var i=setTimeout((function(){n.apply(void 0,r)}),0);t.emitQueue.has(e)||t.emitQueue.set(e,[]),t.emitQueue.get(e).push(i)}))}};function sT(e,t){void 0===t&&(t=!1);var n=(0,r.useRef)(e);return(0,r.useEffect)((function(){t&&(n.current=e)})),n.current}function cT(e,t){switch(t.type){case 0:return[].concat(e,[t.toastId]).filter((function(e){return e!==t.staleId}));case 1:return tT(t.toastId)?e.filter((function(e){return e!==t.toastId})):[]}}var lT=["delay","staleId"];function fT(e){var t=(0,r.useReducer)((function(e){return e+1}),0),n=t[1],i=(0,r.useReducer)(cT,[]),u=i[0],a=i[1],o=(0,r.useRef)(null),s=sT(0),c=sT([]),l=sT({}),f=sT({toastKey:1,displayedToast:0,props:e,containerId:null,isToastActive:h,getToast:function(e){return l[e]||null}});function h(e){return-1!==u.indexOf(e)}function d(e){var t=e.containerId;!f.props.limit||t&&f.containerId!==t||(s-=c.length,c=[])}function p(e){a({type:1,toastId:e})}function v(){var e=c.shift();y(e.toastContent,e.toastProps,e.staleId)}function m(e,t){var i=t.delay,u=t.staleId,a=YS(t,lT);if(rT(e)&&!function(e){var t=e.containerId,n=e.toastId,r=e.updateId;return!!(!o.current||f.props.enableMultiContainer&&t!==f.props.containerId||l[n]&&null==r)}(a)){var h=a.toastId,d=a.updateId,m=a.data,g=f.props,k=function(){return p(h)},b=null==a.updateId;b&&s++;var w,E,x={toastId:h,updateId:d,isLoading:a.isLoading,theme:a.theme||g.theme,icon:a.icon||g.icon,isIn:!1,key:a.key||f.toastKey++,type:a.type,closeToast:k,closeButton:a.closeButton,rtl:g.rtl,position:a.position||g.position,transition:a.transition||g.transition,className:eT(a.className||g.toastClassName),bodyClassName:eT(a.bodyClassName||g.bodyClassName),style:a.style||g.toastStyle,bodyStyle:a.bodyStyle||g.bodyStyle,onClick:a.onClick||g.onClick,pauseOnHover:XS(a.pauseOnHover)?a.pauseOnHover:g.pauseOnHover,pauseOnFocusLoss:XS(a.pauseOnFocusLoss)?a.pauseOnFocusLoss:g.pauseOnFocusLoss,draggable:XS(a.draggable)?a.draggable:g.draggable,draggablePercent:$S(a.draggablePercent)?a.draggablePercent:g.draggablePercent,draggableDirection:a.draggableDirection||g.draggableDirection,closeOnClick:XS(a.closeOnClick)?a.closeOnClick:g.closeOnClick,progressClassName:eT(a.progressClassName||g.progressClassName),progressStyle:a.progressStyle||g.progressStyle,autoClose:!a.isLoading&&(w=a.autoClose,E=g.autoClose,!1===w||$S(w)&&w>0?w:E),hideProgressBar:XS(a.hideProgressBar)?a.hideProgressBar:g.hideProgressBar,progress:a.progress,role:JS(a.role)?a.role:g.role,deleteToast:function(){!function(e){delete l[e];var t=c.length;(s=tT(e)?s-1:s-f.displayedToast)<0&&(s=0);if(t>0){var r=tT(e)?1:f.props.limit;if(1===t||1===r)f.displayedToast++,v();else{var i=r>t?t:r;f.displayedToast=i;for(var u=0;u<i;u++)v()}}else n()}(h)}};ZS(a.onOpen)&&(x.onOpen=a.onOpen),ZS(a.onClose)&&(x.onClose=a.onClose),"y"===x.draggableDirection&&80===x.draggablePercent&&(x.draggablePercent*=1.5);var A=g.closeButton;!1===a.closeButton||rT(a.closeButton)?A=a.closeButton:!0===a.closeButton&&(A=!rT(g.closeButton)||g.closeButton),x.closeButton=A;var _=e;(0,r.isValidElement)(e)&&!JS(e.type)?_=(0,r.cloneElement)(e,{closeToast:k,toastProps:x,data:m}):ZS(e)&&(_=e({closeToast:k,toastProps:x,data:m})),g.limit&&g.limit>0&&s>g.limit&&b?c.push({toastContent:_,toastProps:x,staleId:u}):$S(i)&&i>0?setTimeout((function(){y(_,x,u)}),i):y(_,x,u)}}function y(e,t,n){var r=t.toastId;n&&delete l[n],l[r]={content:e,props:t},a({type:0,toastId:r,staleId:n})}return(0,r.useEffect)((function(){return f.containerId=e.containerId,oT.cancelEmit(3).on(0,m).on(1,(function(e){return o.current&&p(e)})).on(5,d).emit(2,f),function(){return oT.emit(3,f)}}),[]),(0,r.useEffect)((function(){f.isToastActive=h,f.displayedToast=u.length,oT.emit(4,u.length,e.containerId)}),[u]),(0,r.useEffect)((function(){f.props=e})),{getToastToRender:function(t){for(var n={},r=e.newestOnTop?Object.keys(l).reverse():Object.keys(l),i=0;i<r.length;i++){var u=l[r[i]],a=u.props.position;n[a]||(n[a]=[]),n[a].push(u)}return Object.keys(n).map((function(e){return t(e,n[e])}))},collection:l,containerRef:o,isToastActive:h}}function hT(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function dT(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function pT(e){var t=(0,r.useState)(!0),n=t[0],i=t[1],u=(0,r.useState)(!1),a=u[0],o=u[1],s=(0,r.useRef)(null),c=sT({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null}),l=sT(e,!0),f=e.autoClose,h=e.pauseOnHover,d=e.closeToast,p=e.onClick,v=e.closeOnClick;function m(t){if(e.draggable){var n=s.current;c.canCloseOnClick=!0,c.canDrag=!0,c.boundingRect=n.getBoundingClientRect(),n.style.transition="",c.x=hT(t.nativeEvent),c.y=dT(t.nativeEvent),"x"===e.draggableDirection?(c.start=c.x,c.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(c.start=c.y,c.removalDistance=n.offsetHeight*(e.draggablePercent/100))}}function y(){if(c.boundingRect){var t=c.boundingRect,n=t.top,r=t.bottom,i=t.left,u=t.right;e.pauseOnHover&&c.x>=i&&c.x<=u&&c.y>=n&&c.y<=r?k():g()}}function g(){i(!0)}function k(){i(!1)}function b(t){if(c.canDrag){t.preventDefault();var r=s.current;n&&k(),c.x=hT(t),c.y=dT(t),"x"===e.draggableDirection?c.delta=c.x-c.start:c.delta=c.y-c.start,c.start!==c.x&&(c.canCloseOnClick=!1),r.style.transform="translate"+e.draggableDirection+"("+c.delta+"px)",r.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance))}}function w(){var t=s.current;if(c.canDrag){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return o(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate"+e.draggableDirection+"(0)",t.style.opacity="1"}}(0,r.useEffect)((function(){return ZS(e.onOpen)&&e.onOpen((0,r.isValidElement)(e.children)&&e.children.props),function(){ZS(l.onClose)&&l.onClose((0,r.isValidElement)(l.children)&&l.children.props)}}),[]),(0,r.useEffect)((function(){return e.draggable&&(document.addEventListener("mousemove",b),document.addEventListener("mouseup",w),document.addEventListener("touchmove",b),document.addEventListener("touchend",w)),function(){e.draggable&&(document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",b),document.removeEventListener("touchend",w))}}),[e.draggable]),(0,r.useEffect)((function(){return e.pauseOnFocusLoss&&function(){document.hasFocus()||k();window.addEventListener("focus",g),window.addEventListener("blur",k)}(),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",g),window.removeEventListener("blur",k))}}),[e.pauseOnFocusLoss]);var E={onMouseDown:m,onTouchStart:m,onMouseUp:y,onTouchEnd:y};return f&&h&&(E.onMouseEnter=k,E.onMouseLeave=g),v&&(E.onClick=function(e){p&&p(e),c.canCloseOnClick&&d()}),{playToast:g,pauseToast:k,isRunning:n,preventExitTransition:a,toastRef:s,eventHandlers:E}}function vT(e){var t=e.closeToast,n=e.theme,i=e.ariaLabel,u=void 0===i?"close":i;return(0,r.createElement)("button",{className:"Toastify__close-button Toastify__close-button--"+n,type:"button",onClick:function(e){e.stopPropagation(),t(e)},"aria-label":u},(0,r.createElement)("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},(0,r.createElement)("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function mT(e){var t,n,i=e.delay,u=e.isRunning,a=e.closeToast,o=e.type,s=e.hide,c=e.className,l=e.style,f=e.controlledProgress,h=e.progress,d=e.rtl,p=e.isIn,v=e.theme,m=QS({},l,{animationDuration:i+"ms",animationPlayState:u?"running":"paused",opacity:s?0:1});f&&(m.transform="scaleX("+h+")");var y=KS("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+v,"Toastify__progress-bar--"+o,((t={})["Toastify__progress-bar--rtl"]=d,t)),g=ZS(c)?c({rtl:d,type:o,defaultClassName:y}):KS(y,c),k=((n={})[f&&h>=1?"onTransitionEnd":"onAnimationEnd"]=f&&h<1?null:function(){p&&a()},n);return(0,r.createElement)("div",Object.assign({role:"progressbar","aria-hidden":s?"true":"false","aria-label":"notification timer",className:g,style:m},k))}mT.defaultProps={type:uT.DEFAULT,hide:!1};var yT=["theme","type"],gT=function(e){var t=e.theme,n=e.type,i=YS(e,yT);return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-"+n+")"},i))};var kT={info:function(e){return r.createElement(gT,Object.assign({},e),r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement(gT,Object.assign({},e),r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement(gT,Object.assign({},e),r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement(gT,Object.assign({},e),r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}},bT=function(e){var t,n,i=pT(e),u=i.isRunning,a=i.preventExitTransition,o=i.toastRef,s=i.eventHandlers,c=e.closeButton,l=e.children,f=e.autoClose,h=e.onClick,d=e.type,p=e.hideProgressBar,v=e.closeToast,m=e.transition,y=e.position,g=e.className,k=e.style,b=e.bodyClassName,w=e.bodyStyle,E=e.progressClassName,x=e.progressStyle,A=e.updateId,_=e.role,C=e.progress,I=e.rtl,S=e.toastId,T=e.deleteToast,D=e.isIn,F=e.isLoading,N=e.icon,R=e.theme,O=KS("Toastify__toast","Toastify__toast-theme--"+R,"Toastify__toast--"+d,((t={})["Toastify__toast--rtl"]=I,t)),P=ZS(g)?g({rtl:I,position:y,type:d,defaultClassName:O}):KS(O,g),B=!!C,L=kT[d],M={theme:R,type:d},U=L&&L(M);return!1===N?U=void 0:ZS(N)?U=N(M):(0,r.isValidElement)(N)?U=(0,r.cloneElement)(N,M):JS(N)?U=N:F&&(U=kT.spinner()),(0,r.createElement)(m,{isIn:D,done:T,position:y,preventExitTransition:a,nodeRef:o},(0,r.createElement)("div",Object.assign({id:S,onClick:h,className:P},s,{style:k,ref:o}),(0,r.createElement)("div",Object.assign({},D&&{role:_},{className:ZS(b)?b({type:d}):KS("Toastify__toast-body",b),style:w}),U&&(0,r.createElement)("div",{className:KS("Toastify__toast-icon",(n={},n["Toastify--animate-icon Toastify__zoom-enter"]=!F,n))},U),(0,r.createElement)("div",null,l)),function(e){if(e){var t={closeToast:v,type:d,theme:R};return ZS(e)?e(t):(0,r.isValidElement)(e)?(0,r.cloneElement)(e,t):void 0}}(c),(f||B)&&(0,r.createElement)(mT,Object.assign({},A&&!B?{key:"pb-"+A}:{},{rtl:I,theme:R,delay:f,isRunning:u,isIn:D,closeToast:v,hide:p,type:d,style:x,className:E,controlledProgress:B,progress:C}))))},wT=aT({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),ET=function(e){var t=fT(e),n=t.getToastToRender,i=t.containerRef,u=t.isToastActive,a=e.className,o=e.style,s=e.rtl,c=e.containerId;function l(e){var t,n=KS("Toastify__toast-container","Toastify__toast-container--"+e,((t={})["Toastify__toast-container--rtl"]=s,t));return ZS(a)?a({position:e,rtl:s,defaultClassName:n}):KS(n,eT(a))}return(0,r.createElement)("div",{ref:i,className:"Toastify",id:c},n((function(e,t){var n=0===t.length?QS({},o,{pointerEvents:"none"}):QS({},o);return(0,r.createElement)("div",{className:l(e),style:n,key:"container-"+e},t.map((function(e){var t=e.content,n=e.props;return(0,r.createElement)(bT,Object.assign({},n,{isIn:u(n.toastId),key:"toast-"+n.key,closeButton:!0===n.closeButton?vT:n.closeButton}),t)})))})))};ET.defaultProps={position:iT.TOP_RIGHT,transition:wT,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:vT,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var xT,AT,_T,CT=new Map,IT=[],ST=!1;function TT(){return Math.random().toString(36).substr(2,9)}function DT(e){return e&&(JS(e.toastId)||$S(e.toastId))?e.toastId:TT()}function FT(e,t){return CT.size>0?oT.emit(0,e,t):(IT.push({content:e,options:t}),ST&&nT&&(ST=!1,AT=document.createElement("div"),document.body.appendChild(AT),(0,WS.render)((0,r.createElement)(ET,Object.assign({},_T)),AT))),t.toastId}function NT(e,t){return QS({},t,{type:t&&t.type||e,toastId:DT(t)})}var RT=function(e){return function(t,n){return FT(t,NT(e,n))}},OT=function(e,t){return FT(e,NT(uT.DEFAULT,t))};OT.loading=function(e,t){return FT(e,NT(uT.DEFAULT,QS({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},OT.promise=function(e,t,n){var r=t.pending,i=t.error,u=t.success,a=JS(r)?OT.loading(r,n):OT.loading(r.render,QS({},n,r)),o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},s=function(e,t,r){var i=JS(t)?{render:t}:t;return OT.update(a,QS({type:e},o,n,i,{data:r})),r},c=ZS(e)?e():e;return c.then((function(e){return s("success",u,e)})).catch((function(e){return s("error",i,e)})),c},OT.success=RT(uT.SUCCESS),OT.info=RT(uT.INFO),OT.error=RT(uT.ERROR),OT.warn=OT.warning=RT(uT.WARNING),OT.dark=function(e,t){return FT(e,NT(uT.DEFAULT,QS({theme:"dark"},t)))},OT.dismiss=function(e){return oT.emit(1,e)},OT.clearWaitingQueue=function(e){return void 0===e&&(e={}),oT.emit(5,e)},OT.isActive=function(e){var t=!1;return CT.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},OT.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=CT.get(n||xT);return r?r.getToast(e):null}(e,t);if(n){var r=n.props,i=n.content,u=QS({},r,t,{toastId:t.toastId||e,updateId:TT()});u.toastId!==e&&(u.staleId=e);var a=u.render||i;delete u.render,FT(a,u)}}),0)},OT.done=function(e){OT.update(e,{progress:1})},OT.onChange=function(e){return ZS(e)&&oT.on(4,e),function(){ZS(e)&&oT.off(4,e)}},OT.configure=function(e){void 0===e&&(e={}),ST=!0,_T=e},OT.POSITION=iT,OT.TYPE=uT,oT.on(2,(function(e){xT=e.containerId||e,CT.set(xT,e),IT.forEach((function(e){oT.emit(0,e.content,e.options)})),IT=[]})).on(3,(function(e){CT.delete(e.containerId||e),0===CT.size&&oT.off(0).off(1).off(5),nT&&AT&&document.body.removeChild(AT)})),OT.configure();var PT=function(e){var t=e.TotalPrice,n=e.totalQty,i=e.hideModal,u=x((0,r.useState)(null),2),a=u[0],o=u[1],s=x((0,r.useState)(""),2),c=s[0],l=s[1],f=x((0,r.useState)(t),1)[0],h=x((0,r.useState)(n),1)[0],d=function(){var e=Le(Fe().mark((function e(t){var n,r,u,o,s,l,d;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=CS.currentUser.uid,e.next=4,IS.collection("users").doc(n).get();case 4:return r=e.sent,e.next=7,IS.collection("Buyer-Personal-Info").add({Name:r.data().FullName,Email:r.data().Email,CellNo:a,ResidentialAddress:c,CartPrice:f,CartQty:h});case 7:return e.next=9,IS.collection("Cart "+n).get();case 9:u=e.sent,o=Pe(u.docs),e.prev=11,o.s();case 13:if((s=o.n()).done){e.next=23;break}return l=s.value,(d=l.data()).ID=l.id,e.next=19,IS.collection("Buyer-Cart "+n).add(d);case 19:return e.next=21,IS.collection("Cart "+n).doc(l.id).delete();case 21:e.next=13;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(11),o.e(e.t0);case 28:return e.prev=28,o.f(),e.finish(28);case 31:i(),_e("/"),OT.success("Your order has been placed successfully",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0});case 34:case"end":return e.stop()}}),e,null,[[11,25,28,31]])})));return function(t){return e.apply(this,arguments)}}();return(0,TS.jsx)("div",{className:"shade-area",children:(0,TS.jsxs)("div",{className:"modal-container",children:[(0,TS.jsxs)("form",{className:"form-group",onSubmit:d,children:[(0,TS.jsx)("input",{type:"number",className:"form-control",placeholder:"Cell No",required:!0,onChange:function(e){return o(e.target.value)},value:a}),(0,TS.jsx)("br",{}),(0,TS.jsx)("input",{type:"text",className:"form-control",placeholder:"Residential Address",required:!0,onChange:function(e){return l(e.target.value)},value:c}),(0,TS.jsx)("br",{}),(0,TS.jsx)("label",{children:"Total Quantity"}),(0,TS.jsx)("input",{type:"text",className:"form-control",readOnly:!0,required:!0,value:h}),(0,TS.jsx)("br",{}),(0,TS.jsx)("label",{children:"Total Price"}),(0,TS.jsx)("input",{type:"text",className:"form-control",readOnly:!0,required:!0,value:f}),(0,TS.jsx)("br",{}),(0,TS.jsx)("button",{type:"submit",className:"btn btn-success btn-md",children:"Submit"})]}),(0,TS.jsx)("div",{className:"delete-icon",onClick:function(){i()},children:"x"})]})})};OT.configure();var BT=function(){var e=x((0,r.useState)(!1),2),t=e[0],n=e[1];var i=function(){var e=x((0,r.useState)(null),2),t=e[0],n=e[1];return(0,r.useEffect)((function(){CS.onAuthStateChanged((function(e){e?IS.collection("users").doc(e.uid).get().then((function(e){n(e.data().FullName)})):n(null)}))}),[]),t}(),u=x((0,r.useState)([]),2),a=u[0],o=u[1];(0,r.useEffect)((function(){CS.onAuthStateChanged((function(e){e?IS.collection("Cart "+e.uid).onSnapshot((function(e){var t,n=null===(t=e.docs)||void 0===t?void 0:t.map((function(e){return Oe({ID:e.id},e.data())}));o(n)})):console.log("user is not signed in to retrieve cart")}))}),[]);var s,c=(null===a||void 0===a?void 0:a.map((function(e){return e.qty}))).reduce((function(e,t){return e+t}),0),l=(null===a||void 0===a?void 0:a.map((function(e){return e.TotalProductPrice}))).reduce((function(e,t){return e+t}),0),f=x((0,r.useState)(0),2),h=f[0],d=f[1];(0,r.useEffect)((function(){CS.onAuthStateChanged((function(e){e&&IS.collection("Cart "+e.uid).onSnapshot((function(e){var t=e.docs.length;d(t)}))}))}),[]);var p=function(){var e=Le(Fe().mark((function e(t){var n,r,i,u,a,o,s,c;return Fe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:"All Products",totalPrice:l},e.next=3,HS().post("http://localhost:8080/checkout",{token:t,cart:n});case 3:if(r=e.sent,console.log(r),i=r.data.status,console.log(i),"success"!==i){e.next=18;break}return _e("/"),OT.success("Your order has been placed successfully",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0}),u=CS.currentUser.uid,e.next=13,IS.collection("Cart "+u).get();case 13:a=e.sent,o=Pe(a.docs);try{for(o.s();!(s=o.n()).done;)c=s.value,IS.collection("Cart "+u).doc(c.id).delete()}catch(f){o.e(f)}finally{o.f()}e.next=19;break;case 18:alert("Something went wrong in checkout");case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,TS.jsxs)(TS.Fragment,{children:[(0,TS.jsx)(DS,{user:i,totalProducts:h}),(0,TS.jsx)("br",{}),a.length>0&&(0,TS.jsxs)("div",{className:"cart-container",children:[(0,TS.jsx)("h1",{className:"text-center",children:"Cart"}),(0,TS.jsx)("div",{className:"products-box",children:(0,TS.jsx)(VS,{cartProducts:a,cartProductIncrease:function(e){(s=e).qty=s.qty+1,s.TotalProductPrice=s.qty*s.price,CS.onAuthStateChanged((function(t){t?IS.collection("Cart "+t.uid).doc(e.ID).update(s).then((function(){console.log("increment added")})):console.log("user is not logged in to increment")}))},cartProductDecrease:function(e){(s=e).qty>1&&(s.qty=s.qty-1,s.TotalProductPrice=s.qty*s.price,CS.onAuthStateChanged((function(t){t?IS.collection("Cart "+t.uid).doc(e.ID).update(s).then((function(){console.log("decrement")})):console.log("user is not logged in to decrement")})))}})}),(0,TS.jsxs)("div",{className:"summary-box",children:[(0,TS.jsx)("h5",{children:"Cart Summary"}),(0,TS.jsx)("br",{}),(0,TS.jsxs)("div",{children:["Total No of Products: ",(0,TS.jsx)("span",{children:c})]}),(0,TS.jsxs)("div",{children:["Total Price to Pay: ",(0,TS.jsxs)("span",{children:["$ ",l]})]}),(0,TS.jsx)("br",{}),(0,TS.jsx)(qS.Z,{stripeKey:"pk_test_51Hhu6bK4kL4WRmvGEUkTmdFw1lUtTAnadBSDb0eXGuA2JJGrntIBdm10llYu5RbPbLbaS1My74Rgdi0n5ePYIGB600p3V4GKmK",token:p,billingAddress:!0,shippingAddress:!0,name:"All Products",amount:100*l}),(0,TS.jsx)("h6",{className:"text-center",style:{marginTop:"7px"},children:"OR"}),(0,TS.jsx)("button",{className:"btn btn-secondary btn-md",onClick:function(){n(!0)},children:"Cash on Delivery"})]})]}),a.length<1&&(0,TS.jsx)("div",{className:"container-fluid",children:"No products to show"}),!0===t&&(0,TS.jsx)(PT,{TotalPrice:l,totalQty:c,hideModal:function(){n(!1)}})]})},LT=function(){return(0,TS.jsxs)(Se,{children:[(0,TS.jsx)(Ce,{exact:!0,path:"/",element:(0,TS.jsx)(RS,{})}),(0,TS.jsx)(Ce,{path:"/signup",element:(0,TS.jsx)(PS,{})}),(0,TS.jsx)(Ce,{path:"/login",element:(0,TS.jsx)(OS,{})}),(0,TS.jsx)(Ce,{path:"/add-products",element:(0,TS.jsx)(LS,{})}),(0,TS.jsx)(Ce,{path:"/cart",element:(0,TS.jsx)(BT,{}),children:" "}),(0,TS.jsx)(Ce,{element:(0,TS.jsx)(BS,{})})]})},MT=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,u=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),u(e),a(e)}))};u.createRoot(document.getElementById("root")).render((0,TS.jsx)(Ve,{children:(0,TS.jsx)(LT,{})})),MT()}()}();
//# sourceMappingURL=main.534b94a9.js.map